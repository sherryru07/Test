/* BuildVersion: 4.0.0.64 */(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(Q){if(this==null){throw new TypeError()}var R=Object(this);var O=R.length>>>0;if(O===0){return -1}var S=0;if(arguments.length>0){S=Number(arguments[1]);if(S!=S){S=0}else{if(S!=0&&S!=Infinity&&S!=-Infinity){S=(S>0||-1)*Math.floor(Math.abs(S))}}}if(S>=O){return -1}var P=S>=0?S:Math.max(O-Math.abs(S),0);for(;P<O;P++){if(P in R&&R[P]===Q){return P}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(Q){if(this==null){throw new TypeError()}var R=Object(this);var O=R.length>>>0;if(O===0){return -1}var S=O;if(arguments.length>1){S=Number(arguments[1]);if(S!=S){S=0}else{if(S!=0&&S!=(1/0)&&S!=-(1/0)){S=(S>0||-1)*Math.floor(Math.abs(S))}}}var P=S>=0?Math.min(S,O-1):O-Math.abs(S);for(;P>=0;P--){if(P in R&&R[P]===Q){return P}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(P){if(this==null){throw new TypeError()}var T=Object(this);var O=T.length>>>0;if(typeof P!="function"){throw new TypeError()}var S=[];var R=arguments[1];for(var Q=0;Q<O;Q++){if(Q in T){var U=T[Q];if(P.call(R,U,Q,T)){S.push(U)}}}return S}}if(!Array.prototype.forEach){Array.prototype.forEach=function(W,Q){var S,R;if(this==null){throw new TypeError("this is null or not defined")}var V=Object(this);var P=V.length>>>0;if({}.toString.call(W)!="[object Function]"){throw new TypeError(W+" is not a function")}if(Q){S=Q}R=0;while(R<P){var U;if(R in V){U=V[R];W.call(S,U,R,V)}R++}}}if(!Array.prototype.every){Array.prototype.every=function(P){if(this==null){throw new TypeError()}var S=Object(this);var O=S.length>>>0;if(typeof P!="function"){throw new TypeError()}var R=arguments[1];for(var Q=0;Q<O;Q++){if(Q in S&&!P.call(R,S[Q],Q,S)){return false}}return true}}if(!Array.prototype.map){Array.prototype.map=function(Y,X){var Q,P,R;if(this==null){throw new TypeError(" this is null or not defined")}var U=Object(this);var V=U.length>>>0;if({}.toString.call(Y)!="[object Function]"){throw new TypeError(Y+" is not a function")}if(X){Q=X}P=new Array(V);R=0;while(R<V){var S,W;if(R in U){S=U[R];W=Y.call(Q,S,R,U);P[R]=W}R++}return P}}if(!Array.prototype.some){Array.prototype.some=function(P){if(this==null){throw new TypeError()}var S=Object(this);var O=S.length>>>0;if(typeof P!="function"){throw new TypeError()}var R=arguments[1];for(var Q=0;Q<O;Q++){if(Q in S&&P.call(R,S[Q],Q,S)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function k(P){if(this===null||this===j){throw new TypeError("Object is null or undefined")}var Q=0,O=this.length>>0,R;if(typeof P!=="function"){throw new TypeError("First argument is not callable")}if(arguments.length<2){if(O===0){throw new TypeError("Array length is 0 and no second argument")}R=this[0];Q=1}else{R=arguments[1]}while(Q<O){if(Q in this){R=P.call(j,R,this[Q],Q,this)}++Q}return R}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(P){if(this==null){throw new TypeError()}var S=Object(this);var O=S.length>>>0;if(typeof P!="function"){throw new TypeError()}if(O===0&&arguments.length===1){throw new TypeError()}var R=O-1;var Q;if(arguments.length>=2){Q=arguments[1]}else{do{if(R in this){Q=this[R--];break}if(--R<0){throw new TypeError()}}while(true)}while(R>=0){if(R in S){Q=P.call(j,Q,S[R],R,S)}R--}return Q}}if(!Function.prototype.bind){Function.prototype.bind=function(O){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var S=Array.prototype.slice.call(arguments,1),R=this,P=function(){},Q=function(){return R.apply(this instanceof P?this:O,S.concat(Array.prototype.slice.call(arguments)))};P.prototype=this.prototype;Q.prototype=new P();return Q}}if(!Object.create){Object.create=function(P){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function O(){}O.prototype=P;return new O()}}function x(S,P){function T(Z){function U(aa,ab){return Object.prototype.hasOwnProperty.call(aa,ab)}function Y(aa){return typeof aa==="function"}if(typeof Z!=="object"||Z===null){throw new TypeError("bad desc")}var X={};if(U(Z,"enumerable")){X.enumerable=!!S.enumerable}if(U(Z,"configurable")){X.configurable=!!S.configurable}if(U(Z,"value")){X.value=S.value}if(U(Z,"writable")){X.writable=!!Z.writable}if(U(Z,"get")){var W=Z.get;if(!Y(W)&&W!=="undefined"){throw new TypeError("bad get")}X.get=W}if(U(Z,"set")){var V=Z.set;if(!Y(V)&&V!=="undefined"){throw new TypeError("bad set")}X.set=V}if(("get" in X||"set" in X)&&("value" in X||"writable" in X)){throw new TypeError("identity-confused descriptor")}return X}if(typeof S!=="object"||S===null){throw new TypeError("bad obj")}P=Object(P);var Q=Object.keys(P);var R=[];for(var O=0;O<Q.length;O++){R.push([Q[O],T(P[Q[O]])])}for(var O=0;O<R.length;O++){Object.defineProperty(S,R[O][0],R[O][1])}return S}if(!Object.keys){Object.keys=(function(){var Q=Object.prototype.hasOwnProperty,R=!({toString:null}).propertyIsEnumerable("toString"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],O=P.length;return function(U){if(typeof U!=="object"&&typeof U!=="function"||U===null){throw new TypeError("Object.keys called on non-object")}var S=[];for(var V in U){if(Q.call(U,V)){S.push(V)}}if(R){for(var T=0;T<O;T++){if(Q.call(U,P[T])){S.push(P[T])}}}return S}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(O){return O.__proto__}}else{Object.getPrototypeOf=function(O){return O.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var j=void (0);if(window.sap!==j&&window.sap.riv!==j&&window.sap.riv.module!==j){return}var n=jQuery!==j?true:false;var o=function(O){if(n){if(jQuery.holdReady){jQuery.holdReady(O)}else{if(O){jQuery.readyWait+=1}else{jQuery.ready(true)}}}};var f=j;var I="/";var h=document.getElementsByTagName("script");var s=function(){};if(h.length&&h[h.length-1].getAttribute("src")&&h[h.length-1].getAttribute("src").lastIndexOf("sap.viz.base.js")){f=h[h.length-1];if(((f.getAttribute("trace")||"").toLowerCase()==="true")&&(typeof console!==j)){s=function(O){console.log(O)}}var I=f.getAttribute("base-url");if(!I){var r=f.getAttribute("src");I=r.substring(0,r.lastIndexOf("/"))}if(I.charAt(I.length-1)!=="/"){I=I+"/"}}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var G=0,i=1,l=2,B=3;var c=Object.prototype.hasOwnProperty;var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var N=function(O){return O==null?String(O):a[Object.prototype.toString.call(O)]||"object"};var m=function(O){return N(O)==="function"};var u=Array.isArray||function(O){return N(O)==="array"};var g=function(O){return N(O)==="string"};var F=function(O){return O&&typeof O==="object"&&"setInterval" in O};var M=function(O){return O==null||!/\d/.test(O)||M(O)};var L=function(O){return !M(parseFloat(O))&&isFinite(O)};var t=function(O){return typeof(O)!=="undefined"};var p=function(O){return typeof(O)==="undefined"};var K=function(P){if(!P||N(P)!=="object"||P.nodeType||F(P)){return false}if(P.constructor&&!c.call(P,"constructor")&&!c.call(P.constructor.prototype,"isPrototypeOf")){return false}var O;for(O in P){}return O===j||c.call(P,O)};var C=function(P){for(var O in P){return false}return true};var e=function(P,O){this._qname=P;this._version=O;this._moduleSetupFunc=j;this._status=G;this._moduleObject=j;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];o(true)};e.prototype.moduleObject=function(O){return this._moduleObject};e.prototype.setupFunction=function(O){if(t(O)){this._moduleSetupFunc=O;return this}else{return this._moduleSetupFunc}};e.prototype.setModuleObject=function(O){this._moduleObject=O};e.prototype.qname=function(){return this._qname};e.prototype.version=function(){return this._version};e.prototype.status=function(O){if(O!==j){this._status=O;return this}else{return this._status}};e.prototype.dependentModules=function(O){if(t(O)){this._depList=O;return this}else{return this._depList}};e.prototype.exportToGlobal=function(O){if(t(O)){this._exportToGlobal=O;return this}else{return this._exportToGlobal}};e.prototype.waitUntilDefined=function(O){this._pendingDefTaskList.push(O)};e.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var J={};var E={};var q=function(Q){if(!E.hasOwnProperty(Q)){E[Q]=false;var R=document.getElementsByTagName("head")[0]||document.documentElement;var P=document.createElement("script");P.type="text/javascript";P.src=Q;var O=false;P.onload=P.onreadystatechange=function(){if(!O&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){O=true;P.onload=P.onreadystatechange=null;if(R&&P.parentNode){R.removeChild(P)}E[Q]=true}};if(P.addEventListener){P.addEventListener("error",function(){throw new Error("Loading "+Q+" failed.")},true)}R.insertBefore(P,R.firstChild)}return j};var d=function(P){if(P===j||typeof P!=="string"){return false}var R=P.split(".");if(R.length>3){return false}for(var Q=0,O=R.length;Q<O;Q++){if(parseInt(R[Q])===NaN){return false}}return true};var z=function(R,O){var P=R.split(".");var Q=P.splice(P.length-1,1);return I+P.join("/")+"/"+Q+"."+O+".js"};var A=function(U){var O;if(m(U.setupFunction())){var W=[];for(var S=0,R,Z=U.dependentModules(),V=Z.length;S<V;S++){R=Z[S];W.push(J[R.qname][R.version].moduleObject())}O=U.setupFunction().apply(window,W)}else{O=U.moduleObject()}if(U.exportToGlobal()){var X=U.qname().split(".");var T=window;for(var S=0,Q,V=X.length;S<V;S++){Q=X[S];if(S===V-1){T[Q]=O}else{T[Q]=T[Q]||{};T=T[Q]}}}U.setModuleObject(O);U.status(l);s(U.qname()+" "+U.version()+" loaded");var Y=U.getPendingDefTasks();while(Y.length){var P=Y.pop();P(U)}o(false)};var v=function(P,O){return(function(Q){delete P[Q.qname()][Q.version()];if(C(P[Q.qname()])){delete P[Q.qname()]}if(C(P)){A(O)}})};sap.riv.module=function(Q,Z,U){if(p(Q)||p(Q.qname)||p(Q.version)){throw new Error("Bad Arguments: you have to specify the qname and version for the module.")}if(!g(Q.qname)||!d(Q.version)){throw new Error("Invalid qname or version string")}if(arguments.length===2){if(!K(Z)&&!m(Z)){throw new Error("You must specify a plain object or a module setup function")}U=Z;Z=[]}if(arguments.length===3){if(!u(Z)||(!K(U)&&!m(U))){throw new Error("Dependencies must be array, and you must specify an plain object or a module setup function")}}var O=Q.qname,Y=Q.version,V=p(Q.exported)?false:Q.exported,W;if(!c.call(J,O)||!c.call(J,Y)){J[O]=J[O]||{};J[O][Y]=J[O][Y]||new e(O,Y)}W=J[O][Y];if(W.status()===G){if(typeof U==="object"){W.exportToGlobal(V).setModuleObject(U)}else{var S=[];for(var T=0,P,X=Z.length;T<X;T++){P=Z[T];if(!g(P.qname)||!d(P.version)){throw new Error("You must specify qname and version for the depending module")}S.push({qname:P.qname,version:P.version})}W.exportToGlobal(V).dependentModules(S).setupFunction(U)}}if(W.status()===l||W.status()===i){return}W.status(i);if(W.dependentModules().length===0){A(W);return}else{var R={};for(var T=0,aa,S=W.dependentModules(),X=S.length;T<X;T++){aa=S[T];if(!(c.call(J,aa.qname)&&c.call(J[aa.qname],aa.version))||(J[aa.qname][aa.version].status()!==l)){R[aa.qname]=R[aa.qname]||{};R[aa.qname][aa.version]=R[aa.qname][aa.version]||{qname:aa.qname,version:aa.version,url:aa.url||z(aa.qname,aa.version)}}}if(C(R)){A(W);return}else{for(var O in R){for(var Y in R[O]){if(!c.call(J,O)||!c.call(J[O],Y)){J[O]=J[O]||{};J[O][Y]=J[O][Y]||new e(O,Y);J[O][Y].waitUntilDefined(v(R,W));q(R[O][Y].url)}else{J[O][Y].waitUntilDefined(v(R,W))}}}}}};var w=function(S,P){var Q=[];for(var R=0,T,O=P.length;R<O;R++){T=P[R];Q.push(J[T.qname][T.version].moduleObject())}S.apply(window,Q)};var H=function(P,Q,O){return(function(R){delete P[R.qname()][R.version()];if(C(P[R.qname()])){delete P[R.qname()]}if(C(P)){w(Q,O)}})};sap.riv.require=function(S,Q){if(arguments.length===1){if(!m(S)){throw new Error("You have to specify a function to run")}Q=S;S=[]}if(arguments.length===2){if(!u(S)||!m(Q)){throw new Error("the first argument has to be array of depending modules, the second argument should be function type")}}if(!S.length){w(Q,S);return}var U={};for(var R=0,T,O=S.length;R<O;R++){T=S[R];if(!(c.call(J,T.qname)&&c.call(J[T.qname],T.version))||(J[T.qname][T.version].status()!==l)){U[T.qname]=U[T.qname]||{};U[T.qname][T.version]=U[T.qname][T.version]||{qname:T.qname,version:T.version,url:T.url||z(T.qname,T.version)}}}if(C(U)){w(Q,S);return}else{for(var V in U){for(var P in U[V]){if(!c.call(J,V)||!c.call(J[V],P)){J[V]=J[V]||{};J[V][P]=J[V][P]||new e(V,P);J[V][P].waitUntilDefined(H(U,Q,S));q(U[V][P].url)}else{J[V][P].waitUntilDefined(H(U,Q,S))}}}}};var D=function(Q){if(Q&&/\S/.test(Q)){var P=document.getElementsByTagName("head")[0]||document.documentElement,O=document.createElement("script");O.type="text/javascript";try{O.appendChild(document.createTextNode(Q))}catch(R){O.text=Q}P.insertBefore(O,P.firstChild);P.removeChild(O)}};sap.riv.setBaseUrl=function(O){I=O};if(f){var b=f.innerHTML;if(b){D(b)}}})();sap.riv.module({qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"},[],function Setup(){var a={drawBound:function(d,c,b){if(d.select(".bound").node()==null){d.insert("rect",":first-child").attr("class","bound").attr("width",c).attr("height",b).attr("visibility","hidden")}else{d.select(".bound").attr("width",c).attr("height",b)}}};return a});sap.riv.module({qname:"sap.viz.Locale",version:"4.0.0",exported:true},[],function Setup(f,b){var a="en",c=[];function d(g){c.forEach(function(h){h.fn.apply(h.scope,[g])})}var e={constructor:function(){return},locale:function(g){if(!arguments.length){return a}a=g;d(a);return e},addListener:function(g){c.push(g);return e},removeListener:function(h){var g=c.indexOf(h);if(g!=-1){c.splice(g,1)}return e}};return e});sap.riv.module({qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},[],function Setup(){var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var b=Object.prototype.hasOwnProperty;var e=/\d/;var d=function(f){return f==null?String(f):c[Object.prototype.toString.call(f)]||"object"};var a={isFunction:function(f){return d(f)==="function"},isArray:Array.isArray||function(f){return d(f)==="array"},isString:function(f){return d(f)==="string"},isNonEmptyString:function(f){return this.isString(f)&&f.length!==0},isEmptyString:function(f){return this.isString(f)&&f.length===0},isNaN:function(f){return f===null||f===undefined||!e.test(f)||isNaN(f)},isNumber:function(f){return !this.isNaN(parseFloat(f))&&isFinite(f)},isDefined:function(f){return typeof(f)!=="undefined"},isUndefined:function(f){return typeof(f)==="undefined"},isPlainObject:function(g){if(!g||d(g)!=="object"||g.nodeType||(g&&typeof g==="object"&&"setInterval" in g)){return false}if(g.constructor&&!b.call(g,"constructor")&&!b.call(g.constructor.prototype,"isPrototypeOf")){return false}var f;for(f in g){}return f===undefined||b.call(g,f)},isEmptyObject:function(g){for(var f in g){return false}return this.isPlainObject(g)},isExist:function(f){if((typeof(f)==="undefined")||(f===null)){return false}return true}};return a});sap.riv.module({qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var d=/\{(\d+)\}/g;var b=function(){};var c={noop:b,unsupported:function(){throw new Error("Unsupported function!")},unimplemented:function(){throw new Error("Unimplemented function!")},error:function(f){var e=arguments;if(e[0]){var f=e[0].replace(d,function(g,h){return e[parseInt(h)+1]});throw f}else{throw"unknown error!"}},createCallChain:function(){var e=arguments.length;if(e>1){var g=[];for(var f=0;f<e;f++){if(a.isFunction(arguments[f])){g.push(arguments[f])}else{c.error("Could not create call chain for non-function object")}}return(function(){for(var h=0;h<e;h++){g[h].apply(this,arguments)}})}else{return a.isFunction(arguments[0])?arguments[0]:b}}};return c});sap.riv.module({qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a,j){var f=function(){};var d=/^\s+/,h=/\s+$/,g=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c=/(?:^|:|,)(?:\s*\[)+/g;var b=b?function(l){return l==null?"":b.call(l)}:function(l){return l==null?"":l.toString().replace(d,"").replace(h,"")};var e={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var m=Math.random()*16|0,l=n=="x"?m:m&3|8;return l.toString(16)})},proxy:function(n,m,l){if(arguments.length===2){if(typeof m==="string"){l=n;n=l[m];m=undefined}else{if(m&&!a.isFunction(m)){l=m;m=undefined}}}if(!m&&n){m=function(){return n.apply(l||this,arguments)}}return m},extend:function(){var u,n,l,m,r,s,q=arguments[0]||{},p=1,o=arguments.length,t=false;if(typeof q==="boolean"){t=q;q=arguments[1]||{};p=2}if(typeof q!=="object"&&!a.isFunction(q)){q={}}if(o===p){q=this;--p}for(;p<o;p++){if((u=arguments[p])!=null){for(n in u){l=q[n];m=u[n];if(q===m){continue}if(t&&m&&(a.isPlainObject(m)||(r=a.isArray(m)))){if(r){r=false;s=l&&a.isArray(l)?l:[]}else{s=l&&a.isPlainObject(l)?l:{}}q[n]=e.extend(t,s,m)}else{if(m!==undefined){q[n]=m}}}}}return q},each:function(o,s,n){var m,p=0,q=o.length,l=q===undefined||a.isFunction(o);if(n){if(l){for(m in o){if(s.apply(o[m],n)===false){break}}}else{for(;p<q;){if(s.apply(o[p++],n)===false){break}}}}else{if(l){for(m in o){if(s.call(o[m],m,o[m])===false){break}}}else{for(var r=o[0];p<q&&s.call(r,p,r)!==false;r=o[++p]){}}}return o},parseJSON:function(l){if(typeof l!=="string"||!l){return null}l=b(l);if(g.test(l.replace(k,"@").replace(i,"]").replace(c,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(l):(new Function("return "+l))()}else{a.error("Invalid JSON: "+l)}},derive:function(o,s){var r;var v;if(typeof o==="function"){if(typeof s==="function"){if(s.prototype.constructor==Object.prototype.constructor){s.prototype.constructor=s}f.prototype=s.prototype;var q=new f();var l=o.prototype;for(var m in l){if(l.hasOwnProperty(m)){q[m]=l[m]}}r=j.createCallChain(s,o);v=r.prototype=q;v.constructor=r;v.superclass=s.prototype;v.callParent=(function(){var p=[];return function(){var B=arguments[0];if(!p.length){p.push({funcName:B,thisObj:this,level:0})}else{if(p[p.length-1].funcName!==B||p[p.length-1].thisObj!==this){p.push({funcName:B,thisObj:this,level:0})}}var A=p[p.length-1].level;var z=this.superclass;while(A--){z=z.superclass}p[p.length-1].level++;var w=[];for(var x=1;x<arguments.length;x++){w.push(arguments[x])}z[B].apply(p[p.length-1].thisObj,w);p[p.length-1].level--;if(!p[p.length-1].level){p.pop()}}})();r.superclazz=s;return r}else{if(typeof s==="object"){var n=o;var t=s;var u=n.prototype;f.prototype=u;var q=new f();r=j.createCallChain(n,t.constructor);v=r.prototype=q;for(m in t){if(t.hasOwnProperty(m)){v[m]=t[m]}}v.constructor=r;v.superclass=n.prototype;v.callParent=(function(){var p=[];return function(){var B=arguments[0];if(!p.length){p.push({funcName:B,thisObj:this,level:0})}else{if(p[p.length-1].funcName!==B||p[p.length-1].thisObj!==this){p.push({funcName:B,thisObj:this,level:0})}}var A=p[p.length-1].level;var z=this.superclass;while(A--){z=z.superclass}p[p.length-1].level++;var w=[];for(var x=1;x<arguments.length;x++){w.push(arguments[x])}z[B].apply(p[p.length-1].thisObj,w);p[p.length-1].level--;if(!p[p.length-1].level){p.pop()}}})();r.superclazz=n}}}return r}};return e});sap.riv.module({qname:"sap.viz.lang.langManager",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.Locale",version:"4.0.0"}],function Setup(h,e,b,a){function o(t,q,v){var u=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type="text/javascript";s.src=t;var r=false;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){r=true;s.onload=s.onreadystatechange=null;if(u&&s.parentNode){u.removeChild(s)}q()}};if(s.addEventListener){s.addEventListener("error",function(){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s);v()},true)}u.insertBefore(s,u.firstChild)}function p(s,u,x,q,w){if(u<s.length){var t=s[u]+"language_"+x+".js";var r=function(){p(s,u+1,x,q,w)};o(t,r,r)}else{var v=d(x);if(v){q(v)}else{w()}}}function m(){var q=d3.map();q.set("ar_AE","ar");q.set("ar_EG","ar");q.set("ar_SA","ar");q.set("bg_BG","bg");q.set("ca_ES","ca");q.set("cs_CZ","cs");q.set("da_DK","da");q.set("de_CH","de");q.set("de_AT","de");q.set("de_BE","de");q.set("de_LU","de");q.set("de_DE","de");q.set("el_CY","el");q.set("el_GR","el");q.set("en_AU","en");q.set("en_CA","en");q.set("en_GB","en");q.set("en_HK","en");q.set("en_ID","en");q.set("en_IE","en");q.set("en_IN","en");q.set("en_IS","en");q.set("en_MY","en");q.set("en_NZ","en");q.set("en_PH","en");q.set("en_SG","en");q.set("en_US","en");q.set("en_ZA","en");q.set("es_AR","es");q.set("es_BO","es");q.set("es_CL","es");q.set("es_CO","es");q.set("es_ES","es");q.set("es_MX","es");q.set("es_PE","es");q.set("es_UY","es");q.set("es_VE","es");q.set("et_EE","et");q.set("fa_IR","fa");q.set("fi_FI","fi");q.set("fr_BE","fr");q.set("fr_CA","fr");q.set("fr_CH","fr");q.set("fr_FR","fr");q.set("fr_LU","fr");q.set("he_IL","iw");q.set("hr_HR","hr");q.set("hu_HU","hu");q.set("it_CH","it");q.set("it_IT","it");q.set("ja_JP","ja");q.set("ko_KR","ko");q.set("lt_LT","lt");q.set("lv_LV","lv");q.set("nl_BE","nl");q.set("nl_NL","nl");q.set("nn_NO","no");q.set("pl_PL","pl");q.set("pt_BR","pt");q.set("pt_PT","pt");q.set("ro_RO","ro");q.set("ru_KZ","ru");q.set("ru_RU","ru");q.set("ru_UA","ru");q.set("sh_ME","sr");q.set("sh_RS","sr");q.set("sk_SK","sk");q.set("sl_SL","sl");q.set("sv_SE","sv");q.set("th_TH","th");q.set("tr_CY","tk");q.set("tr_TR","tk");q.set("uk_UA","uk");q.set("vi_VI","vi");q.set("zf_TW","zh_TW");q.set("zh_CN","zh_CN");q.set("zh_HK","zh_CN");q.set("ar","ar");q.set("bg","bg");q.set("ca","ca");q.set("cs","cs");q.set("da","da");q.set("de","de");q.set("el","el");q.set("en","en");q.set("es","es");q.set("et","et");q.set("fi","fi");q.set("fr","fr");q.set("iw","iw");q.set("hr","hr");q.set("hu","hu");q.set("it","it");q.set("ja","ja");q.set("ko","ko");q.set("lt","lt");q.set("lv","lv");q.set("nl","nl");q.set("no","no");q.set("pl","pl");q.set("pt","pt");q.set("ro","ro");q.set("ru","ru");q.set("sr","sr");q.set("sk","sk");q.set("sl","sl");q.set("sv","sv");q.set("th","th");q.set("tk","tk");q.set("uk","uk");q.set("vi","vi");q.set("zh_TW","zh_TW");return q}var k=[];var l=m();function g(q){k.forEach(function(r){r.fn.apply(r.scope,[c])});if(q){q()}}function d(q){return n[q]}var n={};var c=n.dev={IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TREEMAPCHART:"Tree Map",IDS_GEOBUBBLE:"Geo Bubble Chart",IDS_GEOPIE:"Geo Pie Chart",IDS_CHOROPLETH:"Geo Choropleth Chart",IDS_MULTIGEOBUBBLE:"Multiple Geo Bubble Chart",IDS_MULTICHOROPLETH:"Multiple Geo Choropleth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tag Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",IDS_MEKKOCHART:"Mekko Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multi Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multi Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multi 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multi 100% Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart"};var j="dev",i="en";var f={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return j},register:function(q){j=q.id;c=n[q.id]=e.extend(true,n[q.id],q.value);return f},apply:function(r,q){if(r){r=l.get(r);p(f.loadPath,0,r,function(){g(q)},function(){p(f.loadPath,0,i,function(){g(q);h.error("Loading language {0} failed.",r)},function(){j="dev",c=n.dev;g(q);h.error("Loading language {0}, {1} failed.",r,i)})})}return f},get:function(q){if(c[q]){return c[q]}return n.dev[q]},addListener:function(q){k.push(q);return f},removeListener:function(r){var q=k.indexOf(r);if(q!=-1){k.splice(q,1)}return f}};a.addListener({fn:function(q,r){f.apply(q,r)},scope:f});return f});sap.riv.module({qname:"sap.viz.util.Objects",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var b={extend:function(){var m,e,c,d,j,k,h=arguments[0]||{},g=1,f=arguments.length,l=false;if(typeof h==="boolean"){l=h;h=arguments[1]||{};g=2}if(typeof h!=="object"&&!a.isFunction(h)){h={}}if(f===g){h=this;--g}for(;g<f;g++){if((m=arguments[g])!==null){for(e in m){if(m.hasOwnProperty(e)){c=h[e];d=m[e];if(h===d){continue}if(l&&d&&(a.isPlainObject(d))){if(j){j=false;k=c&&a.isArray(c)?c:[]}else{k=c&&a.isPlainObject(c)?c:{}}h[e]=b.extend(l,k,d)}else{if(d!==undefined){h[e]=d}}}}}}return h},equal:function(f,d){if(typeof arguments[0]!==typeof arguments[1]){return false}if(f===undefined){if(d!==undefined){return false}}if(f===null){if(d!==null){return false}}if(f instanceof Array){if(!(d instanceof Array)){return false}if(f.length!==d.length){return false}var h=true;for(var e=0;e<f.length;e++){if(typeof f[e]!==typeof d[e]){return false}if(typeof f[e]==="boolean"||typeof f[e]==="number"||typeof f[e]==="string"||typeof f[e]==="undefined"||f[e]===null){h=(f[e]===d[e])}else{if(f[e] instanceof Object){h=this.equal(f[e],d[e])}else{return false}}if(!h){return false}}return true}if(f instanceof Object&&d instanceof Object&&typeof f!=="function"&&typeof d!=="function"){if(d===null||d instanceof Array){return false}var j=0,g=0;var c;for(c in f){if(f.hasOwnProperty(c)){if(typeof f[c]==="boolean"||typeof f[c]==="number"||typeof d[c]==="string"||typeof f[c]==="undefined"||f[c]===null){if(f[c]!==d[c]){return false}}else{if(!this.equal(f[c],d[c])){return false}}j++}}for(c in d){if(d.hasOwnProperty(c)){g++}}if(j!==g){return false}return true}return f===d}};return b});sap.riv.module({qname:"sap.viz.Constants",version:"4.0.0"},[],function Setup(){var a={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]};a.SAPColor=a.SAPColorSingleAxis;return a});sap.riv.module({qname:"sap.viz.data.description.DataContainer",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"}],function Setup(b){var a=function(c){this._uId=c;this._isFake=false;this._infos=null};a.prototype.getId=function(){return this._uId};a.prototype.fake=function(c){if(!arguments.length){return this._isFake}this._isFake=c};a.prototype.infos=function(c){if(!arguments.length){return this._infos}this._infos=c};return a});sap.riv.module({qname:"sap.viz.data.description.DimensionLabels",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.0"}],function Setup(c,b){var a=c.derive(b,{constructor:function(e,f,d){this._type=f;this._values=d},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:"sap.viz.data.feed.feed",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a){return function(s,o,e,m,p,d,c,l,n){var g=s;var u=o;var q=e;var r=m;var t=p;var k=d;var i=c;var b=l;var f=n;var j=[];function h(){return h}h.feedId=function(v){if(!arguments.length){return g}g=v;return h};h.feedName=function(v){if(!arguments.length){return u}u=v;return h};h.type=function(v){if(!arguments.length){return q}q=v;return h};h.min=function(v){if(!arguments.length){return r}r=v;return h};h.max=function(v){if(!arguments.length){return t}t=v;return h};h.analysisAxisIndex=function(v){if(!arguments.length){return k}k=v;return h};h.measureGroupIndex=function(v){if(!arguments.length){return b}b=v;return h};h.acceptMND=function(v){if(!arguments.length){return i}i=v;return h};h.maxStackedDims=function(v){if(!arguments.length){return f}f=v;return h};h.data=function(v){if(!arguments.length){return j}j=v;return h};h.addData=function(v){j.push(v);return h};h.getMeasureNames=function(){var w=b-1;var x=[];for(var v=0;v<j.length;v++){x.push({val:j[v]["name"],ctx:{mg:w,mi:v}})}return x};h.getMeasureValues=function(){var v=[];if(j.length>0){return j[0].getMeasureValues()}return v};h.getMeasureCount=function(){return j.length};h.hasMNDFeeded=function(){var w=h.data();for(var v=0;v<w.length;v++){if(w[v].getType()==="measureNamesDimension"){return true}}return false};h.hasFeeded=function(){return h.data().length>0?true:false};h.getIndex=function(){return h.analysisAxisIndex()?h.analysisAxisIndex():h.measureGroupIndex()};h.getDataCount=function(){if(h.type()==="Dimension"){return h.data().length}else{return h.data().length>0?h.data()[0].getMeasureValues().length:0}};return h}});sap.riv.module({qname:"sap.viz.data.feed.feeder",version:"4.0.0"},[{qname:"sap.viz.data.feed.feed",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.0"}],function Setup(c,d,a,b){return function(s,m,u){var n="Dimension";var h="Measure";var t="feedId";var r="binding";var p="type";var w="index";var i=[];var o=[];var e=[];var f={};var v=[];function g(){return g}g.init=function(){j(s);if(m){if(u){k(m,u)}else{l(m)}g.checkValid()}};g.getFeeds=function(){return e};g.findFeed=function(x){return f[x]};g.getAnalysisAxisIndex=function(z){for(var x=0;x<i.length;x++){if(i[x]===z){return x}}};g.getMeasureValuesGroupIndex=function(z){for(var x=0;x<o.length;x++){if(o[x]===z){return x}}};g.getMeasureValuesGroupFeeds=function(){return o};g.checkValid=function(){for(var x=0;x<e.length;x++){var z=e[x];var A;if(z.type()==="Dimension"){A=z.getDataCount();if(A<z.min()||(z.max()!==Number.POSITIVE_INFINITY&&A>z.max())){d.error(z.feedId()+": does not meet min or max number of feed definition")}}else{if(z.type()==="Measure"){A=z.getDataCount();if(A<z.min()||(z.max()!==Number.POSITIVE_INFINITY&&A>z.max())){d.error(z.feedId()+": does not meet min or max number of feed definition")}}else{d.error(z.feedId()+": wrong feed type")}}}};g.getBindingInfo=function(){return v};function j(D){if(a.isArray(D)){var A=0;for(var C=0;C<D.length;C++){var z=D[C]["type"];var x=D[C]["aaIndex"];var B=D[C]["id"];if(z!==n&&z!==h){d.error("wrong feed type in feed definition: "+D[C]["id"])}if(D[C]["type"]===n){if(D[C]["aaIndex"]<=0){d.error("wrong analysis axis index in feed definition: "+D[C]["id"])}A++}if(D[C]["type"]===h){if(D[C]["mgIndex"]<=0){d.error("wrong  measure axis index in feed definition: "+D[C]["id"])}}var E=e.push(c(B,D[C]["name"],z,D[C]["min"],D[C]["max"],x,D[C]["acceptMND"],D[C]["mgIndex"],D[C]["maxStackedDims"]));f[B]=e[E-1]}for(C=0;C<A;C++){v[C]=false}}}function l(D){var C=D.getAnalysisAxisCount();var B;for(var x=0;x<C;x++){B=q(e,n,x+1);if(B){var z=D.getAnalysisAxisByIdx(x);if(a.isExist(B.maxStackedDims())&&z.getDimensionLabels().length>B.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+B.feedId()+" feed")}i[x]=B;v[x]=true;B.addData(z)}}var A=D.getMeasureValuesGroupCount();for(x=0;x<A;x++){B=q(e,h,x+1);if(B){o[x]=B;B.addData(D.getMeasureValuesGroupByIdx(x))}}}function q(x,B,z){for(var A=0;A<x.length;A++){if(x[A].type()===B&&x[A].getIndex()===z){return x[A]}}return null}function k(D,I){var B;for(var F=0;F<I.length;F++){var G=I[F];var C=G[t];if(!C){d.error("Invalid Feeding: no feed id")}var K=f[C];if(!K){d.error("Invalid Feeding: no "+C+" feed")}var z=G[r];for(var E=0;E<z.length;E++){var J=z[E][p];var H=z[E][w];if(J==="analysisAxis"){var x=D.getAnalysisAxisByIdx(H-1);if(!x){d.error("could not find axis "+H+" in data set"+C+" feed")}if(a.isExist(K.maxStackedDims())&&x.getDimensionLabels().length>K.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(x);i[H-1]=K;v[K.getIndex()-1]=true}else{if(J==="measureValuesGroup"){var A=D.getMeasureValuesGroupByIdx(H-1);if(!A){d.error("could not find measure values group "+H+" in data set"+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(A);o[H-1]=K}else{if(J==="measureNamesDimension"){if(K.acceptMND()<0){d.error("could not accpet MeasureNamesDimension "+C+" feed")}B=K.getDataCount();if(K.max()!==Number.POSITIVE_INFINITY&&B>=K.max()){d.error(C+" feed could not accept more data containers")}K.addData(new b("","measureNamesDimension",""))}else{d.error("Invalid Binding")}}}}}}g.init();return g}});sap.riv.module({qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.data.feed.feeder",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(b,e,d){var c=function(){var g=[];var h={};var f=e.get("IDS_ISNOVALUE");var i=function(j){if(j===null||j===undefined){return f}else{return j}};h.generateTooltipData=function(n,l,q,p,k,m){var o=function(R){var O;var z=false;if(l[q][0]!==undefined&&l[q][0].length>0){O=d3.merge([l[q][0],l[q][1]]);z=true}else{O=l[q]}var F={body:[],footer:[]};var H=O.length;var A=false;var D=0;var K=[R.getMeasureValuesGroupDataByIdx(0),R.getMeasureValuesGroupDataByIdx(1)];var P=[R.getAnalysisAxisDataByIdx(0),R.getAnalysisAxisDataByIdx(1)];var G=a(P);if(K[0]&&K[1]){A=true;D=K[0].values.length}var u=false;var w;var L=0,J=0,I=0,M;var t;var C;var x;var Q;var N;var E;if(!G.hasMNDonCate&&!G.hasMNDonColor){if(P[1]){t=0;if(K[0]){for(L=0;L<K[0].values.length;++L){C={name:i(K[0].values[L].col),val:[]};for(J=0,M=K[0].values[L].rows.length;J<M;++J){x=t*M+J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}F.body.push(C);++t}}if(K[1]){for(L=0;L<K[1].values.length;++L){C={name:i(K[1].values[L].col),val:[]};for(J=0,M=K[1].values[L].rows.length;J<M;++J){x=t*M+J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:1};C.val.push(N)}F.body.push(C);++t}}}else{C={name:i(K[0].values[0].col),val:[]};N={shape:k[0%k.length],color:p[0%p.length],label:null,value:O[0].val===" "?f:m===undefined?i(O[0].val):m(O[0].val),valueAxis:0};C.val.push(N);F.body.push(C)}for(L=0,M=P[0].values.length;L<M;++L){E={label:P[0].values[L].col,value:P[0].values[L].rows[q]};F.footer.unshift(E)}}else{if(G.hasMNDonColor){for(L=0;L<P[1].values.length;++L){if(P[1].values[L].type==="MND"){w=P[1].values[L].rows.length;if(L===0){u=true}break}}t=0;var v;if(K[0]){for(L=0;L<K[0].values.length;++L){C={name:i(K[0].values[L].col),val:[]};for(J=0,M=K[0].values[L].rows.length;J<M;++J){v=undefined;if(u){x=t*M+J}else{if(!z||!A){x=J*w+t}else{x=J*D+t;v=J*w+t}}Q=[];for(I=0;I<P[1].values.length;++I){if(P[1].values[I].type!=="MND"){Q.push(P[1].values[I].rows[J])}}N={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}F.body.push(C);++t}}if(K[1]){for(L=0;L<K[1].values.length;++L){C={name:i(K[1].values[L].col),val:[]};for(J=0,M=K[1].values[L].rows.length;J<M;++J){v=undefined;if(u){x=t*M+J}else{if(!z||!A){x=J*w+t}else{x=J*(w-D)+t-D+parseInt(H*D/w,10);v=J*w+t}}Q=[];for(I=0;I<P[1].values.length;++I){if(P[1].values[I].type!=="MND"){Q.push(P[1].values[I].rows[J])}}N={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:1};C.val.push(N)}F.body.push(C);++t}}for(L=0,M=P[0].values.length;L<M;++L){E={label:P[0].values[L].col,value:P[0].values[L].rows[q]};F.footer.unshift(E)}}else{var B=null;var r;for(L=0;L<P[0].values.length;++L){if(P[0].values[L].type==="MND"){w=P[0].values[L].rows.length;var s=0;if(l.length!==undefined){s=l.length}else{for(J in l){if(l.hasOwnProperty(J)){++s}}}r=s/w;if(L===0){u=true;B=P[0].values[L].rows[parseInt(q/r,10)]}else{B=P[0].values[L].rows[q%w]}break}}C={name:B,val:[]};if(P[1]){if(K[0]){for(J=0,M=K[0].values[0].rows.length;J<M;++J){x=J;Q=[];for(I=0;I<P[1].values.length;++I){Q.push(P[1].values[I].rows[J])}N={shape:k[x%k.length],color:p[x%p.length],label:Q,value:O[x].val===" "?f:m===undefined?i(O[x].val):m(O[x].val),valueAxis:0};C.val.push(N)}}}else{N={shape:k[0%k.length],color:p[0%p.length],label:null,value:O[0].val===" "?f:m===undefined?i(O[0].val):m(O[0].val),valueAxis:0};C.val.push(N)}F.body.push(C);for(L=0,M=P[0].values.length;L<M;++L){if(P[0].values[L].type!=="MND"){E={label:P[0].values[L].col,value:null};if(u){E.value=P[0].values[L].rows[q%r]}else{E.value=P[0].values[L].rows[parseInt(q/w,10)]}F.footer.unshift(E)}}}}return F};var j=function(r){if(g[r]===undefined){g[r]=o(n)}return g[r]};return j(q)};return h};function a(i){var g=false;var h,f;if(i[0]){for(h=0,f=i[0].values.length;h<f;++h){if(i[0].values[h].type&&i[0].values[h].type==="MND"){g=true}}}var k=false;if(!g){if(i[1]){for(h=0,f=i[1].values.length;h<f;++h){if(i[1].values[h].type&&i[1].values[h].type==="MND"){k=true}}}}return{hasMNDonCate:g,hasMNDonColor:k}}c.formatTooltipData=function(g){var f={name:d.Module.Event.TooltipShow.name,data:g};return f};c.dataTransform=function(n){var l=n.MG1;var k=n.MG2;var s=[];var p,m;if(n.hasMND&&n.MNDOnColor&&n.MNDInner){var r=0,o=0,g=0;if(n.MG1Number){r=n.MG1Number;g=l.length/r}if(n.MG2Number){o=n.MG2Number;g=k.length/o}for(p=0;p<g;p++){for(m=0;m<r;m++){s.push(l[p*r+m])}for(m=0;m<o;m++){s.push(k[p*o+m])}}}else{if(l){for(p=0;p<l.length;p++){s.push(l[p])}}if(k){for(p=0;p<k.length;p++){s.push(k[p])}}}var q=[];var f;if(l.length!==0){f=l[0].length}else{f=k[0].length}for(m=0;m<f;m++){var h=[];for(p=0;p<s.length;p++){h.push(s[p][m])}q.push(h)}return q};return c});sap.riv.module({qname:"sap.viz.util.NumberUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var b={isNoValue:function(c){return a.isNaN(c)}};return b});sap.riv.module({qname:"sap.viz.util.Scaler",version:"4.0.0"},[],function Setup(){var a={perfect:function(p,e,t){var h=2;var c=100;var k=p.domain();var f=k[0];var i=k[k.length-1];var r=-1;var s=-1;if(!t||t<h){if(!e||e<h){var v=p.range();var j=Math.abs(v[0]-v[v.length-1]);if(j>10){r=h+Math.round(j/100)}else{r=h}}else{r=e}}else{s=t}var d=p.nice();if(s<0){var u=d.ticks(r);var n=true;var g;if(u.length==0){n=false}else{if(u.length>1){g=u[1]-u[0]}else{var q=Math.abs(k[0]-u[0]);var b=Math.abs(k[k.length-1]-u[0]);if(q>b){g=q}else{g=b}}}var l=h;if(n){l=u.length;if(k[0]<k[1]){if(u[0]!=k[0]){k[0]=u[0]-g;l++}if(u[u.length-1]!=k[k.length-1]){k[k.length-1]=u[u.length-1]+g;l++}}else{if(u[0]!=k[k.length-1]){k[k.length-1]=u[0]-g;l++}if(u[u.length-1]!=k[0]){k[0]=u[u.length-1]+g;l++}}}d.tickNum=l;d.distance=g;d.tickHint=l-1;k[0]=parseFloat(k[0].toFixed(8));k[k.length-1]=parseFloat(k[k.length-1].toFixed(8));d.domain(k)}else{this.perfect(d,s);if(d.tickNum>s){var m=s;for(;m>=h;){m--;this.perfect(d,m);if(d.tickNum<=s){break}}}if(d.tickNum<s){var o=(s-d.tickNum);var k=d.domain();for(;o>0;){if(k[0]<k[1]){if(Math.abs(k[1]-i)>Math.abs(f-k[0])){k[0]-=d.distance}else{k[1]+=d.distance}o--;d.tickNum++}else{if(Math.abs(k[1]-i)>Math.abs(f-k[0])){k[0]+=d.distance}else{k[1]-=d.distance}o--;d.tickNum++}}d.tickHint=d.tickNum-1;k[0]=parseFloat(k[0].toFixed(8));k[k.length-1]=parseFloat(k[k.length-1].toFixed(8));d.domain(k)}}return d},perfectDual:function(f,c){this.perfect(f);this.perfect(c);var q=f.domain();var p=c.domain();var g=f.range();var d=c.range();if((q[0]>q[q.length-1]&&p[0]<p[p.length-1])||(q[0]<q[q.length-1]&&p[0]>p[p.length-1])||(q[0]<0&&q[q.length-1]<0)||(p[0]<0&&p[p.length-1]<0)||(q[0]>0&&q[q.length-1]>0)||(p[0]>0&&p[p.length-1]>0)||(Math.abs(g[0]-g[g.length-1])!=Math.abs(d[0]-d[d.length-1]))){return}var o=0;var n=0;var m=0;var l=0;var k=f.tickNum;var h=c.tickNum;var s=(q[q.length-1]-q[0])/(k-1);s=parseFloat(s.toFixed(8));for(var j=0;j<k;j++){var e=q[0]+j*s;if(e>0){o++}else{if(e<0){n++}}}var r=(p[p.length-1]-p[0])/(h-1);r=parseFloat(r.toFixed(8));for(var j=0;j<h;j++){var e=p[0]+j*r;if(e>0){m++}else{if(e<0){l++}}}if(o>m){var b=o-m;if(p[0]<p[p.length-1]){p[p.length-1]+=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[0]+=(b*Math.abs(r));c.tickNum+=b}}}else{if(o<m){var b=m-o;if(q[0]<q[q.length-1]){q[q.length-1]+=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[0]+=(b*Math.abs(s));f.tickNum+=b}}}}if(n>l){var b=n-l;if(p[0]<p[p.length-1]){p[0]-=(b*Math.abs(r));c.tickNum+=b}else{if(p[0]>p[p.length-1]){p[p.length-1]-=(b*Math.abs(r));c.tickNum+=b}}}else{if(n<l){var b=l-n;if(q[0]<q[q.length-1]){q[0]-=(b*Math.abs(s));f.tickNum+=b}else{if(q[0]>q[q.length-1]){q[q.length-1]-=(b*Math.abs(s));f.tickNum+=b}}}}q[0]=parseFloat(q[0].toFixed(8));q[1]=parseFloat(q[1].toFixed(8));p[0]=parseFloat(p[0].toFixed(8));p[1]=parseFloat(p[1].toFixed(8));f.domain(q);c.domain(p);f.tickHint=f.tickNum-1;c.tickHint=c.tickNum-1}};return a});sap.riv.module({qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(a){var b={sap32:function(){return d3.scale.ordinal().range(a.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis2)},};return b});sap.riv.module({qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},[],function Setup(){return function(i){var e;var d;var c=false;var f=true;var j=false;var k=false;var m=i.getMeasureValuesGroupDataByIdx(1);var o=i.getMeasureValuesGroupDataByIdx(0);var g=i.getAnalysisAxisDataByIdx(1);var b=i.getAnalysisAxisDataByIdx(0);if((m&&m.values&&m.values.length>0)){k=true}if(b&&b.values&&b.values.length>0){if(b.values[0].type==="MND"){c=true;f=false;j=false}else{if(b.values[b.values.length-1].type==="MND"){c=true;f=false;j=true}}}if(g&&g.values&&g.values.length>0){if(g.values[0].type==="MND"){c=true;j=false}else{if(g.values[g.values.length-1].type==="MND"){c=true;j=true}}}function a(t){var u=[];var s,r,q;var v;if(t.values.length<=0){return u}if(c&&!f){for(r=0;r<t.values[0].rows.length;++r){v=new Array(t.values.length*t.values[0].rows[0].length);for(q=0;q<t.values[0].rows[0].length;++q){for(s=0;s<t.values.length;++s){var p={};p.val=t.values[s].rows[r][q].val;p.ctx=t.values[s].rows[r][q].ctx;if(j){v[q*t.values.length+s]=p}else{v[s*t.values[0].rows[0].length+q]=p}}}u.push(v)}}else{u=new Array(t.values.length*t.values[0].rows.length);for(s=0;s<t.values.length;++s){for(r=0;r<t.values[0].rows.length;++r){v=t.values[s].rows[r];if(!c||!j){u[s*t.values[0].rows.length+r]=v}else{u[r*t.values.length+s]=v}}}}return u}function l(r,q){for(var p=0;p<q.length;++p){r[p]=r[p].concat(q[p])}}function h(A){var q=[];var x=o.values.length;var v=m.values.length;var z=o.values[0].rows[0].length;var t=new Array(o.values[0].rows.length);var p=0;var u,s,r;for(u=0;u<t.length;++u){t[u]=[]}if(j){var w=o.values[0].rows.length;for(u=0;u<z;++u){for(s=0;s<x;++s){for(r=0;r<w;++r){t[r][p]=o.values[s].rows[r][u]}q[p]=0;++p}for(s=0;s<v;++s){for(r=0;r<w;++r){t[r][p]=m.values[s].rows[r][u]}q[p]=1;++p}}}else{for(u=0;u<x;++u){for(s=0;s<z;++s){q[p++]=0}l(t,o.values[u].rows)}for(u=0;u<v;++u){for(s=0;s<z;++s){q[p++]=1}l(t,m.values[u].rows)}}A.MG1=t;A.MG1Number=o.values.length;A.color=q}var n={};if(k&&!f){h(n)}else{e=a(o);n.MG1Number=o.values.length;if(k){d=a(m);n.MG2Number=m.values.length}n.MG1=e;n.MG2=d}n.hasMND=c;n.MNDOnColor=f;n.MNDInner=j;return n}});sap.riv.module({qname:"sap.viz.modules.dispatch",version:"4.0.0",exported:true},[],function Setup(){return d3.dispatch});sap.riv.module({qname:"sap.viz.modules.horizontalboxplot",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,f,h,c,k,i,b,g,e,j){var d=function(B,Q){var M=null,aa=[],ar=[],Z=[],aq=[],n=[],K=[],L=[],C=[],r=[],an=null;var af={"sap.viz.modules.horizontalboxplot.dimension":{key:"sap.viz.modules.horizontalboxplot.dimension",values:null}};var m=undefined,q=undefined,aj=d3.scale.ordinal(),G=d3.scale.linear(),X=d3.scale.ordinal(),z,ab,D,ai=null,J=true,w={min:0,max:0},P=Q.effectManager,W="normal";var V={},H=new f("showTooltip","hideTooltip","initialized");var E={width:"1",color:"#000000"};var v={width:"0",midLineColor:"#000000"};var l=[],ag=[],S=[],U=[],O=[],u=[],F=[];var T=function(){var au=[];for(var at=0;at<Z.length;at++){au.push(at)}aj.domain(au).rangeBands([0,q]);X.domain(ar).rangeBands([0,q]);if(!w||(w.min===0&&w.max===0)){G.domain([0,1]).range([0,m]).nice()}else{G.domain([w.min,w.max]).range([0,m]).nice()}k.perfect(G)};am.dimensionData=function(at){if(!arguments.length){return af}af=at;return am};function R(aw){if(a.isExist(aw)){length=aw.length;var at=false;for(var av=0;av<length;av++){if(aw[av].length>0){if(!at){w=t(aw[av]);at=true}else{var au=t(aw[av]);if(au){if(au.min<w.min){w.min=au.min}if(au.max>w.max){w.max=au.max}}}}}}}function t(au){var at={min:0,max:0};if(a.isExist(au)){au.sort(function(aw,av){return aw.val-av.val});at={min:au[0].val,max:au[au.length-1].val}}return at}function x(){l=[];ag=[];S=[];U=[];O=[];u=[];F=[]}function A(){aa=[];ar=[];Z=[];aq=[];n=[];K=[];L=[]}function ad(at){return(at&1)==0}function ae(at,ay,au){var ax=au-ay+1;if(ax<=0){return -1}var av;var aw=at[ay+Math.floor((ax+1)/2)-1].ctx;if(ad(ax)){av=(at[ay+Math.floor((ax+1)/2)-1].val+at[ay+Math.floor((ax+1)/2)].val)/2}else{av=at[ay+Math.floor((ax+1)/2)-1].val}return{ctx:aw,val:av}}function al(au){if(au&&au.length>0){var av=au.length,az={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ae(au,0,av-1);az["Median:"]=midLine;var aD=au[Math.floor(av/2)];au[Math.floor(av/2)]=midLine;var aB=ae(au,0,Math.floor(av/2));au[Math.floor(av/2)]=aD;aD=au[Math.floor((av-1)/2)];au[Math.floor((av-1)/2)]=midLine;var aC=ae(au,Math.floor((av-1)/2),av-1);au[Math.floor((av-1)/2)]=aD;az["3rd Quartile:"]=aC;az["1st Quartile:"]=aB;var aA=aC.val-aB.val;var at=aB.val-1.5*aA;var aE=aC.val+1.5*aA;var ay=0;while(au[ay].val<at){ay++}lowWhisker=au[ay];az["Minimum:"]=lowWhisker;if(lowWhisker){if(aB){if(aB.val!=lowWhisker.val){U.push({pair:[aB,lowWhisker],ctx:[aB.ctx,lowWhisker.ctx],val:[aB.val,lowWhisker.val]})}}}for(var aw=0;aw<ay;aw++){F.push(au[aw])}var ax=av-1;while(au[ax].val>aE){ax--}highWhisker=au[ax];az["Maximum:"]=highWhisker;for(var aw=0;aw<av-ax-1;aw++){F.push(au[ax+1+aw])}if(F.length>0){az["outLiers(s)"]=F.length}if(highWhisker){if(aC){if(aC.val!=highWhisker.val){O.push({pair:[highWhisker,aC],ctx:[highWhisker.ctx,aC.ctx],val:[highWhisker.val,aC.val]})}}}if(aB&&aC&&midLine){if(aB.val==aC.val){u.push({pair:[aB,aB],midLine:null,ctx:[aB.ctx],val:[aB.val]})}else{if(midLine.val==aC.val||midLine.val==aB.val){u.push({pair:[aC,aB],midLine:null,ctx:[aC.ctx,aB.ctx],val:[aC.val,aB.val]})}else{u.push({pair:[aC,midLine],midLine:midLine,ctx:[aC.ctx],val:[aC.val]});u.push({pair:[midLine,aB],midLine:midLine,ctx:[aB.ctx],val:[aB.val]})}}}L.push(az)}}function am(at){j.drawBound(at,m,q);at.each(function(){boxNumber=1,boxGroupNumber=Z.length,D=8*(aj.rangeBand())/(9*boxNumber+7);var au=M=d3.select(this);au.selectAll("g.box").remove();if(z==null){z=au.append("rect").attr("width",m).attr("height",aj.rangeBand()-D/2).style("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{z.attr("width",m).attr("height",aj.rangeBand()-D/2).style("visibility","hidden")}var av=au.selectAll("g.box").data(Z);av.enter().append("g");av.attr("class","box").each(function(ax,aH){if(ax.length==0){L.push({});return}ax=ax.sort(function(aR,aQ){return aR.val-aQ.val});var aM=ax.length,aK=ax[0],aL=ax[aM-1];al(ax);var aJ=d3.select(this).selectAll("circle.outliers").data(F);aJ.enter().append("circle");aJ.attr("cy",function(aQ){var aR=aj(aH)+D;return aR}).attr("cx",function(aS,aR){var aQ=G(aS.val);return aQ}).attr("r","2").attr("stroke",P.register({drawingEffect:"normal",fillColor:E.color})).attr("stroke-width",E.width).attr("fill","none").attr("class","datapoint outliers");aJ.exit().remove();var aO=d3.select(this).selectAll("rect.quartile").data(u);aO.enter().append("rect");aO.attr("y",function(aQ){var aR=aj(aH)+D/2;return aR}).attr("x",function(aS,aR){var aQ=G(aS.pair[1].val);return aQ}).attr("height",D).attr("width",function(aR,aQ){var aT=0;var aS=aR.pair[0].val-aR.pair[1].val;if(aS==0){aT=1}else{aT=G(aR.pair[0].val)-G(aR.pair[1].val)}return aT}).attr("shape-rendering","crispEdges").attr("fill",function(aQ){var aR={drawingEffect:W,fillColor:r[aH%r.length],direction:"vertical"};return P.register(aR)}).attr("stroke-width",v.width).attr("class","datapoint quartile");if(u.length==2){var aE=aj(aH)+D/2;var aA=aE+D;var aC=midLineXEnd=G(u[0].midLine.val);var aG=d3.select(this);aG.append("line").attr("x1",aC).attr("y1",aE).attr("x2",midLineXEnd).attr("y2",aA).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","midline")}aO.exit().remove();var aD=0,aF=0,aI=0,aN=0;var aw=0,az=0,ay=0,aB=0;var aP=d3.select(this).selectAll("rect.rectlowwhisker").data(U);aP.enter().append("rect");aP.attr("y",function(aQ){var aR=aj(aH)+D/2;az=aB=aR+D/2;aF=aR;aN=aR+D;return aR}).attr("x",function(aR){var aQ=G(aR.pair[1].val);aw=aQ;aD=aI=aQ;return aQ}).attr("height",D).attr("width",function(aQ){var aS=G(aQ.pair[0].val)-G(aQ.pair[1].val);ay=G(aQ.pair[1].val)+aS;var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aD).attr("y1",aF).attr("x2",aI).attr("y2",aN).attr("stroke",function(aT){var aU={drawingEffect:"normal",fillColor:r[aH%r.length]};return P.register(aU)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","lineverticallowwhisker");var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aw).attr("y1",az).attr("x2",ay).attr("y2",aB).attr("stroke",P.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","linehorizontallowwhisker");return aS}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","datapoint rectlowwhisker");aP.exit().remove();var aD=0,aF=0,aI=0,aN=0;var aw=0,az=0,ay=0,aB=0;var aP=d3.select(this).selectAll("rect.recthighwhisker").data(O);aP.enter().append("rect");aP.attr("y",function(aQ){var aR=aj(aH)+D/2;az=aB=aR+D/2;aF=aR;aN=aR+D;return aR}).attr("x",function(aR,aS){var aQ=G(aR.pair[1].val);aw=aQ;aD=aI=G(aR.pair[0].val);return aQ}).attr("height",D).attr("width",function(aQ,aS){var aT=G(aQ.pair[0].val)-G(aQ.pair[1].val);ay=G(aQ.pair[1].val)+aT;var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aD).attr("y1",aF).attr("x2",aI).attr("y2",aN).attr("stroke",function(aU){var aV={drawingEffect:"normal",fillColor:r[aH%r.length]};return P.register(aV)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","lineverticalhighwhisker");var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aw).attr("y1",az).attr("x2",ay).attr("y2",aB).attr("stroke",P.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","linehorizontalhighwhisker");return aT}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","datapoint recthighwhisker");aP.exit().remove();x();H.initialized()});av.exit().remove()});return am}am.width=function(at){if(!arguments.length){return m}m=at;if(a.isExist(m)&&a.isExist(q)&&a.isExist(Z)){T()}return am};am.height=function(at){if(!arguments.length){return q}q=at;if(a.isExist(m)&&a.isExist(q)&&a.isExist(Z)){T()}return am};var ap=function(at){if(at===null||at===undefined){return defaultString}else{return at}};function Y(av){var ay={body:[],footer:[]},au=0;if(n){var at={name:null,val:[]};au=av%n.length;at.name=n[au].name;if(n[au].label!=null&&n[au].shape!=null&&r[au]!=null){var ax={shape:null,color:null,label:null,value:null};ax.shape=n[au].shape;ax.color=r[au];ax.label=n[au].label;at.val.push(ax)}if(L){if(L[av]){for(var aw in L[av]){var ax={shape:null,color:null,label:null,value:null};ax.label=aw;if(L[av][aw]){if(aw=="outLiers(s)"){ax.value=L[av][aw]}else{ax.value=L[av][aw].val}}at.val.push(ax)}}}ay.body.push(at)}if(K){au=Math.floor(av/n.length);for(var aw=0;aw<K.length;aw++){if(K[aw].rows.length>0){var az={label:null,value:null};az.label=K[aw].col;az.value=K[aw].rows[au];ay.footer.push(az)}}}return ay}function ah(){if(af){for(var ax in af){K=af[ax].values}}if(aq){var av=aq.values;if(av.length>1){if(av[0].type=="MND"){for(var az=0;az<av[0].rows.length;az++){for(var at=0;at<av[1].rows.length;at++){var ay={name:null,shape:null,color:null,label:null};ay.name=av[0].rows[az];var aw=[];for(var aA=1;aA<av.length;aA++){aw.push(av[aA].rows[at])}ay.label=aw;n.push(ay)}}}else{if(av[av.length-1].type=="MND"){for(var at=0;at<av[0].rows.length;at++){var aw=[];for(var aA=0;aA<av.length-1;aA++){aw.push(av[aA].rows[at])}for(var az=0;az<av[av.length-1].rows.length;az++){var ay={name:null,shape:null,color:null,label:null};ay.label=aw;ay.name=av[av.length-1].rows[az];n.push(ay)}}}}}else{for(var at=0;at<av[0].rows.length;at++){var ay={name:null,shape:null,color:null,label:null};ay.name=av[0].rows[at];n.push(ay)}}}for(var au=0;au<n.length;au++){n[au].shape="squareWithRadius"}}function ao(aw,ay,az){if(aw){var ax=aw.getAttribute("class");if(ax.indexOf("recthighwhisker")==-1&&ax.indexOf("rectlowwhisker")==-1&&ax.indexOf("linehorizontalhighwhisker")==-1&&ax.indexOf("lineverticalhighwhisker")==-1&&ax.indexOf("linehorizontallowwhisker")==-1&&ax.indexOf("lineverticallowwhisker")==-1){aw.setAttribute(ay,az)}else{if(ax.indexOf("recthighwhisker")!=-1){var av=aw.parentNode.querySelectorAll("line");if(av){for(var au=0,aA=av.length;au<aA;au++){var at=av[au].getAttribute("class");if(at.indexOf("linehorizontalhighwhisker")!=-1||at.indexOf("lineverticalhighwhisker")!=-1){av[au].setAttribute(ay,az)}}}}else{if(ax.indexOf("rectlowwhisker")!=-1){var av=aw.parentNode.querySelectorAll("line");if(av){for(var au=0,aA=av.length;au<aA;au++){var at=av[au].getAttribute("class");if(at.indexOf("linehorizontallowwhisker")!=-1||at.indexOf("lineverticallowwhisker")!=-1){av[au].setAttribute(ay,az)}}}}}}}}am.parent=function(){return M};am.highlight=function(at){if(at instanceof Array){for(var au=0,aw=at.length;au<aw;au++){var av=at[au];ao(av,"opacity",1)}}else{ao(at,"opacity",1)}};am.unhighlight=function(au){if(au instanceof Array){for(var av=0,at=au.length;av<at;av++){var aw=au[av];ao(aw,"opacity",0.2)}}else{ao(au,"opacity",0.2)}};am.clear=function(at){if(at==null){M.selectAll(".datapoint").attr("opacity",1);M.selectAll(".lineverticallowwhisker").attr("opacity",1);M.selectAll(".lineverticalhighwhisker").attr("opacity",1);M.selectAll(".linehorizontallowwhisker").attr("opacity",1);M.selectAll(".linehorizontalhighwhisker").attr("opacity",1)}else{M.selectAll(".datapoint").attr("opacity",0.2);M.selectAll(".lineverticallowwhisker").attr("opacity",0.2);M.selectAll(".lineverticalhighwhisker").attr("opacity",0.2);M.selectAll(".linehorizontallowwhisker").attr("opacity",0.2);M.selectAll(".linehorizontalhighwhisker").attr("opacity",0.2)}M.selectAll(".recthighwhisker").attr("opacity",0);M.selectAll(".rectlowwhisker").attr("opacity",0)};am.hoverOnPoint=function(at){var aw=at.x,au=at.y;var ax=-1;while(ax<Z.length){if(Math.abs(au-aj.rangeBand()*ax-0.5*aj.rangeBand())<=0.5*aj.rangeBand()){break}ax++}if(ax>(Z.length-1)||ax<0){z.style("visibility","hidden");return}z.attr("y",aj.rangeBand()*ax+D/4).style("visibility","visible");if(ai!==ax){if(J){ai=ax;var av=M[0][0].getTransformToElement(M[0][0].ownerSVGElement);var az=av.f;var ay=Y(ax);ay.point={x:d3.event.layerX,y:aj.rangeBand()*ax+0.5*aj.rangeBand()+az};ay.plotArea={x:av.e,y:av.f,width:m,height:q};H.showTooltip(b.formatTooltipData(ay))}}};am.blurOut=function(){z.style("visibility","hidden");ai=null;if(J){H.hideTooltip()}};function ak(aw,ay,au,at,av){if(aw&&ay<=au&&au<aw.length){var ax=subEnd=pos=ay;while(pos<=au){while(((pos+1)<=au)&&(aw[pos+1].val==aw[pos].val)){subEnd++;pos++}at.push({val:aw[ax],parentGroupIndex:av,start:ax,end:subEnd});pos++;ax=subEnd=pos}}}function I(aA){var az=[];if(aA){var aw=aa.length;var aB=aw>0?aa[aw-1].val:null;if(aB){for(var ax=0,ay=aB.length;ax<ay;ax++){var av=aB[ax];var at=av.start;var au=av.end;ak(aA,at,au,az,ax)}}else{ak(aA,0,aA.length-1,az,null)}}return az}function s(av){if(av){var ax=av.getAnalysisAxisDataByIdx(0);aq=av.getAnalysisAxisDataByIdx(1);if(ax){var at=ax.values.length;if(at==1){aa.push({col:ax.values[0].col.val,val:[]})}else{for(var au=0;au<at-1;au++){var aw=ax.values[au].rows;aa.push({col:ax.values[au].col.val,val:I(aw)})}}}}}function N(ay,au){var at=aa.length,aw=0,av=0,ax=aa[at-1].val;while(ax[av].start!=ay){av++}while(ax[av].end!=au){aw++;av++}aw++;return aw}function p(){if(aa){var aE=aa.length,av=null;av=aa[aE-1].val;if(av.length==0){ar.push(0);ar.push(1)}else{for(var aC=0,au=av.length;aC<au;aC++){ar.push(aC)}}if(av.length==0){af["sap.viz.modules.horizontalboxplot.dimension"].values=[{col:{val:aa[aE-1].col},rows:[]}]}else{var aG=[];for(var aA=0;aA<aE;aA++){var aB={col:{val:""},rows:[]};aB.col.val=aa[aA].col;var az=aa[aA].val;for(var ay=0,aF=az.length;ay<aF;ay++){var at=az[ay].start,ax=az[ay].end,aD=N(at,ax);for(var aw=0;aw<aD;aw++){aB.rows.push({val:ap(az[ay].val.val),info:az[ay].val.info})}}aG.push(aB)}af["sap.viz.modules.horizontalboxplot.dimension"].values=aG}}}function o(au){r=[];if(C.length>0){for(var at=0;at<au;++at){r.push(C[at%C.length])}}}function ac(){J=V.tooltip.enabled;C=V.colorPalette;W=V.drawingEffect}am.data=function(aD){if(!arguments.length){return an}A();ac();an=aD;var aA=h(an);s(an);dataMG1=aA.MG1;var aC=dataMG1.length;var av=aa[aa.length-1].val;if(av.length!=0){for(var aB=0,au=av.length;aB<au;aB++){var at=av[aB].start,ay=av[aB].end;for(var az=0;az<aC;az++){var aF=[],ax=at,aE=ay;for(;ax<=aE;ax++){if(!i.isNoValue(dataMG1[az][ax].val)){aF.push(dataMG1[az][ax])}}Z.push(aF)}}}else{for(var az=0;az<aC;az++){var aF=[];for(var aw=0;aw<dataMG1[az].length;aw++){if(!i.isNoValue(dataMG1[az][aw].val)){aF.push(dataMG1[az][aw])}}Z.push(aF)}}R(Z);p();if(a.isExist(m)&&a.isExist(q)){T()}ah();o(n.length);return am};am.primaryAxisTitle=function(au){if(!arguments.length){var ax=an.getMeasureValuesGroupDataByIdx(0),aw=[];if(ax){for(var av=0,at=ax.values.length;av<at;av++){if(ax.values[av].col!==null&&ax.values[av].col!==undefined){aw.push(ax.values[av].col)}else{aw.push(e.get("IDS_ISNOVALUE"))}}}return aw.join("/")}return this};am.secondAxisTitle=function(au){if(!arguments.length){var ax=an.getMeasureValuesGroupDataByIdx(1),aw=[];if(ax){for(var av=0,at=ax.values.length;av<at;av++){if(ax.values[av].col!==null&&ax.values[av].col!==undefined){aw.push(ax.values[av].col)}else{aw.push(e.get("IDS_ISNOVALUE"))}}}return aw.join("/")}return this};am.properties=function(at){if(!arguments.length){return V}g.extend(true,V,at);ac();o(n.length);return am};am.categoryScale=function(at){if(!arguments.length){return X}X=at;return am};am.primaryScale=function(at){if(!arguments.length){return G}G=at;return am};am.colorPalette=function(at){if(!arguments.length){return C}C=at;return am};am.dispatch=function(at){if(!arguments.length){return H}H=at;return this};V=B.props(null);return am};return d});sap.riv.module({qname:"sap.viz.format.XCFormat",version:"4.0.0"},[{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(b){var c={format:function(e){return e},locale:function(){},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""},d=null,a="en";if(sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){d=sap.common.globalization.NumericFormatManager;c=b.extend(true,c,{format:function(f,e){return d.formatToText(f,e,true)},locale:function(e){if(!arguments.length){return a}a=e;d.setPVL(a);c.DEFAULT_FORMAT_DATE_TIME=d.DEFAULT_FORMAT_DATE_TIME;c.DEFAULT_FORMAT_TIME=d.DEFAULT_FORMAT_TIME;c.DEFAULT_FORMAT_SHORT_DATE=d.DEFAULT_FORMAT_SHORT_DATE;c.DEFAULT_FORMAT_LONG_DATE=d.DEFAULT_FORMAT_LONG_DATE;c.DEFAULT_FORMAT_NUMBER=d.DEFAULT_FORMAT_NUMBER;c.DEFAULT_FORMAT_BOOLEAN=d.DEFAULT_FORMAT_BOOLEAN},DEFAULT_FORMAT_DATE_TIME:d.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:d.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:d.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:d.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:d.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:d.DEFAULT_FORMAT_BOOLEAN})}return c});sap.riv.module({qname:"sap.viz.format.FormatManager",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.format.XCFormat",version:"4.0.0"},{qname:"sap.viz.Locale",version:"4.0.0"}],function Setup(b,f,g){var a="en",c=f,d=null;var e={constructor:function(){return},apply:function(h){a=h;c.locale(a)},format:function(i,h){return c.format(i,h)},formatFunc:function(h){if(!arguments.length){return c}c=h},DEFAULT_FORMAT_DATE_TIME:c.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:c.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:c.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:c.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:c.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:c.DEFAULT_FORMAT_BOOLEAN};g.addListener({fn:function(h){e.apply(h)},scope:e});return e});sap.riv.module({qname:"sap.viz.base.Repository",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(){var h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var l=Math.random()*16|0,k=m=="x"?l:l&3|8;return k.toString(16)})};var g={ID_REGISTERED:1,OBJ_REGISTERED:2,ID_NEEDED:3,ID_NOT_REGISTERED:4,OBJ_NULL:5};var j=function(l,m){var k={};k.type=l;switch(l){case g.ID_REGISTERED:k.message="ID '"+m+"' has been registered.";break;case g.OBJ_REGISTERED:k.message="The vizObj has been registered, its Id is '"+m+"'.";break;case g.ID_NEEDED:k.message="Please specify Id";break;case g.ID_NOT_REGISTERED:k.message="No vizObj was registered with Id '"+m+"'";break;case g.OBJ_NULL:k.message="Null object is not allowed";break}return k};var a={};var e=function(m,l){if(!l){throw j(g.OBJ_NULL)}m=m?m:h();if(a[m]){throw j(g.ID_REGISTERED,m)}for(var k in a){if(l==a[k]){throw j(g.OBJ_REGISTERED,k)}}a[m]=l;return m};var b=function(k){if(!k){throw j(g.ID_NEEDED)}if(!a[k]){throw j(g.ID_NOT_REGISTERED,k)}delete a[k]};var d=function(k){if(!k){throw j(g.ID_NEEDED,k)}return a[k]};var i=function(){var l=[];for(var k in a){l.push(k)}return l};var c=function(k){var l=h();return k?k+"_"+l:l};var f={register:e,unregister:b,get:d,getAll:i,newId:c};return f});sap.riv.module({qname:"sap.viz.base.UADetector",version:"4.0.0"},[],function Setup(){var l=window.devicePixelRatio||1;var r;var g=function(v){for(var s=0;s<v.length;s++){var t=v[s].string;var u=v[s].prop;r=v[s].versionSearch||v[s].identity;if(t){if(t.indexOf(v[s].subString)!=-1){return v[s].identity}}else{if(u){return v[s].identity}}}};var n=[";"," "];var k=function(v){var t=v.indexOf(r);if(t==-1){return}var w=v.substring(t+r.length+1);var u=0,s=n.length,x=-1;while(x===-1&&u<s){x=w.indexOf(n[u++])}if(x!==-1){w=w.slice(0,x)}return w};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"RIV",versionSearch:"RIV/",identity:"RIV"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var b=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var p=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"},{string:navigator.userAgent,subString:"RivKit",identity:"RivKit"}];var h=g(c)||"An unknown browser",m=k(navigator.userAgent)||k(navigator.appVersion)||"an unknown version",d=g(c)==="Explorer",o=g(c)==="Firefox",e=g(c)==="Chrome",a=g(c)==="Safari",i=g(c)==="UIWebView",q=g(b)||"an unknown OS",j=g(p)||"An unknown RenderEngine";var f={userAgent:function(){return h},version:function(){return m},isIE:function(){return d},isFirefox:function(){return o},isChrome:function(){return e},isSafari:function(){return a},isUIWebView:function(){return i},os:function(){return q},devicePixelRatio:function(){return l},renderEngine:function(){return j}};return(f)});sap.riv.module({qname:"sap.viz.util.TextUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"}],function Setup(a,f){var h="http://www.w3.org/2000/svg";var e;var c=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var b=[];function d(){if(!e){var j=document.body.appendChild(document.createElementNS(h,"svg"));j.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";e=j.appendChild(document.createElementNS(h,"text"))}return e}function g(n,l){var m=d();if(!l){m.removeAttribute("style")}else{if(!a.isString(l)){var j=f.isIE()?l.ownerSVGElement.getComputedStyle(l):getComputedStyle(l);var k="";c.forEach(function(o){var p=j.getPropertyValue(o);if(p!=null){k+=o+":"+p+";"}});l=k}m.style.cssText=l}if(n==null){n=""}m.textContent=n;return m}function i(q,k,r,p,l){if(r>0){var j=l?d():g(q,(p!=null?p:k));if(j.getComputedTextLength()<=r){if(k){k.textContent=q}return q}j.textContent="...";r-=j.getComputedTextLength();j.textContent=q;if(r>0){var o=q.length;var n=0;while(++n<o){if(j.getSubStringLength(0,o-n)<=r){var m=q.substring(0,o-n)+"...";if(k){k.textContent=m;k.appendChild(document.createElementNS(k.namespaceURI,"title")).textContent=q}return m}}}}if(k){k.textContent=""}return""}return{measure:function(l,j){if(l===""){return{width:0,height:0,x:0,y:0}}var k=g(l,j).getBBox();return{width:k.width,height:k.height,x:k.x,y:k.y}},fastMeasure:function(n,l,o,m){var j=n+l+o+m;var k=b[j];if(!k){b[j]=this.measure(n,"font-size:"+l+"; font-weight:"+o+"; font-family:"+m);k=b[j]}return k},ellipsis:function(l,k,j,m){return i(l,k,j,m,false)},ellipsisInCircle:function(o,n,m,k){var l=g(o,n);var j=Math.sqrt(Math.pow(m,2)-Math.pow(k+l.getBBox().height/2,2))*2;i(o,n,j,null,true)},verticalCentralOffset:function(n,m){var j=g(n,m);var k=j.getBBox();var o=-k.y;var l=parseInt(j.ownerSVGElement.getComputedStyle(j)["fontSize"]);return(o-(k.height-l))/2}}});sap.riv.module({qname:"sap.viz.modules.pie.tooltip",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"}],function Setup(p,j,i){var u="tooltip",c="caret",m=8.9*14/2;var n=60,o=8;var k=i.newId();var e="tooltip-caret-shadow-"+k;var d=["viz-pie-tooltip-label-dimensions","viz-pie-tooltip-label-value","viz-pie-tooltip-label-percentage"];function h(v){return v.append("svg:path").attr("class",c).attr("d","M 0 0 Z")}function g(v){var w=v.namespaceURI;var x=v.appendChild(document.createElementNS(w,"filter"));x.id=e;var z=x.appendChild(document.createElementNS(w,"feGaussianBlur"));z.setAttribute("in","SourceAlpha");z.setAttribute("stdDeviation",3);z.setAttribute("result","blur");var A=x.appendChild(document.createElementNS(w,"feMerge"));A.appendChild(document.createElementNS(w,"feMergeNode")).setAttribute("in","blur");A.appendChild(document.createElementNS(w,"feMergeNode")).setAttribute("in","SourceGraphic")}function s(x){var w=[];for(var v=0;v<3;v++){w[v]=x.append("svg:text").attr("class",a(v)).datum(function(z){return{text:""}})}}function b(v){return v.selectAll("text")}function f(w,v){w.attr("style",function(A,x){var z=d[x];return v.cssText(z)})}function a(v){return"label"+(v+1)}function r(x){var v=a(1);var w;x.each(function(z){z.r=d3.select(this.parentNode).datum().r}).filter("."+v).attr("dy",function(B){var A=0,z=B.text;if(j.isIE()){A=p.verticalCentralOffset(z,this)}p.ellipsisInCircle(z,this,B.r,0);w=this.getBBox().height;return A});x.filter(":not(."+v+")").attr("dy",function(E,D){var z=E.text;var C=p.measure(z,this).height;var B=(j.isIE()?(D===0?0:C):(C/2))+w/2+o;var A=Math.sqrt(Math.pow(E.r,2)-Math.pow(C+w/2+o,2))*2;p.ellipsis(z,this,A);if(D===0){B=-B}return B})}function q(v){v%=360;if(v<0){v+=360}return v}function l(v,w){var x=v.transform.baseVal;var D=x.numberOfItems===0?0:q(x.getItem(0).angle);var F=[];F[0]=q(w);F[1]=F[0]-360;F[2]=F[0]+360;var A=360,C=null;for(var z=0;z<F.length;z++){var B=Math.abs(F[z]-D);if(B<A){A=B;C=z}}var E=d3.interpolateNumber(D,F[C]);return function(G){return"rotate("+E(G)+")"}}function t(v){if(v>=12*14){return 14}if(v>=8*14){return 0.8*14}return 0.5*14}return function(){function v(z,w){var A=z.selectAll("g."+u).data(function(D,B){var C;if(D.or>m){C=[{r:D.ir,caretSize:t(D.or)}]}else{C=new Array(0)}return C});A.exit().remove();b(A).call(f,w).call(r);var x=A.enter().append("svg:g").attr("class",u).style("opacity",0).attr("visibility","hidden").attr("pointer-events","none").call(h).call(s);b(x).call(f,w)}v.createShadowFilterDef=g;v.defaultStyle=function(w){return"."+w+" ."+u+" text{dominant-baseline:central}."+w+" ."+u+" ."+c+"{fill:#fff;"+(j.isSafari()?"-webkit-svg-shadow: 0 0 10px rgba(0, 0, 0, 0.25)":"filter:url(#"+e+")")+"}"};v.select=function(w){var x=w.selectAll("g."+u);if(x.empty()){return null}return{show:function(){x.attr("visibility",null).transition().duration(200).style("opacity",1);return this},hide:function(){x.transition().each("end",function(){x.attr("visibility","hidden")}).duration(200).style("opacity",0);return this},texts:function(){var z=arguments;b(x).each(function(B,A){B.text=z[A]}).call(r);return this},caret:function(){var z=x.select("."+c);return{show:function(){z.attr("d",function(B){var A=Math.tan(n*Math.PI/360)*B.caretSize;var C=Math.sqrt(B.r*B.r-A*A);return"M 0 "+-(C+B.caretSize)+" L "+A+" "+-C+" A "+B.r+" "+B.r+" 0 1 1 "+-A+" "+-C+" Z"});return this},hide:function(){z.attr("d",function(A){return"M 0 "+A.r+" A "+A.r+" "+A.r+" 0 1 1 0 "+-A.r+" A "+A.r+" "+A.r+" 0 1 1 0 "+A.r+" Z"});return this},rotateTo:function(A){z.transition().duration(200).attrTween("transform",function(){return l(this,A*180/Math.PI)});return this}}}}};return v}});sap.riv.module({qname:"sap.viz.modules.Constants",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(b){var a={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Controller:"CONTROLLER",ThirdParty:"THIRDPARTY"},CSS:{CLASS:{DATAPOINT:"datapoint"}},Event:{SelectData:{name:"selectData",desc:'Event fired when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.<code>{name: "selectData",data:[{\n//selected element\'s detail\ntarget:"Dom Element",//an object pointed to corresponding dom element\ndata:[{val: "...",//value of this element\nctx:{type:"Dimension"||"Measure"||"MND",\n//for Dimension\npath:{aa:"...",di:"...",dii:"..."},\n//for Measure\npath:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n//for MND\npath:{mg:"...",mi:"..."}\n//path: analysis path\n//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n//di: dimension index //zero based\n//dii: dimension item index //zero based\n//mg: measure group index // 0 for measure group 1,1 for measure group 2\n//mi: measure index // measure index in measure group zero based\n//dii_a1: each dii of di in analysis axis 1 index\n//dii_a2: each dii of di in analysis axis 2 index\n}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\nvar:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\ntarget:"...",data:["..."]}]}'},DeSelectData:{name:"deselectData",desc:'Event fired when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.<code>{name: "deselectData",data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:'Event fired when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.<code>{name:"showTooltip",data:{body:[{\n//data of one group\nname:"...",val:[{\n//data of one row\ncolor:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],plotArea:{\n//this object specifies the plot area of the chart\nheight:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\nx:"...",y:"..."}}}'},TooltipHide:{name:"hideTooltip",desc:"Event fired when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:"Event fired when the loading ends."},highlightedByLegend:{desc:"Event fired when legend item is clicked, which contains its data context."}}};b.Module=a;return a});sap.riv.module({qname:"sap.viz.modules.pie.sector",version:"4.0.0"},[{qname:"sap.viz.modules.Constants",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"}],function Setup(d,e){var g="viz-pie-sector";var f=d3.layout.pie().sort(null).value(function(h){return h.v});function b(s,q,l,h,o,n,k,j){this.dimValueObjects=q;this.color=l;this.r=h;this._value=o;this.startAngle=n;this.endAngle=k;this.p=j;this.decoras=[];for(var m in s){if(s.hasOwnProperty(m)){this[m]=s[m]}}}b.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(j){var i;if(j.info){var h=j.info.customlabel;if(h){if(h.type==="url"){i=j.val}else{if(h.type==="string"){i=h.val}}}else{i=j.val}}else{i=j.val}return i})},value:function(i){var h=this._value;if(i){return d3.format(i)(h)}return h},proportion:function(i){var h=(this.endAngle-this.startAngle)/(2*Math.PI);if(i){return d3.format(i)(h)}return h}};function a(m,o){var n=m.measure.rows[0];var h=m.dimensions;var k=[];var l=n.map(function(q,r){k.push(r);return{v:q.val,i:r}}).filter(function(r){var q=r.v;return(!e.isNoValue(q))&&q>0});var j=m.color.domain(k);var i=m.or;var p=f(l).map(function(s){var q=s.data.i;var r=o.register({drawingEffect:m.drawingEffect,graphType:"sector",fillColor:j(q),direction:"vertical",radius:i});return new b(n[q],h.map(function(t){return t.rows[q]}),r,i,s.value,s.startAngle,s.endAngle,m.p)});return p}var c=function(){function h(k,i){var j=c.all(k).data(function(l){return a(l,i)});j.exit().remove();j.enter().append("svg:g").attr("class","datashape").append("svg:path").attr("class",d.CSS.CLASS.DATAPOINT+" "+g);j.select("g.datashape path").attr("fill",function(l){return l.color}).attr("d",d3.svg.arc().outerRadius(function(l){return l.r}))}return h};c.all=function(h){return h.selectAll("g.datashape")};c.cssText=function(h){return"."+g+"{"+h.cssText(g)+"}"};return c});sap.riv.module({qname:"sap.viz.modules.pie.selection",version:"4.0.0"},[{qname:"sap.viz.modules.pie.sector",version:"4.0.0"}],function Setup(e){var c="selectedSector";var d="selected";var b;function a(k,h,j){k.classed(c,h);var i=0,g=0;if(!j){k=k.transition().duration(200)}k.each(function(o){i=0,g=0;if(h){if(this.parentNode.parentNode.childNodes.length!==1){var l=o.midAngle();var m=o.r;var n;if(m>=96){n=6}else{if(m>=24){n=4}else{n=2}}i=n*Math.sin(l);g=-n*Math.cos(l)}}d3.select(this.parentNode).attr("transform","translate("+i+","+g+")")});k.each("start",function(m){var l=d3.select(this.parentNode).attr("transform");m.decoras.forEach(function(o,n,p){b=d3.select(o);b.transition().attr("transform",l);if(b[0][0]!==null){if(i===0&&g===0){b.attr("fill-opacity",null)}else{b.attr("fill-opacity","1")}}else{b.attr("fill-opacity","1")}},this)})}function f(g){return g.classed(c)}return function(){return{allSelected:function(g){return g.selectAll("."+c)},select:function(h,g){a(h,g)},clear:function(i,h){i.classed(d,h)},defaultStyle:function(i,g){var h="."+g+"."+d;return h+"{fill-opacity:0.4} ."+c+","+h+" ."+i+"{fill-opacity:1}"},clearAll:function(g){g.classed(d,false);this.allSelected(g).call(a,false,true)}}}});sap.riv.module({qname:"sap.viz.modules.pie",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.pie.sector",version:"4.0.0"},{qname:"sap.viz.modules.pie.selection",version:"4.0.0"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(x,I,F,B,f,M,S,e,q,T,J,a,d,z){var t=2.414;var s=T.newId();var v=function(U){return t};var P=6;var b=600;var h=f.sap32();var H="viz-pie";var E=H+"-defs"+s;var k=H+"-clipPath-";var D=H,l="datashapesgroup",L="background",C=D+"-donut-title",K="hoverSector",r="sectorgroup";var i=I();var u=F();var j=x();var o="."+D+"{font-family:'Open Sans',Arial,Helvetica,sans-serif;text-anchor:middle}."+D+" ."+L+"{fill-opacity:0;} ."+C+"{font-weight:bold;font-size:16px;fill:#333;dominant-baseline: middle}"+u.defaultStyle(D)+i.defaultStyle(K,r);function G(X,V,W){if(!W){W=V.caret()}W.show().rotateTo(X.midAngle());var U,Y;U=X.value();Y=X.proportion();if(q.isExist(X.p.tooltip.formatString)){U=a.format(U,X.p.tooltip.formatString[0]);Y=a.format(Y,X.p.tooltip.formatString[1])}else{U=X.value(X.p.tooltip.valueFormat);Y=X.proportion(X.p.tooltip.percentageFormat)}V.texts(X.dimValues().map(function(Z){return Z===null?d.get("IDS_ISNOVALUE"):Z}).join(" - "),U,Y).show()}function g(V){var U=V.selectAll("text."+C).data(function(X){if(X.p.isDonut){var W=X.measure.col;if(W===null){W=d.get("IDS_ISNOVALUE")}return[{width:X.ir,title:W}]}return[]});U.exit().remove();U.enter().insert("svg:text",".sectorgroup").attr("class",C);U.each(function(W){B.ellipsisInCircle(W.title,this,W.width,0)})}function N(U){return U/2-P}function c(U){return Math.max(U/2/(1+1/t),P*t)}function R(U,V,W){if(W){return Math.min(V/2,U/2)}return Math.min(N(V),c(U))}function m(U){return U/v(U)}var A=d3.svg.arc();function p(V){var U=d3.interpolateNumber(V.startAngle,V.endAngle);return function(W){V.endAngle=U(W);return A(V)}}function O(U,V){var W=d3.select(U).selectAll("style").data([o+x.cssText(V)]);W.exit().remove();W.enter().append("style");W.text(String)}function Q(V,U,X,W,Y){i.select(q.isArray(V)?d3.selectAll(V):d3.select(V),U);if(X===false){n(W,Y)}}function n(Y,Z){if(!Y){return}var V=i.allSelected(Z);if(V.empty()){Y.hide()}else{var ab=Z.datum();if(!ab.p.tooltip.visible){Y.hide()}else{var X=0;var U=0;var W=0;V.each(function(ac){X+=ac.val;U+=ac.proportion();W++});var aa=Y.caret();if(W===1){G(V.datum(),Y,aa)}else{Y.texts(W+" selected",d3.format(ab.p.tooltip.valueFormat)(X),d3.format(ab.p.tooltip.percentageFormat)(U));aa.hide()}}}}var w=function(Y,aj){var ai=null,ah=null,am=null,W=Y.props(null),ak;var U=aj.effectManager;var Z,V,aa=e.noop;var ad,al,ab,af;var X=M("selectData","deselectData","initialized","startToInit");function ag(){ad=this;z.drawBound(ad,ai,ah);var ao=this.node().ownerSVGElement;var an=ao.getElementById(E);if(!an){an=document.createElementNS(ao.namespaceURI,"defs");ao.insertBefore(an,ao.childNodes[0]);an.id=E;u.createShadowFilterDef(an);U.setContainer(d3.select(an))}X.startToInit();O(an,aj.styleManager);ab=this.selectAll("g."+D).data(ae(am));ab.exit().each(function(ar){document.documentElement.removeEventListener("keydown",ar.keydownListener);delete ar.keydownListener}).remove();var ap=ab.enter().append("g").attr("class",D);if(!W.isGeoPie){ap.append("g").attr("class",r+" "+l)}else{ap.append("g").attr("class",r)}ab.attr("transform",function(ar){if(ar.p.alignCenter){return null}return"translate("+ar.w/2+","+(ar.p.valign==="center"?ar.h/2:(ar.or+P))+")"}).select("."+L).attr("width",function(ar){return ar.w}).attr("height",function(ar){return ar.h}).attr("x",function(ar){return -ar.w/2}).attr("y",function(ar){return -ar.h/2});var aq=ab.selectAll(function(){var ar=[];Array.prototype.forEach.call(this.childNodes,function(at){if(at.tagName==="clipPath"){ar.push(at)}});return ar}).data(function(av){var ar=[];var at=av.p.isDonut;var au=av.animation=av.p.animation.dataLoading;if(at||au){ar.push({innerRadius:at?av.ir:0,outerRadius:av.or+P,startAngle:0,endAngle:Math.PI*2,animation:au})}return ar});aq.exit().remove();aq.enter().append("svg:clipPath").attr("id",function(){var at,ar=0;while(true){at=k+(ar++)+s;if(!document.getElementById(at)){break}}this.parentNode.querySelector("."+r).setAttribute("clip-path","url(#"+at+")");return at}).append("svg:path").attr("clip-rule","evenodd").attr("d",A);ab.call(g);al=ab.select("g."+r).call(j,U);i.clearAll(al);ab.call(u,aj.styleManager);af=u.select(ab);if(af){af.hide()}aq.filter(function(ar){return ar.animation}).select(":first-Child").transition().duration(b).each("end",function(av){var ar=this.parentNode;var at=ar.parentNode;if(at){if(av.innerRadius===0){at.removeChild(ar);at.querySelector("."+r).removeAttribute("clip-path")}var au=d3.select(at).datum();au.animationEnd=true;ac(au)}}).attrTween("d",p);aq.filter(function(ar){return !ar.animation}).select(":first-Child").attr("d",A);ab.each(function(ar){ar.domInitialized=true;ac(ar)})}function ae(av){var ao=this.parentNode;var at=aa.apply(ao,arguments);var ap=Z.apply(ao,arguments);var aq=V.apply(ao,arguments);var ar=R(ap,aq,at.maxRadius);var au=d3.functor(ak).apply(ao,arguments);var an={w:ap,h:aq,p:at,or:ar,ir:m(ar),color:au?d3.scale.ordinal().range(au):h.copy(),measure:av.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:av.getAnalysisAxisDataByIdx(0).values};an.drawingEffect=an.p.drawingEffect;return[an]}function ac(an){if(an.domInitialized&&(!an.animation||an.animationEnd)){X.initialized({name:"initialized"})}}ag.afterUIComponentAppear=function(){X.initialized()};ag.dataLabel=function(an){};ag.parent=function(){return ad};ag.clear=function(an){i.clear(al,an);return ag};ag.highlight=function(an,ao){Q(an,true,ao,af,al);return ag};ag.unhighlight=function(an,ao){Q(an,false,ao,af,al);return ag};ag.mouseover=function(ao){var an=d3.select(ao);an.classed(K,true);var ap=an.datum();if(ap.p.tooltip.visible){if(af){G(ap,af,undefined)}}else{if(af){af.hide()}}return ag};ag.mouseout=function(ao){var an=d3.select(ao);if(S.isIE()){setTimeout(function(){an.classed(K,false)},0)}else{an.classed(K,false)}if(!af){return}n(af,al);return ag};ag.width=function(an){if(arguments.length===0){return ai}ai=an;Z=d3.functor(ai);return ag};ag.height=function(an){if(arguments.length===0){return ah}ah=an;V=d3.functor(ah);return ag};ag.size=function(an,ao){if(arguments.length===0){return{width:this.width(),height:this.height()}}ag.width(an).height(ao);return ag};ag.data=function(an){if(arguments.length===0){return am}am=an;return ag};ag.dispatch=function(an){return X};ag.properties=function(an){if(arguments.length===0){return W}J.extend(true,W,an);aa=d3.functor(W);if(typeof(W)==="function"){ak=function(ap,ao){return aa.apply(this,arguments).colorPalette}}else{if(W.colorPalette){ak=W.colorPalette}}return ag};ag.colorPalette=function(an){if(arguments.length===0){return ak||h.range()}ak=an;return ag};return ag};return w});sap.riv.module({qname:"sap.viz.modules.stackedverticalbar",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,c,h,k,b,d,m,f,j,i,e,l){var g=function(F,O){var au;var aw,an=[[]],am=[[]],X=[],t=[],D=0,r=0,P=false,ad=false,S=0,L=0,Q=null;var n=undefined,s=undefined,af=0,ae=0,E=false,q=false,H=[],G,az,u=false,aj=0,ai=0,ay=["squareWithRadius"],o,I=new h("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var N=O.effectManager;var aA=new Array(2);xScale=d3.scale.ordinal(),yScale=d3.scale.linear(),yScale2=d3.scale.linear();var B,ap=[],K=true,al=null;var v,ah,R,ag=[],W;var ak,ab,ao=f.newId();var w=true,ac=true,ar=false,Z=true,ax=false,at=false,M=800;var C="comparison";var V="normal";var aq=false,p=false,z=false,U=false;av.hoverOnPoint=function(aJ){var aI=aJ.x,aC=aJ.y;var aF=-1;while(aF<X.length){if(Math.abs(aI-xScale.rangeBand()*aF-0.5*xScale.rangeBand())<=0.5*xScale.rangeBand()){break}aF++}if(aF>(X.length-1)||aF<0){B.attr("visibility","hidden");return}B.attr("x",xScale.rangeBand()*aF+W/4).attr("visibility","visible");if(al!==aF){if(K){al=aF;var aD=Q.node().getTransformToElement(Q.node().ownerSVGElement);var aG=aD.e;var aB=100,x=100,aE=0;var aH=au.generateTooltipData(aw,t,aF,H,ay);aH.point={x:xScale.rangeBand()*aF+0.5*xScale.rangeBand()+aG,y:d3.event.layerY};aH.plotArea={x:aD.e,y:aD.f,width:n,height:s};aH.valueAxis0Count=X[0][0].length;aH.valueAxis1Count=a.isExist(X[0][1])?X[0][1].length:0;I.showTooltip(b.formatTooltipData(aH))}}};function Y(){for(var aF=0,x=X.length;aF<x;aF++){for(var aC=0,aE=X[aF],aH=t[aF];aC<aE.length;aC++){var aG=0,aD=0;for(var aB=0;aB<aE[aC].length;aB++){aG+=Math.abs(aE[aC][aB].val);if(!aE[aC][aB].isNaN){aD++}}if(aG===0){for(var aB=0;aB<aE[aC].length;aB++){aE[aC][aB].value=a.isExist(aE[aC][aB].value)?aE[aC][aB].value:aE[aC][aB].val;aE[aC][aB].val=aE[aC][aB].isNaN?0:1/aD;if(a.isExist(aH[aC])&&a.isExist(aH[aC][aB])){aH[aC][aB].val=aH[aC][aB].isNaN?" ":1/aD}}}else{for(var aB=0;aB<aE[aC].length;aB++){if(aE[aC][aB].val<0){aE[aC][aB].isNegative=true}aE[aC][aB].value=a.isExist(aE[aC][aB].value)?aE[aC][aB].value:aE[aC][aB].val;aE[aC][aB].val=Math.abs(aE[aC][aB].val/aG);if(a.isExist(aH[aC])&&a.isExist(aH[aC][aB])){aH[aC][aB].val=aH[aC][aB].isNaN?" ":aH[aC][aB].val/aG}}}}}}av.parent=function(){return Q};av.blurOut=function(){B.attr("visibility","hidden");al=null;if(K){I.hideTooltip()}};av.highlight=function(aB){if(aB instanceof Array){for(var aC=0,x=aB.length;aC<x;aC++){aB[aC].setAttribute("fill-opacity",1)}}else{aB.setAttribute("fill-opacity",1)}};av.unhighlight=function(aB){if(aB instanceof Array){for(var aC=0,x=aB.length;aC<x;aC++){aB[aC].setAttribute("fill-opacity",0.2)}}else{aB.setAttribute("fill-opacity",0.2)}};av.clear=function(x){if(x==null){Q.selectAll(".datapoint").attr("fill-opacity",1)}else{Q.selectAll(".datapoint").attr("fill-opacity",0.2)}};var aa=function(){ar=o.isRoundCorner;C=o.mode==="percentage"?"percentage":"comparison";w=o.animation.dataLoading;ac=o.animation.dataUpdating;K=o.tooltip.enabled;if(E&&!q){G=o.primaryValuesColorPalette;az=o.secondaryValuesColorPalette}else{az=o.colorPalette;G=o.colorPalette}V=o.drawingEffect;H=[];indexforSecondaryAxis=an.length;if(u){var aB=0,x=0,aC=0;for(var aD=0;aD<X[0][0].length;aD++){H.push(G[aD%G.length]);aB++;if(aB==aj&&E&&a.isExist(X[0][1])){x=0;for(;aC<=X[0][1].length;aC++){if(x>=ai){aB=0;break}H.push(az[aC%az.length]);x++}}}}else{for(var aD=0;aD<X[0].length;aD++){for(var aC=0;aC<X[0][0].length;aC++){H.push(G[aC%G.length])}if(E&&a.isExist(X[0][1])){for(var aC=0;aC<X[0][1].length;aC++){H.push(az[aC%az.length])}}}}};function av(x){l.drawBound(x,n,s);au=b();if(C==="percentage"){Y()}if(!a.isExist(yScale)&&!a.isExist(yScale2)){return}I.startToInit();x.each(function(){var aE=an.length;R=X[0][0].length+((a.isExist(X[0][1]))?X[0][1].length:0);var aJ=8*(xScale.rangeBand())/(9*R+7);v=(a.isExist(am))?2:1;W=8*(xScale.rangeBand())/(9*v+7);var aG=Q=d3.select(this);if(B==null){B=aG.append("rect").attr("width",xScale.rangeBand()-W/2).attr("height",s).attr("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{B.attr("width",xScale.rangeBand()-W/2).attr("height",s).attr("visibility","hidden")}if(ak==null){ak=aG.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",s)}else{ak.attr("width",n).attr("height",s)}if(ab==null){ab=aG.append("defs")}else{if(p||aq||z||!ar){ab.remove();ab=aG.append("defs")}}var aB=Math.log(W)/Math.log(2);if(aB<0){ar=false}var aF,aC=tempNeg=0,aH=postiveIndex=0;var aD=aG.selectAll("g.datashapesgroup");if(!a.isExist(aD[0][0])){aD=aG.append("g").attr("class","datashapesgroup")}var aI=aD.selectAll("g.bar").data(X);aI.enter().append("g");aI.attr("class","bar").each(function(aK,aL){var aM=d3.select(this).selectAll("g.axisGroup").data(aK);aM.enter().append("g");aM.attr("class","axisGroup").each(function(a0,aR){var aW=(aR==0)?yScale:yScale2;var aN=(aR==0)?W/2:(W/2+W+W/8);var a1=(aR==0)?xScale(aL):(xScale(aL)+W/2+W);var aT=(aR==0)?G:az;var aP=0,aQ=0,aZ=0,a2=0;var aV=[],aO=[];var aU=d3.select(this).selectAll("g.datashape").data(a0);aU.enter().append("g").attr("class","datashape").append("rect").attr("class","datapoint");aU.exit().remove();if(at){aU.each(function(){aV.push(this.getTransformToElement(this.parentNode).f)})}aU.attr("transform",function(a5,a4){var a6;if(a5.val>=0){aZ+=a0[a4].val;aP=aW(aZ);a6=aP}else{aQ=aW(a2);a2+=a0[a4].val;a6=aQ}var a3=xScale(aL)+aN;aO.push(a3);return"translate("+a3+","+a6+")"});var aY=aU.select("rect.datapoint");aY.attr("fill",function(a3,a5){a3.fillColor=aT[a5%aT.length];var a4={drawingEffect:V,fillColor:a3.fillColor,direction:"horizontal"};return N.register(a4)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(w&&!ax){if(p){aY.attr("x",function(a5,a4){var a3=a1-aO[a4]+aJ*a4;a3=a3+aJ/8*(a4)+aJ/2;return a3}).attr("width",aJ).attr("height",0).attr("y",function(a3){if(a3.val>0){return Math.abs(aW(a3.val)-aW(0))}else{return 0}});if(ar){aY.attr("clip-path",function(a4,a3){if(a3===negativeIndexes[aR][aL]||a3===positiveIndexes[aR][aL]){var a6="roundCorner-clip-"+a3+aL+aR+ao;var a5=ab.append("clipPath").attr("id",a6).append("rect").attr("class","roundCorner-clip").attr("rx",aB).attr("ry",aB).attr("y",Math.abs(aW(a4.val)-aW(0))+aB).attr("height",aB).attr("width",aJ).attr("x",this.x.baseVal.value).transition().duration(M/2).attr("y",function(){if(a3===negativeIndexes[aR][aL]){return 0-aB}else{return 0}}).attr("height",function(){return Math.abs(aW(a4.val)-aW(0))+aB}).transition().delay(M/2).duration(M/2).attr("x",0).attr("width",W);return"url(#"+a6+")"}})}aY.transition().duration(M/2).attr("height",function(a3){if(aL==0){U=true}return Math.abs(aW(a3.val)-aW(0))}).attr("y",0);aY.transition().delay(M/2).duration(M/2).attr("width",W).attr("x",0).each("end",function(a4,a3){if(U==false){this.setAttribute("height",Math.abs(aW(a4.val)-aW(0)))}if(a3===X[0][0].length-1&&aL==0){A()}})}else{if(aq){aY.attr("y",function(a4,a3){return aV[a3]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a5,a4){var a3=Math.abs(aW(a5.val)-aW(0));if(parseFloat(this.height.baseVal.value)>a3){return this.height.baseVal.value}else{return a3}});var aS=aY.transition();aS.duration(M/2).attr("width",W).attr("x",0).attr("height",function(a3){if(aL==0){U=true}return Math.abs(aW(a3.val)-aW(0))}).attr("y",0).each("end",function(a4,a3){if(U==false){this.setAttribute("height",Math.abs(aW(a4.val)-aW(0)))}if(a3===X[0][0].length-1&&aL==0){A()}});if(ar){aS.attr("clip-path",function(a4,a3){if(a3===negativeIndexes[aR][aL]||a3===positiveIndexes[aR][aL]){var a7="roundCorner-clip-"+a3+aL+aR+ao;var a6=parseFloat(this.y.baseVal.value);var a5=ab.append("clipPath").attr("id",a7).append("rect").attr("class","roundCorner-clip").attr("rx",aB).attr("ry",aB).attr("y",function(){return a6-((a3===negativeIndexes[aR][aL])?aB:0)}).attr("height",this.height.baseVal.value+aB).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(M/2).attr("y",function(){if(a3===negativeIndexes[aR][aL]){return 0-aB}else{return 0}}).attr("height",function(){return Math.abs(aW(a4.val)-aW(0))+aB}).attr("x",0).attr("width",W);return"url(#"+a7+")"}})}}else{if(z){aY.attr("y",function(a4,a3){return aV[a3]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var aX=aY.transition();aX.duration(M/2).attr("height",function(a3){if(aL==0){U=true}return Math.abs(aW(a3.val)-aW(0))}).attr("y",0).each("end",function(a4,a3){if(U==false){this.setAttribute("height",Math.abs(aW(a4.val)-aW(0)))}if(a3===X[0][0].length-1&&aL==0){A()}});if(ar){aX.attr("clip-path",function(a4,a3){if(a3===negativeIndexes[aR][aL]||a3===positiveIndexes[aR][aL]){var a7="roundCorner-clip-"+a3+aL+aR+ao;var a6=parseFloat(this.y.baseVal.value);var a5=ab.append("clipPath").attr("id",a7).append("rect").attr("class","roundCorner-clip").attr("rx",aB).attr("ry",aB).attr("y",function(){return a6-((a3===negativeIndexes[aR][aL])?aB:0)}).attr("height",this.height.baseVal.value+aB).attr("width",this.width.baseVal.value).attr("x",this.x.baseVal.value).transition().duration(M/2).attr("y",function(){if(a3===negativeIndexes[aR][aL]){return aQ-aB}else{return aP}}).attr("height",function(){return Math.abs(aW(a4.val)-aW(0))+aB});return"url(#"+a7+")"}})}}else{if(ar){aY.attr("clip-path",function(a4,a3){if(a3===negativeIndexes[aR][aL]||a3===positiveIndexes[aR][aL]){var a6="roundCorner-clip-"+a3+aL+aR+ao;var a5=ab.append("clipPath").attr("id",a6).append("rect").attr("class","roundCorner-clip").attr("rx",aB).attr("ry",aB).attr("y",function(){if(a3===negativeIndexes[aR][aL]){return 0-aB}else{return 0}}).attr("height",function(){return Math.abs(aW(a4.val)-aW(0))+aB}).attr("x",0).attr("width",W);return"url(#"+a6+")"}})}}}}}else{aY.attr("y",0).attr("x",0).attr("width",W).attr("height",function(a3){return Math.abs(aW(a3.val)-aW(0))});if(ar){aY.attr("clip-path",function(a4,a3){if(a3===negativeIndexes[aR][aL]||a3===positiveIndexes[aR][aL]){var a6="roundCorner-clip-"+a3+aL+aR+ao;var a5=ab.append("clipPath").attr("id",a6).append("rect").attr("class","roundCorner-clip").attr("rx",aB).attr("ry",aB).attr("y",function(){if(a3===negativeIndexes[aR][aL]){return 0-aB}else{return 0}}).attr("height",function(){return Math.abs(aW(a4.val)-aW(0))+aB}).attr("x",0).attr("width",W);return"url(#"+a6+")"}})}}})});if(!ac){ax=true}aI.exit().remove();aq=false,z=false,p=false,U=false});if(!w){A()}return av}function A(){I.initialized();at=true}av.afterUIComponentAppear=function(){I.initialized()};av.width=function(x){if(!arguments.length){return n}aq=(n===x)&&!aq?false:true;n=x;if(a.isExist(n)&&a.isExist(s)&&a.isExist(X)){T()}return av};av.height=function(x){if(!arguments.length){return s}aq=(s===x)&&!aq?false:true;s=x;if(a.isExist(n)&&a.isExist(s)&&a.isExist(X)){T()}return av};av.data=function(aK){if(!arguments.length){return aw}aw=aK;var aD=k(aw);var aI=aD.MG1;var aF=aD.MG2;aj=aD.MG1Number;ai=aD.MG2Number||0;u=aD.MNDOnColor&&aD.MNDInner;t=[];if(a.isExist(aD.color)){q=true;E=true;var aJ=[],aH=[];var aG=[],aE=[];for(var aC=0;aC<aI.length;aC++){aJ=[];aH=[];for(var aB=0;aB<aI[aC].length;aB++){if(aD.color[aB]==0){aJ.push(aI[aC][aB]);aH.push({val:null,hasMNDonCategoryAxis:true})}else{aJ.push({val:null,hasMNDonCategoryAxis:true});aH.push(aI[aC][aB])}}aG.push(aJ);aE.push(aH)}aI=aG;aF=aE}else{q=false;if(a.isExist(aF)){if(!p&&(am.length!==aF.length||am[0].length!==aF[0].length)){p=true}E=true}else{E=false}}if(an.length!==aI.length||an[0].length!==aI[0].length){p=true}var x=J(aI,aF);X=x;an=aI;am=aF;if(!p){z=true}if(q){for(var aC=0;aC<X.length;aC++){var aL=X[aC];if(aL[0][0].hasMNDonCategoryAxis){t.push(aL[1])}else{t.push(aL[0])}}}else{t=c.extend(true,{},X)}if(a.isExist(n)&&a.isExist(s)){T()}aa();return av};av.properties=function(x){if(!arguments.length){return o}i.extend(true,o,x);aa();return av};var T=function(){var aB=[];for(var x=0;x<X.length;x++){aB.push(x)}xScale.domain(aB).rangeBands([0,n]);if(C==="percentage"){yScale.domain([0,1]).range([s,0]);yScale2.domain([0,1]).range([s,0])}else{if(r===0&&D===0){yScale.domain([0,1]).range([s,0])}else{yScale.domain([r,D]).range([s,0])}if(a.isExist(am)||E){if(S===0&&L===0){yScale2.domain(yScale.domain()).range(yScale.range())}else{yScale2.domain([L,S]).range([s,0]);if(r===0&&D===0){yScale.domain(yScale2.domain()).range(yScale2.range())}}if(!P&&!ad){m.perfectDual(yScale,yScale2)}else{if(!P&&ad){m.perfect(yScale)}else{if(P&&!ad){m.perfect(yScale2)}}}}else{if(!P){m.perfect(yScale)}}}if(!a.isExist(am)){yScale2.range([0,0])}};av.colorPalette=function(x){if(!arguments.length){return H}H=x;return av};av.primaryDataRange=function(aB){if(!arguments.length){var x,aC;if(C==="percentage"){x=1;aC=0}else{aC=r<0?r:0;x=D}return{min:aC,max:x}}if(aB!==null){D=aB.max;r=aB.min;if(aB.from==="axis"){P=true}if(a.isExist(n)&&a.isExist(s)){T()}}return av};av.secondDataRange=function(aB){if(!arguments.length){var x,aC;if(C==="percentage"){x=1;aC=0}else{aC=L<0?L:0;x=S}return{min:aC,max:x}}if(aB!==null){S=aB.max;L=aB.min;if(aB.from==="axis"){ad=true}if(a.isExist(n)&&a.isExist(s)){T()}}return av};av.categoryScale=function(x){if(!arguments.length){return xScale}xScale=x;return av};av.primaryScale=function(x){if(!arguments.length){return yScale}yScale=x;aA[0]=yScale;return av};av.secondScale=function(x){if(!arguments.length){return yScale2}yScale2=x;aA[0]=yScale2;return av};av.primaryAxisColor=function(){if(E&&!q){return H[0]}else{return undefined}};av.secondAxisColor=function(){if(a.isExist(X[0][1])&&!q){return az[X[0][1].length-1]}else{return undefined}};av.getPreferredSize=function(){};av.dataLabel=function(x){};av.x=function(x){if(!arguments.length){return af}af=x;return this};av.y=function(x){if(!arguments.length){return ae}ae=x;return this};av.dispatch=function(x){if(!arguments.length){return I}I=x;return this};av.primaryAxisTitle=function(aB){if(!arguments.length){var aE=aw.getMeasureValuesGroupDataByIdx(0),aD=[];if(aE){for(var aC=0,x=aE.values.length;aC<x;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(e.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};av.secondAxisTitle=function(aB){if(!arguments.length){var aE=aw.getMeasureValuesGroupDataByIdx(1),aD=[];if(aE){for(var aC=0,x=aE.values.length;aC<x;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(e.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};var J=function(aJ,aH,aC){var aG=-1,aF=-1;positiveIndexes=[[],[]],negativeIndexes=[[],[]];D=r=0;S=L=0;var aB=[];ah=aJ[0].length;var aM,x;for(var aD=0;aD<ah;aD++){var aK=[],aI=[];var aL=[];aM=0,x=0;aG=-1,aF=-1;for(var aE=0;aE<aJ.length;aE++){if(j.isNoValue(aJ[aE][aD].val)){aJ[aE][aD].val=null;aJ[aE][aD].isNaN=true}else{if(aJ[aE][aD].val>=0){aM+=aJ[aE][aD].val;aG=aE}else{x+=aJ[aE][aD].val;aF=aE}}aK.push(aJ[aE][aD])}positiveIndexes[0].push(aG);negativeIndexes[0].push(aF);if(D<aM){D=aM}if(r>x){r=x}aL.push(aK);if(a.isExist(aH)){aM=0,x=0;aG=-1,aF=-1;for(aE=0;aE<aH.length;aE++){if(j.isNoValue(aH[aE][aD].val)){aH[aE][aD].val=null;aH[aE][aD].isNaN=true}else{if(aH[aE][aD].val>=0){aM+=aH[aE][aD].val;aG=aE}else{x+=aH[aE][aD].val;aF=aE}}aI.push(aH[aE][aD])}positiveIndexes[1].push(aG);negativeIndexes[1].push(aF);if(S<aM){S=aM}if(L>x){L=x}aL.push(aI)}aB.push(aL)}return aB};o=F.props(null);return av};return g});sap.riv.module({qname:"sap.viz.modules.background",version:"4.0.0",exported:true},[{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,b,c,d){return function(g,q){var j="viz-plot-background-border",p="viz-plot-background";var i=a.newId();var h=0,n=0;var l=q.effectManager,k,r;var e=new b("initialized");function f(v){r=v;d.drawBound(v,h,n);if(k.visible){o();m();var u=r.select("#background-rect-"+i);if(u.empty()){u=r.append("svg:rect").attr("id","background-rect-"+i)}var t=l.register({graphType:"background",fillColor:k.style.fillColor,drawingEffect:k.drawingEffect,direction:k.direction});u.attr("x",0).attr("y",0).attr("width",h).attr("height",n).attr("fill",t);var w=[];if(k.border.left.visible){w.push({x1:0,y1:0,x2:0,y2:n})}if(k.border.right.visible){w.push({x1:h,y1:0,x2:h,y2:n})}if(k.border.top.visible){w.push({x1:0,y1:0,x2:h,y2:0})}if(k.border.bottom.visible){w.push({x1:0,y1:n,x2:h,y2:n})}var x=v.selectAll("."+j).data(w);x.enter().append("svg:line").attr("class",j);x.exit().remove();x.attr("x1",function(z){return z.x1}).attr("y1",function(z){return z.y1}).attr("x2",function(z){return z.x2}).attr("y2",function(z){return z.y2})}else{var s=r.node();while(s.hasChildNodes()){s.removeChild(s.firstChild)}}e.initialized();return f}f.properties=function(s){if(!arguments.length){return k}c.extend(true,k,s);return f};f.size=function(s){if(arguments.length===0){return{width:h,height:n}}h=s.width;n=s.height;return f};f.width=function(s){if(arguments.length===0){return h}h=s;return f};f.height=function(s){if(arguments.length===0){return n}n=s;return f};f.data=function(s){if(!arguments.length){return{}}return f};f.parent=function(){return null};f.dispatch=function(s){if(!arguments.length){return e}e=s;return f};function m(){var u=r.select("#background-defs-"+i);if(u.empty()){u=r.insert("defs",":first-child").attr("id","background-defs-"+i)}var t=u.select("style");if(t.empty()){t=u.insert("style",":first-child");t[0][0].setAttribute("type","text/css")}var s="."+j+"{"+q.styleManager.cssText(j)+"}";t[0][0].textContent=s}function o(){if(!k.style){k.style={}}var s=q.styleManager.query(p);if(s){if(s.fill){k.style.fillColor=s.fill}}}k=g.props(null);return f}});sap.riv.module({qname:"sap.viz.mvc.CSSParserUtility",version:"4.0.0"},[],function Setup(){var a=function(){};var b=a.prototype;b.split=function(o,e){if(/['"]/.test(e)){throw"' \" is not allowed in splitter."}if(o==""){return[o]}var p=[];var m=[];var f=0;var h=e.length;var g=o.length;for(var k=0;k<g;k++){var n=o.charAt(k);if(n=="'"||n=='"'){if(p.length>0){var j=p.pop();if(n!=j){p.push(j);p.push(n)}}else{p.push(n)}continue}if(p.length>0){continue}var d=o.substring(k,k+h);if(d==e){m.push(o.substring(f,k));k=f=k+h}}if(f<g){m.push(o.substring(f))}return m};b.COLORS=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","orange","purple","red","silver","teal","white","yellow","transparent"];b.isColor=function(f){f=f.toLowerCase();if(this.COLORS.indexOf(f)>=0){return true}if(f.charAt(0)=="#"){var d=f.length;if(d!=4&&d!=7){return false}return !/[^0-9a-f]/.test(f.substring(1))}var e="-?[0-9\\.]+%?";var c=RegExp("^rgb\\("+e+","+e+","+e+"\\)$");if(c.test(f)){return true}return false};b.NUM_RE_STR="[0-9]+|[0-9]*\\.[0-9]+";b.isLength=function(c){c=c.toLowerCase();var d=new RegExp("^("+this.NUM_RE_STR+")(em|ex|in|cm|mm|pt|pc|px)$");return d.test(c)};b.isPercentage=function(d){var c=new RegExp("^"+this.NUM_RE_STR+"%$");return c.test(d)};b.WIDTHS=["thin","medium","thick"];b.isWidth=function(c){return this.WIDTHS.indexOf(c)>=0||this.isLength(c)};b.BORDER_STYLES=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];b.isBorderStyle=function(c){c=c.toLowerCase();return this.BORDER_STYLES.indexOf(c)>=0};b.FONT_STYLES=["italic","oblique"];b.isFontStyle=function(c){return this.FONT_STYLES.indexOf(c.toLowerCase())>=0};b.isFontVariant=function(c){return"small-caps"==c};b.FONT_WEIGHTS=["bold","bolder","lighter","100","200","300","400","500","600","700","800","900"];b.isFontWeight=function(c){return this.FONT_WEIGHTS.indexOf(c.toLowerCase())>=0};b.TYPE_COLOR="color";b.TYPE_WIDTH="width";b.TYPE_BORDERSTYLE="borderstyle";b.TYPE_FONTSTYLE="font-style";b.TYPE_FONTVARIANT="font-variant";b.TYPE_FONTWEIGHT="font-weight";b.TYPE_UNKNOWN="unknown";b.valueType=function(c){if(this.isColor(c)){return this.TYPE_COLOR}if(this.isWidth(c)){return this.TYPE_WIDTH}if(this.isBorderStyle(c)){return this.TYPE_BORDERSTYLE}if(this.isFontStyle(c)){return this.TYPE_FONTSTYLE}if(this.isFontVariant(c)){return this.TYPE_FONTVARIANT}if(this.isFontWeight(c)){return this.TYPE_FONTWEIGHT}return this.TYPE_UNKNOWN};b.FONT_SIZES=["xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"];b.validateFontSize=function(c){return this.FONT_SIZES.indexOf(c)>=0||this.isLength(c)||this.isPercentage(c)};b.validateMargin=function(c){return c=="auto"||this.isLength(c)||this.isPercentage(c)};b.validatePadding=function(c){return this.isLength(c)||this.isPercentage(c)};return a});sap.riv.module({qname:"sap.viz.mvc.CSSParser",version:"4.0.0"},[{qname:"sap.viz.mvc.CSSParserUtility",version:"4.0.0"}],function Setup(d){var f=(function(){var m={trace:function i(){},yy:{},symbols_:{error:2,theme:3,ruleset:4,rule:5,selector_list:6,"{":7,declaration_list:8,"}":9,selector:10,",":11,"class":12,".":13,IDENT:14,declaration:15,";":16,property:17,":":18,expr:19,prio:20,IMPORTANT_SYM:21,term:22,operator:23,"/":24,signed_term:25,STRING:26,URI:27,HASH:28,"function":29,NUMBER:30,PERCENTAGE:31,LENGTH:32,EMS:33,EXS:34,ANGLE:35,TIME:36,FREQ:37,unary_operator:38,FUNCTION:39,")":40,"-":41,"+":42,"$accept":0,"$end":1},terminals_:{2:"error",7:"{",9:"}",11:",",13:".",14:"IDENT",16:";",18:":",21:"IMPORTANT_SYM",24:"/",26:"STRING",27:"URI",28:"HASH",30:"NUMBER",31:"PERCENTAGE",32:"LENGTH",33:"EMS",34:"EXS",35:"ANGLE",36:"TIME",37:"FREQ",39:"FUNCTION",40:")",41:"-",42:"+"},productions_:[0,[3,1],[4,1],[4,2],[5,4],[6,1],[6,3],[10,1],[10,2],[12,2],[8,1],[8,3],[8,2],[15,3],[15,2],[17,1],[20,1],[19,1],[19,2],[19,3],[23,1],[23,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,2],[29,3],[38,1],[38,1]],performAction:function h(n,q,r,u,t,p,s){var o=p.length-1;switch(t){case 1:return p[o];case 2:this.$=[p[o]];break;case 3:this.$=p[o-1];this.$.push(p[o]);break;case 4:this.$={selector:p[o-3],declaration:p[o-1]};break;case 5:this.$=[p[o]];break;case 6:this.$=p[o-2];this.$.push(p[o]);break;case 7:this.$=p[o];break;case 8:this.$=p[o-1]+p[o];break;case 9:this.$=p[o-1]+p[o];break;case 10:this.$=[p[o]];break;case 11:this.$=p[o-2];this.$.push(p[o]);break;case 12:this.$=p[o-1];break;case 13:this.$={name:p[o-2],value:p[o]};break;case 14:this.$=p[o-1];this.$.important=true;break;case 18:this.$=p[o-1]+" "+p[o];break;case 19:this.$=p[o-2]+p[o-1]+p[o];break;case 36:this.$=p[o-1]+p[o];break;case 37:this.$=p[o-2]+p[o-1]+p[o];break}},table:[{3:1,4:2,5:3,6:4,10:5,12:6,13:[1,7]},{1:[3]},{5:8,6:4,10:5,12:6,13:[1,7],1:[2,1]},{1:[2,2],13:[2,2]},{7:[1,9],11:[1,10]},{12:11,13:[1,7],7:[2,5],11:[2,5]},{7:[2,7],13:[2,7],11:[2,7]},{14:[1,12]},{1:[2,3],13:[2,3]},{8:13,15:14,17:15,14:[1,16]},{10:17,12:6,13:[1,7]},{7:[2,8],13:[2,8],11:[2,8]},{7:[2,9],11:[2,9],13:[2,9]},{9:[1,18],16:[1,19]},{20:20,21:[1,21],9:[2,10],16:[2,10]},{18:[1,22]},{18:[2,15]},{12:11,13:[1,7],7:[2,6],11:[2,6]},{1:[2,4],13:[2,4]},{15:23,17:15,14:[1,16],9:[2,12],16:[2,12]},{9:[2,14],21:[2,14],16:[2,14]},{21:[2,16],9:[2,16],16:[2,16]},{19:24,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{20:20,21:[1,21],9:[2,11],16:[2,11]},{22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43],9:[2,13],21:[2,13],16:[2,13]},{9:[2,17],16:[2,17],30:[2,17],31:[2,17],32:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],41:[2,17],42:[2,17],26:[2,17],14:[2,17],27:[2,17],28:[2,17],39:[2,17],24:[2,17],11:[2,17],21:[2,17],40:[2,17]},{16:[2,22],9:[2,22],21:[2,22],11:[2,22],24:[2,22],39:[2,22],28:[2,22],27:[2,22],14:[2,22],26:[2,22],42:[2,22],41:[2,22],37:[2,22],36:[2,22],35:[2,22],34:[2,22],33:[2,22],32:[2,22],31:[2,22],30:[2,22],40:[2,22]},{16:[2,23],9:[2,23],21:[2,23],11:[2,23],24:[2,23],39:[2,23],28:[2,23],27:[2,23],14:[2,23],26:[2,23],42:[2,23],41:[2,23],37:[2,23],36:[2,23],35:[2,23],34:[2,23],33:[2,23],32:[2,23],31:[2,23],30:[2,23],40:[2,23]},{16:[2,24],9:[2,24],21:[2,24],11:[2,24],24:[2,24],39:[2,24],28:[2,24],27:[2,24],14:[2,24],26:[2,24],42:[2,24],41:[2,24],37:[2,24],36:[2,24],35:[2,24],34:[2,24],33:[2,24],32:[2,24],31:[2,24],30:[2,24],40:[2,24]},{16:[2,25],9:[2,25],21:[2,25],11:[2,25],24:[2,25],39:[2,25],28:[2,25],27:[2,25],14:[2,25],26:[2,25],42:[2,25],41:[2,25],37:[2,25],36:[2,25],35:[2,25],34:[2,25],33:[2,25],32:[2,25],31:[2,25],30:[2,25],40:[2,25]},{16:[2,26],9:[2,26],21:[2,26],11:[2,26],24:[2,26],39:[2,26],28:[2,26],27:[2,26],14:[2,26],26:[2,26],42:[2,26],41:[2,26],37:[2,26],36:[2,26],35:[2,26],34:[2,26],33:[2,26],32:[2,26],31:[2,26],30:[2,26],40:[2,26]},{16:[2,27],9:[2,27],21:[2,27],11:[2,27],24:[2,27],39:[2,27],28:[2,27],27:[2,27],14:[2,27],26:[2,27],42:[2,27],41:[2,27],37:[2,27],36:[2,27],35:[2,27],34:[2,27],33:[2,27],32:[2,27],31:[2,27],30:[2,27],40:[2,27]},{9:[2,28],16:[2,28],30:[2,28],31:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],41:[2,28],42:[2,28],26:[2,28],14:[2,28],27:[2,28],28:[2,28],39:[2,28],24:[2,28],11:[2,28],21:[2,28],40:[2,28]},{9:[2,29],16:[2,29],30:[2,29],31:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],37:[2,29],41:[2,29],42:[2,29],26:[2,29],14:[2,29],27:[2,29],28:[2,29],39:[2,29],24:[2,29],11:[2,29],21:[2,29],40:[2,29]},{9:[2,30],16:[2,30],30:[2,30],31:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],37:[2,30],41:[2,30],42:[2,30],26:[2,30],14:[2,30],27:[2,30],28:[2,30],39:[2,30],24:[2,30],11:[2,30],21:[2,30],40:[2,30]},{9:[2,31],16:[2,31],30:[2,31],31:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],37:[2,31],41:[2,31],42:[2,31],26:[2,31],14:[2,31],27:[2,31],28:[2,31],39:[2,31],24:[2,31],11:[2,31],21:[2,31],40:[2,31]},{9:[2,32],16:[2,32],30:[2,32],31:[2,32],32:[2,32],33:[2,32],34:[2,32],35:[2,32],36:[2,32],37:[2,32],41:[2,32],42:[2,32],26:[2,32],14:[2,32],27:[2,32],28:[2,32],39:[2,32],24:[2,32],11:[2,32],21:[2,32],40:[2,32]},{9:[2,33],16:[2,33],30:[2,33],31:[2,33],32:[2,33],33:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],41:[2,33],42:[2,33],26:[2,33],14:[2,33],27:[2,33],28:[2,33],39:[2,33],24:[2,33],11:[2,33],21:[2,33],40:[2,33]},{9:[2,34],16:[2,34],30:[2,34],31:[2,34],32:[2,34],33:[2,34],34:[2,34],35:[2,34],36:[2,34],37:[2,34],41:[2,34],42:[2,34],26:[2,34],14:[2,34],27:[2,34],28:[2,34],39:[2,34],24:[2,34],11:[2,34],21:[2,34],40:[2,34]},{9:[2,35],16:[2,35],30:[2,35],31:[2,35],32:[2,35],33:[2,35],34:[2,35],35:[2,35],36:[2,35],37:[2,35],41:[2,35],42:[2,35],26:[2,35],14:[2,35],27:[2,35],28:[2,35],39:[2,35],24:[2,35],11:[2,35],21:[2,35],40:[2,35]},{25:48,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,41:[1,42],42:[1,43]},{19:49,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,38],31:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],41:[2,38],42:[2,38]},{30:[2,39],31:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],41:[2,39],42:[2,39]},{9:[2,18],16:[2,18],30:[2,18],31:[2,18],32:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],41:[2,18],42:[2,18],26:[2,18],14:[2,18],27:[2,18],28:[2,18],39:[2,18],24:[2,18],11:[2,18],21:[2,18],40:[2,18]},{22:50,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,20],31:[2,20],32:[2,20],33:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],41:[2,20],42:[2,20],26:[2,20],14:[2,20],27:[2,20],28:[2,20],39:[2,20]},{30:[2,21],31:[2,21],32:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],41:[2,21],42:[2,21],26:[2,21],14:[2,21],27:[2,21],28:[2,21],39:[2,21]},{9:[2,36],16:[2,36],30:[2,36],31:[2,36],32:[2,36],33:[2,36],34:[2,36],35:[2,36],36:[2,36],37:[2,36],41:[2,36],42:[2,36],26:[2,36],14:[2,36],27:[2,36],28:[2,36],39:[2,36],24:[2,36],11:[2,36],21:[2,36],40:[2,36]},{40:[1,51],22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{9:[2,19],16:[2,19],30:[2,19],31:[2,19],32:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],41:[2,19],42:[2,19],26:[2,19],14:[2,19],27:[2,19],28:[2,19],39:[2,19],24:[2,19],11:[2,19],21:[2,19],40:[2,19]},{9:[2,37],16:[2,37],30:[2,37],31:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],41:[2,37],42:[2,37],26:[2,37],14:[2,37],27:[2,37],28:[2,37],39:[2,37],24:[2,37],11:[2,37],21:[2,37],40:[2,37]}],defaultActions:{16:[2,15]},parseError:function j(o,n){throw new Error(o)},parse:function l(z){var G=this,v=[0],P=[null],B=[],Q=this.table,o="",A=0,N=0,s=0,x=2,D=1;this.lexer.setInput(z);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var q=this.lexer.yylloc;B.push(q);var t=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function F(p){v.length=v.length-2*p;P.length=P.length-p;B.length=B.length-p}function E(){var p;p=G.lexer.lex()||1;if(typeof p!=="number"){p=G.symbols_[p]||p}return p}var M,I,u,L,R,C,K={},H,O,n,w;while(true){u=v[v.length-1];if(this.defaultActions[u]){L=this.defaultActions[u]}else{if(M===null||typeof M=="undefined"){M=E()}L=Q[u]&&Q[u][M]}_handle_error:if(typeof L==="undefined"||!L.length||!L[0]){var J="";if(!s){w=[];for(H in Q[u]){if(this.terminals_[H]&&H>2){w.push("'"+this.terminals_[H]+"'")}}if(this.lexer.showPosition){J="Parse error on line "+(A+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[M]||M)+"'"}else{J="Parse error on line "+(A+1)+": Unexpected "+(M==1?"end of input":("'"+(this.terminals_[M]||M)+"'"))}this.parseError(J,{text:this.lexer.match,token:this.terminals_[M]||M,line:this.lexer.yylineno,loc:q,expected:w})}if(s==3){if(M==D){throw new Error(J||"Parsing halted.")}N=this.lexer.yyleng;o=this.lexer.yytext;A=this.lexer.yylineno;q=this.lexer.yylloc;M=E()}while(1){if((x.toString()) in Q[u]){break}if(u===0){throw new Error(J||"Parsing halted.")}F(1);u=v[v.length-1]}I=M==2?null:M;M=x;u=v[v.length-1];L=Q[u]&&Q[u][x];s=3}if(L[0] instanceof Array&&L.length>1){throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+M)}switch(L[0]){case 1:v.push(M);P.push(this.lexer.yytext);B.push(this.lexer.yylloc);v.push(L[1]);M=null;if(!I){N=this.lexer.yyleng;o=this.lexer.yytext;A=this.lexer.yylineno;q=this.lexer.yylloc;if(s>0){s--}}else{M=I;I=null}break;case 2:O=this.productions_[L[1]][1];K.$=P[P.length-O];K._$={first_line:B[B.length-(O||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(O||1)].first_column,last_column:B[B.length-1].last_column};if(t){K._$.range=[B[B.length-(O||1)].range[0],B[B.length-1].range[1]]}C=this.performAction.call(K,o,N,A,this.yy,L[1],P,B);if(typeof C!=="undefined"){return C}if(O){v=v.slice(0,-1*O*2);P=P.slice(0,-1*O);B=B.slice(0,-1*O)}v.push(this.productions_[L[1]][0]);P.push(K.$);B.push(K._$);n=Q[v[v.length-2]][v[v.length-1]];v.push(n);break;case 3:return true}}return true}};var g=(function(){var q=({EOF:1,parseError:function s(v,u){if(this.yy.parser){this.yy.parser.parseError(v,u)}else{throw new Error(v)}},setInput:function(u){this._input=u;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var v=this._input[0];this.yytext+=v;this.yyleng++;this.offset++;this.match+=v;this.matched+=v;var u=v.match(/(?:\r\n?|\n).*/g);if(u){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return v},unput:function(w){var u=w.length;var v=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-u-1);this.offset-=u;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(v.length-1){this.yylineno-=v.length-1}var x=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===z.length?this.yylloc.first_column:0)+z[z.length-v.length].length-v[0].length:this.yylloc.first_column-u};if(this.options.ranges){this.yylloc.range=[x[0],x[0]+this.yyleng-u]}return this},more:function(){this._more=true;return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;if(u.length<20){u+=this._input.substr(0,20-u.length)}return(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput();var v=new Array(u.length+1).join("-");return u+this.upcomingInput()+"\n"+v+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var B,z,v,x,w,u;if(!this._more){this.yytext="";this.match=""}var C=this._currentRules();for(var A=0;A<C.length;A++){v=this._input.match(this.rules[C[A]]);if(v&&(!z||v[0].length>z[0].length)){z=v;x=A;if(!this.options.flex){break}}}if(z){u=z[0].match(/(?:\r\n?|\n).*/g);if(u){this.yylineno+=u.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length};this.yytext+=z[0];this.match+=z[0];this.matches=z;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(z[0].length);this.matched+=z[0];B=this.performAction.call(this,this.yy,this,C[x],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(B){return B}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function n(){var u=this.next();if(typeof u!=="undefined"){return u}else{return this.lex()}},begin:function o(u){this.conditionStack.push(u)},popState:function t(){return this.conditionStack.pop()},_currentRules:function r(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function o(u){this.begin(u)}});q.options={flex:true,"case-insensitive":true};q.performAction=function p(z,v,x,u){var w=u;switch(x){case 0:break;case 1:break;case 2:break;case 3:return"CDO";case 4:return"CDC";case 5:return"INCLUDES";case 6:return"DASHMATCH";case 7:return 26;case 8:return"BAD_STRING";case 9:return 14;case 10:return 28;case 11:return"IMPORT_SYM";case 12:return"PAGE_SYM";case 13:return"MEDIA_SYM";case 14:return"CHARSET_SYM";case 15:return 21;case 16:return 33;case 17:return 34;case 18:return 32;case 19:return 32;case 20:return 32;case 21:return 32;case 22:return 32;case 23:return 32;case 24:return 35;case 25:return 35;case 26:return 35;case 27:return 36;case 28:return 36;case 29:return 37;case 30:return 37;case 31:return"DIMENSION";case 32:return 31;case 33:return 30;case 34:return 27;case 35:return 27;case 36:return"BAD_URI";case 37:return 39;case 38:return v.yytext;case 39:console.log(v.yytext);break}};q.rules=[/^(?:([ \t\r\n\f]+))/i,/^(?:\/\*[^*]*\*+([^\/*][^*]*\*+)*\/)/i,/^(?:((\/\*[^*]*\*+([^\/*][^*]*\*+)*)|(\/\*[^*]*(\*+[^\/*][^*]*)*)))/i,/^(?:<!--)/i,/^(?:-->)/i,/^(?:~=)/i,/^(?:\|=)/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*')))/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:#(([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))+))/i,/^(?:@([iI])([mM])([pP])([oO])([rR])([tT]))/i,/^(?:@([pP])([aA])([gG])([eE]))/i,/^(?:@([mM])([eE])([dD])([iI])([aA]))/i,/^(?:@charset )/i,/^(?:!((([ \t\r\n\f]+)?)|(\/\*[^*]*\*+([^\/*][^*]*\*+)*\/))*([iI])([mM])([pP])([oO])([rR])([tT])([aA])([nN])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([cC])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([iI])([nN]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([cC]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([dD])([eE])([gG]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([gG])([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([kK])([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)%)/i,/^(?:([0-9]+|[0-9]*\.[0-9]+))/i,/^(?:url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?)\))/i,/^(?:url\((([ \t\r\n\f]+)?)(([!#$%&*-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)(([ \t\r\n\f]+)?)\))/i,/^(?:((url\((([ \t\r\n\f]+)?)([!#$%&*-\[\]-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)\()/i,/^(?:.)/i,/^(?:.)/i];q.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:true}};return q})();m.lexer=g;function k(){this.yy={}}k.prototype=m;m.Parser=k;return new k()})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=f;exports.Parser=f.Parser;exports.parse=function(){return f.parse.apply(f,arguments)};exports.main=function c(g){if(!g[1]){throw new Error("Usage: "+g[0]+" FILE")}var i,h;if(typeof process!=="undefined"){i=require("fs").readFileSync(require("path").resolve(g[1]),"utf8")}else{i=require("file").path(require("file").cwd()).join(g[1]).read({charset:"utf-8"})}return exports.parser.parse(i)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}var a=function(){};var e=a.prototype;var b=new d();e._processBorderCommon=function(k,o){var t=k.split(" ");var m=t.length;if(m==0||m>3){return null}var q={};var r=[];var u=[b.TYPE_COLOR,b.TYPE_WIDTH,b.TYPE_BORDERSTYLE];for(var p=0;p<m;p++){var h=t[p];var s=b.valueType(h);if(u.indexOf(s)<0||q[s]){return null}q[s]="XXX";for(var n=0;n<o.length;n++){var g=o[n]+"-";switch(s){case b.TYPE_COLOR:g+="color";break;case b.TYPE_WIDTH:g+="width";break;case b.TYPE_BORDERSTYLE:g+="style";break}r.push({name:g,value:h})}}if(!q[b.TYPE_BORDERSTYLE]){return null}return r};e.processBorder=function(h){var g=["border-top","border-right","border-bottom","border-left"];return this._processBorderCommon(h,g)};e.processBorderEdge=function(h,g){return this._processBorderCommon(h,[g])};e._expandAttrTo4Edges=function(h,s,n,q,o){var t=h.split(" ");var j=t.length;if(j==0||j>4){return null}var r=[];for(var p=0;p<4;p++){var g=o[p].replace("*",s);var m=p;m<j||(m-=2)<j||(m-=3)<j;m>=0||(m=0);var u=t[m];if(h!="inherit"&&!n.call(q,u)){return null}r.push({name:g,value:u})}return r};e._processBorderAttr=function(i,h){var j=null;switch(h){case"color":j=b.isColor;break;case"width":j=b.isWidth;break;case"style":j=b.isBorderStyle;break;default:return null}var g=["border-top-*","border-right-*","border-bottom-*","border-left-*"];return this._expandAttrTo4Edges(i,h,j,b,g)};e.processBorderColor=function(g){return this._processBorderAttr(g,"color")};e.processBorderWidth=function(g){return this._processBorderAttr(g,"width")};e.processBorderStyle=function(g){return this._processBorderAttr(g,"style")};e.processFont=function(j){var p=b.split(j," ");if(p.length<2){return null}var r=j.indexOf("/")>=0;var n=[];n.push({name:"font-family",value:p.pop()});var s=p.pop();if(r){var t=s.split("/");if(t.length!=2||t[1]==""){return null}n.push({name:"line-height",value:t[1]});s=t[0]}if(s==""){return null}if(!b.validateFontSize(s)){return null}n.push({name:"font-size",value:s});var m={};var q=[b.TYPE_FONTSTYLE,b.TYPE_FONTVARIANT,b.TYPE_FONTWEIGHT];for(var k=0,h=p.length;k<h;k++){var o=b.valueType(p[k]);if(q.indexOf(o)<0||m[o]){return null}m[o]="XXX";var g=null;n.push({name:o,value:p[k]})}return n};e.processMargin=function(h){var g=["*-top","*-right","*-bottom","*-left"];return this._expandAttrTo4Edges(h,"padding",b.validateMargin,b,g)};e.processPadding=function(h){var g=["*-top","*-right","*-bottom","*-left"];return this._expandAttrTo4Edges(h,"margin",b.validatePadding,b,g)};e.processParentAttrs=function(p){var o=[];for(var n=0,j=p.length;n<j;n++){var h=p[n];var m=h.name.toLowerCase();var k=h;switch(m){case"border":k=this.processBorder(h.value);break;case"border-top":case"border-right":case"border-bottom":case"border-left":k=this.processBorderEdge(h.value,m);break;case"border-color":k=this.processBorderColor(h.value);break;case"border-style":k=this.processBorderStyle(h.value);break;case"border-width":k=this.processBorderWidth(h.value);break;case"font":k=this.processFont(h.value);break;case"margin":k=this.processMargin(h.value);break;case"padding":k=this.processPadding(h.value);break;default:break}if(k===h){o.push(h)}else{for(var g in k){k[g].important=h.important;o.push(k[g])}}}return o};e.parse=function(g){var t=null;try{t=f.parse(g)}catch(u){alert("Parse error, please check your console output: \n"+u);console.log(u);console.log(u.message);return null}var h=[];var v=1;for(var q=0,m=t.length;q<m;q++){var o=t[q];var s=this.processParentAttrs(o.declaration);for(var p=0,n=s.length;p<n;p++){var r={idx:v++,selector:o.selector,property:s[p].name,value:s[p].value,important:s[p].important?true:false};h.push(r)}}return h};return new a()});sap.riv.module({qname:"sap.viz.util.parseCSS",version:"4.0.0"},[{qname:"sap.viz.mvc.CSSParser",version:"4.0.0"}],function Setup(a){function b(e,f,c){var d;e=e.toLowerCase();switch(e){case"border":d=a.processBorder(f);break;case"border-top":case"border-right":case"border-bottom":case"border-left":d=a.processBorderEdge(f,name);break;case"border-color":d=a.processBorderColor(f);break;case"border-style":d=a.processBorderStyle(f);break;case"border-width":d=a.processBorderWidth(f);break;case"font":d=a.processFont(f);break;case"margin":d=a.processMargin(f);break;case"padding":d=a.processPadding(f);break;default:break}if(!d){c[e]=f}else{d.forEach(function(g){c[g.name]=g.value})}}return function(g){var e={};for(var d in g){if(g.hasOwnProperty(d)){var c=g[d];var h={};for(var f in c){if(c.hasOwnProperty(f)){b(f,c[f],h)}}e[d]=h}}return e}});sap.riv.module({qname:"sap.viz.manifest",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"}],function Setup(a,c,d){var b={};b.registerCategory=function(f,e,h){if(!a.isNonEmptyString(f)){c.error("The category name must be a non-empty string.")}if(e&&!a.isFunction(e)){c.error("The category factory must be a function.")}if(b.hasOwnProperty(f)){c.error('There is already a category named "{0}"',f)}var i=d3.map();var g={get:function(l,k){var j=i.get(l);if(j===undefined&&k){c.error('Cannot find "{0}" in category "{1}"',l,f)}return j},each:function(k,j){i.forEach(function(m,l){k.call(j,l,m)});return b},unregister:function(k){var j;if(a.isExist(k)){j=i.get(k);i.remove(k)}return j},register:function(){Array.prototype.forEach.call(arguments,function(l){if(a.isUndefined(l)){c.error("Cannot register a undefined object.")}var j=l.id;if(!a.isNonEmptyString(j)){c.error("Cannot register without a valid id.")}if(i.has(j)){c.error('There is already an item named "{0}" in category "{1}".',j,f)}var k=l["abstract"]===true;l=d.extend(true,null,l.base!==undefined?g.get(l.base,true):null,l);Object.defineProperty(l,"abstract",{value:k,enumerable:false});if(e&&!k){e.call(h,l,b)}i.set(j,l)});return b}};b[f]=g;return g};b.unregisterCategory=function(e){return e in b&&delete b[e]};return b});sap.riv.module({qname:"sap.viz.TemplateManager",version:"4.0.0",exported:true},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.util.parseCSS",version:"4.0.0"}],function Setup(b,l,a,i,f){function o(u,r,w){var v=document.getElementsByTagName("head")[0]||document.documentElement;var t=document.createElement("script");t.type="text/javascript";t.src=u;var s=false;t.onload=t.onreadystatechange=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;h(t);r()}};if(t.addEventListener){t.addEventListener("error",function(){h(t);w()},true)}v.insertBefore(t,v.firstChild)}function d(z,u,v,r,x){if(u<z.length){var t=z[u]+v+"/template.js";var s=function(){d(z,u+1,v,r,x)};o(t,s,s)}else{var w=e(v);if(w){r(w)}else{x()}}}function p(s,r){d(j.loadPath,0,s,r,function(){l.error("Loading template {0} failed.",s)})}function h(r){r.onload=r.onreadystatechange=null;r.parentNode.removeChild(r)}var n=b.registerCategory("template",function(r){r.css=f(r.css);Object.defineProperties(r,{props:{value:function(t){var s=r.properties;if(s){return s[t]}}}});return r});var m;function e(r){return n.get(r)}function q(s,r,t){m=s;if(r){r.call(t,m)}}var k="default",c={id:k,name:"Default"};var j={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return m},apply:function(u,r,t){var s=e(u);if(!s){p(u,function(v){q(v,r,t)})}else{q(s,r,t)}return j},register:function(){n.register.apply(n,arguments);return j},extend:function(t,s){var r=n.get(t,true);i.extend(true,r,s);return j}};delete j.constructor;var g={writable:false,configurable:false};Object.defineProperties(j,{loadPath:{configurable:false},current:g,apply:g,register:g});j.register(c);m=e(k);return j});sap.riv.module({qname:"sap.viz.StyleManager",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"}],function Setup(c){function b(d){c.extend(this,d)}b.prototype.toString=function(){var e="",d;for(d in this){if(this.hasOwnProperty(d)){e+=d+":"+this[d]+";"}}return e};function a(){this.style={};this.defaultStyle={}}a.prototype.update=function(d){c.extend(true,this.style,d)};a.prototype.setDefault=function(d){this.defaultStyle=c.extend(true,null,d,this.defaultStyle)};a.prototype.query=function(j,f){if(/\./.test(j)){throw". is not allowed"}var e=j.split(" ");var h={};for(var g=0,d=e.length;g<d;g++){if(e[g]===""){continue}c.extend(h,this.defaultStyle["."+e[g]],f,this.style["."+e[g]])}return new b(h)};a.prototype.cssText=function(d){return this.query(d).toString()};return a});sap.riv.module({qname:"sap.viz.config",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(d){var c={};var a=false;var b={constructor:function(){return},enableCanvg:function(e){if(!arguments.length){return a}a=e;return b},register:function(e){if(c[e.id]){return}c[e.id]=e.value;return b},get:function(e){if(c[e]){return c[e]}}};return b});sap.riv.module({qname:"sap.viz.util.EffectManager",version:"4.0.0"},[],function Setup(){function e(k,j){this._defs=k;this._enableGhostEffect=j}function f(j){var k;if(j!==undefined&&typeof(j)==="object"){if(j.rgb){k=j.rgb().toString()}else{k=j.toString()}}else{if(typeof(j)==="string"){k=d3.rgb(j.toLowerCase()).toString()}}return k}function a(n){var m=parseInt(n.substr(1,2),16);var l=parseInt(n.substr(3,2),16);var k=parseInt(n.substr(5,2),16);var o;if((m===l)&&(l===k)){o=(Math.round(256+m+(255-m)*0.6).toString(16)).substr(1)}else{var j=(m*299+l*587+k*114+500)/1000;o=(Math.round(256+j).toString(16)).substr(1)}return"#"+o+o+o}function i(o,n){var m=parseInt(o.substr(1,2),16);var l=parseInt(o.substr(3,2),16);var j=parseInt(o.substr(5,2),16);var k;if(n>=0){k="#";k+=(Math.round(256+m+(255-m)*n/100).toString(16)).substr(1);k+=(Math.round(256+l+(255-l)*n/100).toString(16)).substr(1);k+=(Math.round(256+j+(255-j)*n/100).toString(16)).substr(1);return k}else{k="#";k+=(Math.round(256+m*(100+n)/100).toString(16)).substr(1);k+=(Math.round(256+l*(100+n)/100).toString(16)).substr(1);k+=(Math.round(256+j*(100+n)/100).toString(16)).substr(1);return k}}function d(p,j,k,o){var n=k;var m=i(n,50);var l=i(k,-30);var r=p.append("radialGradient");var q=r[0][0];q.setAttribute("id",j);q.setAttribute("cx",0);q.setAttribute("cy",0);q.setAttribute("r",o);q.setAttribute("fx",0);q.setAttribute("fy",0);q.setAttribute("gradientUnits","userSpaceOnUse");r.append("stop").attr("stop-opacity",1).attr("offset",0).attr("stop-color",m);r.append("stop").attr("stop-opacity",1).attr("offset",0.9).attr("stop-color",n);r.append("stop").attr("stop-opacity",1).attr("offset",1).attr("stop-color",l)}function b(q,p,o){var n=o;var m=i(n,10);var k=i(n,80);var l=q.append("radialGradient");var j=l[0][0];j.setAttribute("id",p);j.setAttribute("cx","50%");j.setAttribute("cy","50%");j.setAttribute("r","50%");j.setAttribute("fx","50%");j.setAttribute("fy","20%");l.append("stop").attr("stop-opacity",1).attr("offset",0).attr("stop-color",k);l.append("stop").attr("stop-opacity",1).attr("offset",0.7).attr("stop-color",m);l.append("stop").attr("stop-opacity",1).attr("offset",0.9).attr("stop-color",n);l.append("stop").attr("stop-opacity",1).attr("offset",1).attr("stop-color",n)}function h(p,j,k,r){var o=i(k,30);var n=i(k,50);var m=i(k,-10);var l=i(k,10);var q=p.append("svg:linearGradient").attr("id",j).attr("x1","0%").attr("y1","0%");if(r==="horizontal"){q.attr("y2","0%").attr("x2","100%")}else{q.attr("y2","100%").attr("x2","0%")}q.append("stop").attr("stop-opacity",1).attr("offset",0).attr("stop-color",o);q.append("stop").attr("stop-opacity",1).attr("offset",0.2).attr("stop-color",n);q.append("stop").attr("stop-opacity",1).attr("offset",0.8).attr("stop-color",m);q.append("stop").attr("stop-opacity",1).attr("offset",1).attr("stop-color",l)}function g(n,m,l,k){var j=n.append("svg:linearGradient").attr("id",m);if(k==="horizontal"){j.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{j.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}j.append("stop").attr("stop-opacity",1).attr("offset",0).attr("stop-color","#ffffff");j.append("stop").attr("stop-opacity",1).attr("offset",1).attr("stop-color",l)}function c(k,j){var l;if(k.drawingEffect==="glossy"){switch(k.graphType){case"sector":l=k.drawingEffect+k.graphType+j.slice(1)+Math.round(k.radius);break;case"circle":l=k.drawingEffect+k.graphType+j.slice(1);break;case"triangle-up":case"triangle-down":l=k.drawingEffect+"triangle"+j.slice(1)+"vertical";break;case"triangle-left":case"triangle-right":l=k.drawingEffect+"triangle"+j.slice(1)+"horizontal";break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":case"background":l=k.drawingEffect+"rectangle"+j.slice(1)+k.direction;break;default:l=k.drawingEffect+"rectangle"+j.slice(1)+k.direction;break;case"line":l=null;break}}return l}e.prototype.register=function(l){var m=l.fillColor;if(this._enableGhostEffect){m=f(m);m=a(m)}var j=f(m);var n=c(l,j);if(!n){return m}var k=this._defs.select("#"+n);if(k.empty()){if(l.drawingEffect==="glossy"){switch(l.graphType){case"background":g(this._defs,n,j,l.direction);break;case"sector":d(this._defs,n,j,l.radius);break;case"circle":b(this._defs,n,j,l.direction);break;case"triangle-up":case"triangle-down":h(this._defs,n,j,"vertical");break;case"triangle-left":case"triangle-right":h(this._defs,n,j,"horizontal");break;case"rectangle":case"diamond":case"cross":case"star":case"intersection":h(this._defs,n,j,l.direction);break;default:h(this._defs,n,j,l.direction);break}}else{return j}}return"url(#"+n+")"};e.prototype.setContainer=function(j){this._defs=j};e.prototype.ghostEffect=function(j){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=j};return e});sap.riv.module({qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a,c){function b(d){this._bindingInfo=d;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}b.prototype.addAnalysisAxis=function(d){if(d){this._aa.push(d)}};b.prototype.addMeasureValuesGroup=function(d){if(d){this._mg.push(d)}};b.prototype.getAnalysisAxisDataByIdx=function(d){if(!arguments.length){return this._aa}for(var e=0;e<this._aa.length;e++){if(this._aa[e].index===d){return this._aa[e]}}return null};b.prototype.getMeasureValuesGroupDataByIdx=function(d){if(!arguments.length){return this._mg}for(var e=0;e<this._mg.length;e++){if(this._mg[e].index===d){return this._mg[e]}}return null};b.prototype.createDataAdapterForModule=function(d){var g=new b();var f;if(d&&d.aa){for(f=0;f<d.aa.length;f++){var h=this.getAnalysisAxisDataByIdx(d.aa[f]-1);if(h){g.addAnalysisAxis({index:f,values:h.values})}}}if(d&&d.mg){for(f=0;f<d.mg.length;f++){var e=this.getMeasureValuesGroupDataByIdx(d.mg[f]-1);if(e){g.addMeasureValuesGroup({index:f,values:e.values})}}}return g};b.prototype.getBindingInfo=function(){return this._bindingInfo};b.prototype.fakeData=function(d){if(!arguments.length){return this._fakeData}this._fakeData=d};b.prototype.dataPointCount=function(d){if(!arguments.length){return this._dataPointCount}this._dataPointCount=d};b.prototype.emptyDataset=function(d){if(!arguments.length){return this._emptyDataset}this._emptyDataset=d};return b});sap.riv.module({qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(g,a,c){function f(j){var m=[];var k=true;var l=0;for(;l<j.length;l++){var n=j[l];if(n.type()==="Dimension"&&n.acceptMND()>=0){if(n.hasMNDFeeded()){return n.feedId()}else{if(n.getDataCount()<n.max()){m[n.acceptMND()]=n;if(k){k=n.hasFeeded()}}}}}if(m.length===0){return""}if(k){return m[m.length-1].feedId()}for(l=m.length-1;l>=0;l--){if(m[l]&&!m[l].hasFeeded()){return m[l].feedId()}}return""}function e(i){if(a.isString(i)){return i}else{if(a.isNumber(i)){return i.toString()}else{return null}}}function d(i){if(a.isNumber(i)){return parseFloat(i)}else{return null}}function b(j,m){var l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var n=j.getDataPointCount();if(m===Number.POSITIVE_INFINITY||!a.isNumber(m)||m>=n){return l}var q=0;var k=j.getMeasureValuesGroupCount();for(var o=0;o<k;o++){q+=j.getMeasureValuesGroupByIdx(o).getMeasureValues().length}var p=Math.floor(m/q);var r=j.getAnalysisAxisCount();if(r===0||r===1){l[0]=p}else{if(r===2){var t=j.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var s=t.getValues()[0].length;if(p/s<1){l[0]=p;l[1]=1}else{l[1]=Math.floor(p/s)}}}return l}function h(i,k,j){this._feeder=i;this._feeds=i.getFeeds();this._mndFeed=f(this._feeds);this._limit=b(k,j)}h.prototype.getFeedValues=function(i){var j=this._feeder.findFeed(i);if(!j){g.error("could not find feed definition of "+i)}if(j.type()==="Dimension"){return this.getDimensionFeedValues(j)}else{if(j.type()==="Measure"){return this.getMeasureFeedValues(j)}}};h.prototype.getDimensionFeedValues=function(A){var B=[];var q=false;var u=A.data();var r;var n=c.get("IDS_DEFAULTMND");if(u.length>0){for(var t=0;t<u.length;t++){var s=u[t];if(s){if(s.getType()==="measureNamesDimension"){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.push(r);q=true}else{if(s.getType()==="analysisAxis"){var p=s.getDimensionLabels();var w=this._feeder.getAnalysisAxisIndex(A);for(var o=0;o<p.length;o++){r={};r.col={val:e(p[o].getId())};var C=[];var z=p[o].getValues();var v=p[o].infos();var m=z.length;if(this._limit[w]!==Number.POSITIVE_INFINITY){m=this._limit[w]}for(var l=0;l<m;l++){var x={val:e(z[l]),ctx:{type:"Dimension",path:{aa:w,di:o,dii:l}}};if(a.isExist(v)){x.info=v[l]}C.push(x)}r.rows=C;B.push(r)}}else{g.error("wrong type when getting data")}}}}}if(A.feedId()===this._mndFeed&&q===false){r={};r.col={val:n};r.type="MND";r.rows=this.getMeasureNamesValues();B.unshift(r)}return B.length>0?B:null};h.prototype.getMeasureFeedValues=function(u){var v=[];var r=u.getMeasureValues();var l=this._feeder.getMeasureValuesGroupIndex(u);for(var q=0;q<r.length;q++){var p={};p.col=e(r[q].getId());var z=[];var w=r[q].getValues();var s=w.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){s=this._limit[1]}for(var o=0;o<s;o++){var t=w[o];var x=[];var m=t.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){m=this._limit[0]}for(var n=0;n<m;n++){x.push({val:d(t[n]),ctx:{type:"Measure",path:{mg:l,mi:q,dii_a1:n,dii_a2:o}}})}z.push(x)}p.rows=z;v.push(p)}return v.length>0?v:null};h.prototype.getMeasureNamesValues=function(){var k=[];var o=this._feeder.getMeasureValuesGroupFeeds();for(var n=0;n<o.length;n++){if(o[n].hasFeeded()){var m=o[n].getMeasureValues();for(var l=0;l<m.length;l++){k.push({val:e(m[l].getId()),ctx:{path:{mg:n,mi:l}}})}}}return k};return h});sap.riv.module({qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a){var b={makeMeasureValues:function(l,c,k,d,f){var h=[];for(var e=0;e<c.values.length;e++){if(f&&e!==l.path.mi){continue}var g={};var j=c.values[e];var m=j.rows;g.col=j.col;if(l){g.rows=this.createMeasureValues(l,m,k,d)}else{g.rows=this.createMeasureValuesWithoutCtx(m,k,d)}h.push(g)}return h},createMeasureValuesWithoutCtx_1_2:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push(g)}else{if(e[0]===2){for(d=0;d<f[0].length;d++){g=[];g.push(f[0][d]);c.push(g)}}else{a.error("Not supported")}}return c},createMeasureValuesWithoutCtx_1_3:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push([g])}else{if(e[0]===2){g=[];for(d=0;d<f[0].length;d++){g.push([f[0][d]])}c.push(g)}else{if(e[0]===3){for(d=0;d<f[0].length;d++){g=[];g.push([f[0][d]]);c.push(g)}}else{a.error("Not supported")}}}return c},createMeasureValuesWithoutCtx:function(e,d,c){if(d.length===1){if(c===1||c===2){return this.createMeasureValuesWithoutCtx_1_2(e,d)}else{if(c===3){return this.createMeasureValuesWithoutCtx_1_3(e,d)}else{a.error("Not supported")}}}else{if(d.length===2){if(c===2){return e}else{if(c===3){return this.createMeasureValues_2_3(e,d)}else{a.error("Not supported")}}}else{a.error("Not supported")}}a.error("Not supported")},createMeasureValues_1_2:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push(h)}else{if(f[0]===2){for(e=0;e<g.length;e++){h=[];h.push(g[e][c.path.dii]);d.push(h)}}else{a.error("Not supported")}}return d},createMeasureValues_1_3:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push([h])}else{if(f[0]===2){h=[];for(e=0;e<g.length;e++){h.push([g[e][c.path.dii]])}d.push(h)}else{if(f[0]===3){for(e=0;e<g.length;e++){h=[];h.push([g[e][c.path.dii]]);d.push(h)}}else{a.error("Not supported")}}}return d},createMeasureValues:function(d,g,f,c){var e=[];if(f.length===1){if(c===1||c===2){return this.createMeasureValues_1_2(d,g,f)}else{if(c===3){return this.createMeasureValues_1_3(d,g,f)}else{a.error("Not supported")}}}else{if(f.length===2){if(c===2){return g}else{if(c===3){return this.createMeasureValues_2_3(g,f)}else{a.error("Not supported")}}}else{a.error("Not supported")}}return e},createMeasureValues_2_3:function(k,g){var f,e,c;if(g[0]===1&&g[1]===2){return[k]}else{if(g[0]===1&&g[1]===3){c=[];for(f=0;f<k.length;f++){c.push([k[f]])}return c}else{if(g[0]===2&&g[1]===3){c=[];for(f=0;f<k.length;f++){var h=[];var l=k[f];for(e=0;e<l.length;e++){var d=l[e];h.push([d])}c.push(h)}return c}else{a.error("Not supported")}}}}};return b});sap.riv.module({qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0"}],function Setup(e,b,d){function a(g){if(g[0]===true){if(g[1]===true){return[1,2]}else{if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(g[1]===true){if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{if(g.length>2){return[1]}else{return[2]}}}}else{if(g[2]===true){if(g[3]===true){e.error("Not Supported")}else{return[1]}}else{for(var f=0;f<g.length;f++){if(g[f]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function c(f){this._dataAdapter=f}c.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};c.prototype.getChartDataAdapter=function(){var m=a(this._dataAdapter.getBindingInfo());var l=this._dataAdapter.getAnalysisAxisDataByIdx();var h=this._dataAdapter.getMeasureValuesGroupDataByIdx();var k=new b();for(var g=0;g<l.length;g++){var j=l[g];k.addAnalysisAxis({index:j.index,values:j.values})}for(g=0;g<h.length;g++){var f=h[g];k.addMeasureValuesGroup({index:f.index,values:d.makeMeasureValues(null,f,m,2,false)})}return k};return c});sap.riv.module({qname:"sap.viz.modules.layout",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){return function(i){var c={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var f=i.hgap||c.hgap,k=i.vgap||c.vgap,h=i.padding||c.padding,e=i.bias||"none";var g;switch(i.type){case"border":d(i.prefs);break;case"grid":b(i.prefs);break;case"table":j();break;default:b(i.prefs)}function d(s){g={};var t={};t.width=i.size.width-h[1]-h[3];t.height=i.size.height-h[0]-h[2];var p=h[3],o=h[0],n=i.size.width-h[1],m=i.size.height-h[2];var r=new Array,q;if(e instanceof Array){r[0]=e[0];r[1]=e[1];r[2]="north";r[3]="south"}else{switch(e){case"west":r[0]="west";r[1]="north";r[2]="south";r[3]="east";break;case"east":r[0]="east";r[1]="north";r[2]="south";r[3]="west";break;default:r[0]="north";r[1]="south";r[2]="east";r[3]="west"}}r[4]="center";for(q=0;q<r.length;q++){l(r[q])}function l(C){function A(J){if(arguments.length<2){return 0}var I=Array.prototype.slice.apply(arguments).slice(1);var G=[];for(var H=0;H<I.length;H++){if(I[H].length>1){G[H]=I[H].slice(1);G[H].push(I[H][0])}}var E=0;var D=0;for(var H=0;H<G[0].length;H++){for(var F=0;F<G.length;F++){D+=G[F][H]}if(D>J){return E}E+=G[0][H]}return E}var z={},v={};if(C==="north"&&s.north){z=g.north={};v=s.north.size;var B=v.height;var x=B;if(v.spacings&&s.south&&s.south.size.spacings){x+=s.south.size.height}if(v.maxSizeConstant&&x>t.height*v.maxSizeConstant){if(v.hideOversize){B=0}else{if(v.spacings){if(s.south&&s.south.size.spacings){B=A(t.height*v.maxSizeConstant,v.spacings,s.south.size.spacings)}else{B=A(t.height*v.maxSizeConstant,v.spacings)}}else{B=t.height*v.maxSizeConstant}}}z.bounds={x:p,y:o,width:n-p,height:B};o+=(z.bounds.height+f);if(z.bounds.height==0){g.north=null}}if(C==="east"&&s.east){z=g.east={};v=s.east.size;var w=v.width;var u=w;if(v.spacings&&s.west&&s.west.size.spacings){u+=s.west.size.width}if(v.maxSizeConstant&&u>t.width*v.maxSizeConstant){if(v.hideOversize){w=0}else{if(v.spacings){if(s.west&&s.west.size.spacings){w=A(t.width*v.maxSizeConstant,v.spacings,s.west.size.spacings)}else{w=A(t.width*v.maxSizeConstant,v.spacings)}}else{w=t.width*v.maxSizeConstant}}}if(w<v.minWidth){w=0}z.bounds={x:n-w,y:o,width:w,height:m-o};if(z.bounds.height<v.minHeight){z.bounds.width=0}n-=(z.bounds.width-k);if(z.bounds.width==0){g.east=null}}if(C==="south"&&s.south){z=g.south={};v=s.south.size;var B=v.height;var x=B;if(v.spacings&&s.north&&s.north.size.spacings){x+=s.north.size.height}if(v.maxSizeConstant&&x>t.height*v.maxSizeConstant){if(v.hideOversize){B=0}else{if(v.spacings){if(s.north&&s.north.size.spacings){B=A(t.height*v.maxSizeConstant,v.spacings,s.north.size.spacings)}else{B=A(t.height*v.maxSizeConstant,v.spacings)}}else{B=t.height*v.maxSizeConstant}}}z.bounds={x:p,y:(m-B)<o?o:(m-B),width:n-p};z.bounds.height=B;m-=(z.bounds.height-f);if(z.bounds.height==0){g.south=null}}if(C==="west"&&s.west){z=g.west={};v=s.west.size;var w=v.width;var u=w;if(v.spacings&&s.east&&s.east.size.spacings){u+=s.east.size.width}if(v.maxSizeConstant&&u>t.width*v.maxSizeConstant){if(v.hideOversize){w=0}else{if(v.spacings){if(s.east&&s.east.size.spacings){w=A(t.width*v.maxSizeConstant,v.spacings,s.east.size.spacings)}else{w=A(t.width*v.maxSizeConstant,v.spacings)}}else{w=t.width*v.maxSizeConstant}}}z.bounds={x:p,y:o,width:w,height:(o+v.height)>m?m:(o+v.height)};p+=(z.bounds.width+k);if(z.bounds.width==0){g.west=null}}if(C==="center"&&s.center){z=g.center={};z.bounds={x:p,y:o,width:n-p,height:m-o}}}}function b(l){}function j(o){g=[];var n=a.isExist(i.columns)?i.columns:3;var t=a.isExist(i.rows)?i.rows:2;var x=a.isExist(i.cellpadding)?i.cellpadding:5;var u=a.isExist(i.paddingThreshold)?i.paddingThreshold:0.1;var r={};r.width=i.size.width-h[1]-h[3];r.height=i.size.height-h[0]-h[2];var s=r.width/n;var D=r.height/t;if(x>s*u||x>D*u){x=2}var w=(r.width-2*n*x)/n;w=w>0?w:0;var m=(r.height-2*t*x)/t;m=m>0?m:0;var C=h[3],A=h[0],B=i.size.width-h[1],z=i.size.height-h[2];for(var p=0;p<n;p++){var l=[];for(var q=0;q<t;q++){var v={};v.bounds={x:p*s+s/2-w/2,y:q*D+D/2-m/2,width:w,height:m};l.push(v)}g.push(l)}}return g}});sap.riv.module({qname:"sap.viz.modules.xycontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,f,d,c,i,b,e,h){var g=function(l,D){function u(L){return i.module.get(L).execute(D)}var C=0,B=0,s={},K={},H={},G={},o={},E,w=null;var A=new e("initialized","showTooltip","hideTooltip"),z=0;var t=l.props(null);var p=function(Q,N){var M={},P,L,O;if(N){if(Q){P=Q.propertyCategory;L=s;O={};O[P]=Q.properties;f.extend(true,M,O,L)}else{M=s}}else{if(Q){P=Q.propertyCategory;L=s[P];O=Q.properties;f.extend(true,M,O,L)}}return M};var v=function(Q,N){var L=H.modules;var M,P,O;if(L[Q]&&G[Q]){P=L[Q].configure;if(N){M=s}else{if(P){O=P.propertyCategory;M=f.extend(true,{},s[O])}else{M={}}}G[Q].properties(M)}};function j(){if(a.isEmptyObject(H)){d.error("Container configuration missing")}z=0;k("xAxis");k("yAxis");k("xAxis2");k("yAxis2");k("background");var P=H.modules.plot;if(!P){return}var Q=G.plot=u(P.id);var L=new b(K);Q.data(L.getDataAdapter());var O;if(P.configure){O=p(P.configure);Q.properties(O)}if(Q.dispatch){var M=Q.dispatch();if(M.initialized){z++;M.on("initialized.xycontainer",n)}if(M.showTooltip){M.on("showTooltip.xycontainer",m)}if(M.hideTooltip){M.on("hideTooltip.xycontainer",q)}}var R=H.modules.dataLabel;if(a.isExist(R)&&a.isExist(Q.dataLabel)){var N=G.dataLabel=u(R.id);Q.dataLabel(N);N.plot(Q);if(R.configure){O=p(R.configure);N.properties(O)}}if(G.xAxis&&!o.xAxis){o.xAxis=w.append("g").attr("class","xAxis")}if(G.xAxis2&&!o.xAxis2){o.xAxis2=w.append("g").attr("class","xAxis2")}if(G.yAxis&&!o.yAxis){o.yAxis=w.append("g").attr("class","yAxis")}if(G.yAxis2&&!o.yAxis2){o.yAxis2=w.append("g").attr("class","yAxis2")}if(G.plot&&!o.plot){o.plot=w.append("g").attr("class","plot")}if(G.background&&!o.background){o.background=w.insert("g",":first-child").attr("class","background")}}function F(N){if(G[N]){var M=H.modules[N];var L=M.data;if(L){G[N].data(K.createDataAdapterForModule(L))}}}function k(O){if(!H.modules[O]){return}var N=H.modules[O],M=G[O]=u(N.id);F(O);var L=p(N.configure);M.properties(L);if(M.dispatch&&M.dispatch()["initialized"]){z++;M.dispatch().on("initialized.xycontainer",n)}}function r(){if(a.isEmptyObject(G)||!C||!B){return}C=C<0?0:C;B=B<0?0:B;var X={};if(G.xAxis){G.xAxis.drawable(true);X.south={size:G.xAxis.getPreferredSize()}}if(G.yAxis){G.yAxis.drawable(true);X.west={size:G.yAxis.getPreferredSize()}}if(G.xAxis2){G.xAxis2.drawable(true);X.north={size:G.xAxis2.getPreferredSize()}}if(G.yAxis2){G.yAxis2.drawable(true);X.east={size:G.yAxis2.getPreferredSize()}}if(G.plot){X.center={}}var S=c({type:"border",bias:"none",size:{width:C,height:B},prefs:X});if(S.east){var O=0,P=0;if(S.south){O=S.east.bounds.height-S.south.bounds.height;P=S.east.bounds.y}if(S.north){O=S.east.bounds.height-S.north.bounds.height;P=S.west.bounds.y}o.yAxis2.attr("transform","translate("+S.east.bounds.x+","+P+")");G.yAxis2.width(S.east.bounds.width).height(O);G.yAxis2.gridlineLength(S.center.bounds.width)}else{if(G.yAxis2){G.yAxis2.drawable(false)}}if(S.north){var L=0,V=0;if(S.west){V=S.north.bounds.x+S.west.bounds.width}o.xAxis2.attr("transform","translate("+V+","+S.north.bounds.y+")");G.xAxis2.width(V).height(S.north.bounds.height);G.xAxis2.gridlineLength(S.center.bounds.height)}else{if(G.xAxis2){G.xAxis2.drawable(false)}}if(S.west){var R=0,M=0;if(S.south){R=S.west.bounds.height-S.south.bounds.height;M=S.west.bounds.y}if(S.north){R=S.west.bounds.height-S.north.bounds.height;M=S.west.bounds.y}o.yAxis.attr("transform","translate("+S.west.bounds.x+","+M+")");G.yAxis.width(S.west.bounds.width).height(R);G.yAxis.gridlineLength(S.center.bounds.width)}else{if(G.yAxis){G.yAxis.drawable(false)}}if(S.south){var W=0,U=0;if(S.west){U=S.south.bounds.x+S.west.bounds.width}o.xAxis.attr("transform","translate("+U+","+S.south.bounds.y+")");G.xAxis.width(S.south.bounds.width).height(S.south.bounds.height);G.xAxis.gridlineLength(S.center.bounds.height)}else{if(G.xAxis){G.xAxis.drawable(false)}}var N=0,Q=rightPaddingxAxis2=0;if(!S.east){if(G.xAxis){Q=G.xAxis.endPadding()}if(G.xAxis2){rightPaddingxAxis2=G.xAxis2.endPadding()}N=Q>rightPaddingxAxis2?Q:rightPaddingxAxis2}if(S.center){o.plot.attr("transform","translate("+S.center.bounds.x+","+S.center.bounds.y+")");var T=S.center.bounds.width-N;G.plot.width(T>0?T:0).height(S.center.bounds.height>0?S.center.bounds.height:0);E=C-T;if(o.background){o.background.attr("transform","translate("+S.center.bounds.x+","+S.center.bounds.y+")");G.background.width(T>0?T:0).height(S.center.bounds.height>0?S.center.bounds.height:0)}}if(S.west){G.yAxis.gridlineLength(S.center.bounds.width-N)}}function x(L){L.each(function(M){h.drawBound(L,C,B);w=L;if(a.isEmptyObject(G)){j()}J()});return x}x.width=function(L){if(!arguments.length){return C}C=L;r();return x};x.height=function(L){if(!arguments.length){return B}B=L;r();return x};x.size=function(L){if(!arguments.length){return{width:C,height:B}}B=L.height;C=L.width;r();return x};x.data=function(M){if(!arguments.length){return K}K=M;if(!a.isEmptyObject(G)){var L=new b(K);G.plot.data(L.getDataAdapter());F("xAxis");F("yAxis");F("xAxis2");F("yAxis2")}return x};x.properties=function(L){if(!arguments.length){return t}s=L;if(!a.isEmptyObject(G)){v("xAxis");v("xAxis2");v("yAxis");v("yAxis2");v("plot");v("dataLabel");v("background")}return x};x.config=function(L){if(!arguments.length){return H}H=L;return x};x.modules=function(L){if(!arguments.length){if(a.isEmptyObject(G)){j()}return G}G=L;return x};x.parent=function(L){if(!arguments.length){return w}w=L;return x};x.dispatch=function(L){if(!arguments.length){return A}A=L;return x};x.infoForSizeLegend=function(){return{space:E,number:1,plotHeight:G.plot.height()}};x.rotate=function(L){var M=G.plot;if(!arguments.length){return M.rotate()}M.rotate(L);return x};function J(){for(var L in o){if(o.hasOwnProperty(L)){o[L].datum(G[L].data()).call(G[L])}}if(a.isExist(G.dataLabel)){G.dataLabel()}}var I=0;function n(){if(z==++I){I=0;A.initialized()}}function m(L){A.showTooltip(L)}function q(L){A.hideTooltip(L)}return x};return g});sap.riv.module({qname:"sap.viz.data.feed.Constants",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(a){var b={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};a.Feed=b;return b});sap.riv.module({qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.util.parseCSS",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.modules.Constants",version:"4.0.0"}],function Setup(e,g,d,c,a){var b=true;function f(i,m,l){var k=m.id;if(k===undefined){g.error('Cannot find module id in sub module config "{0}"',JSON.stringify(m))}var j=e.module.get(m.id,true);i.push({module:j,config:m,moduleRef:l,subModules:j.subModules(m,l)})}function h(i,j){var m={},l,k;for(l in i){if(i.hasOwnProperty(l)){k=i[l];if(k){if(j===true){m[l]=d.extend(true,{},k)}else{m[l]=k.supportedValueType==="Object"?h(k.supportedValues,!b):k.defaultValue}}}}return m}e.registerCategory("module",function(o){var j;var k;var p={};var m=o.css;for(var l in m){if(!m.hasOwnProperty(l)){continue}p[l]=m[l].value}var n=c(p);Object.defineProperties(o,{subModules:{value:function(u,s){var t;var i=d.extend(true,{},u.modules,u.controllers);if(!a.isEmptyObject(i)){t=[];var q;for(var r in i){if(i.hasOwnProperty(r)){q=i[r];if(q){f(t,q,s+"."+r)}}}}return t}},props:{value:function(i){if(i===b){if(!k){k=h(o.properties,b)}return k}else{if(!j){j=h(o.properties,!b)}return d.extend(true,{},j)}}},execute:{value:function(i){i.styleManager.setDefault(n);return o.fn(o,i)}}});return o});e.module.loadModule=f;return e.module});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.base","abstract":true,type:b.Module.Type.Controller,name:"controller base module",properties:null,events:null,feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.util.BoundingBox",version:"4.0.0"},[],function Setup(){var a={};a.getBBox=function(d,c){var b;if(arguments.length===1){b=d.getCTM()}else{b=d.getTransformToElement(c)}return a.getBBoxHelp(d,b)};a.getBBoxHelp=function(e,m){var h=e.getBBox();var j=new Array();var n=d3.select("svg")[0][0].createSVGPoint();n.x=h.x;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y+h.height;j.push(n.matrixTransform(m));n.x=h.x;n.y=h.y+h.height;j.push(n.matrixTransform(m));var f=j[0].x;var c=j[0].x;var d=j[0].y;var b=j[0].y;for(var g=1;g<j.length;g++){var l=j[g].x;var k=j[g].y;if(l<f){f=l}else{if(l>c){c=l}}if(k<d){d=k}else{if(k>b){b=k}}}return{x:f,y:d,width:c-f,height:b-d}};a.intersects=function(d,c){return(d.x<=(c.x+c.width)&&c.x<=(d.x+d.width)&&d.y<=(c.y+c.height)&&c.y<=(d.y+d.height))};a.intersection=function(d,b){if(a.intersects(d,b)){var e=Math.max(d.x,b.x),c=Math.min(d.x+d.width,b.x+b.width),g=Math.max(d.y,b.y),f=Math.min(d.y+d.height,b.y+b.height);return{x:e,y:g,width:c-e,height:f-g}}return null};return a});sap.riv.module({qname:"sap.viz.modules.controller.lasso",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(d,b,f,a,e,c){return function(){var D=null;var K,G,H,k,Q,N,F=[],p=[],r="multiple",s=[];var R,x,l={},t=".datapoint",P=false,j=false;var u=null,i=[],M=null,q=[];var O=function(){F=[]};var A=function(){return A};A.lastOvered=function(g){if(!arguments.length){return i}i=g;return A};A.unhighlightTarget=function(g){if(!arguments.length){return u}u=g;return A};A.lastHovered=function(g){if(!arguments.length){return q}q=g;return A};A.eventLayer=function(g){if(!arguments.length){return M}M=g;return A};A.registerEvent=function(){var g=G.modules();for(var m in g){if(g.hasOwnProperty(m)&&!(g[m] instanceof Array)&&g[m].parent()){F.push(g[m])}}K.on("mousedown.lasso",v,true);K.on("mousemove.lasso",z,true);K.on("mouseup.lasso",I,true);$(K.node()).mouseleave(o)};A.dispatch=function(g){if(!arguments.length){return D}D=g;return A};A.properties=function(g){if(!arguments.length){return k}k=g;r=k.selectability&&k.selectability.mode?k.selectability.mode:"multiple";j=k.selectability&&k.selectability.selectWithCtrlKey;return A};A.isLasso=function(){return P};A.selected=function(g){if(!arguments.length){return p}p=g;return A};A.module=function(g){if(!arguments.length){return G}O();G=g,K=G.parent(),Q=K.node();return A};var C=function(){var T=d3.event,S=!M.empty()?M.node():Q,m=S.getBoundingClientRect(),g=T.clientX-m.left,U=T.clientY-m.top;return[g,U]};var B=function(m){var g=m.getBoundingClientRect();return{x:g.left,y:g.top,height:g.height,width:g.width}};var L=function(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}};var w=function(S,m){var g=[];S.filter(function(V,T){var U=B(this);if(e.intersects(U,m)){g.push(this)}});return g};var v=function(){if(r!=="multiple"){return}if(j&&!(d3.event.ctrlKey)){return}R=C();x=K.append("rect").attr("x",R[0]).attr("y",R[1]).attr("width",0).attr("height",0).attr("pointer-events","none").attr("fill","rgba(64,176,240, 0.4)").style("stroke-width","2px").attr("stroke","rgb(64, 176, 240)");P=true;L()};var h=function(g){for(var m=0;m<F.length;m++){if(F[m].clear){F[m].clear(g)}}};var z=function(){if(r!=="multiple"||!P){return}var U=C(),m=Math.min(U[0],R[0]),T=Math.min(U[1],R[1]),S=Math.abs(U[0]-R[0]),g=Math.abs(U[1]-R[1]);x.attr("x",m).attr("y",T).attr("width",S).attr("height",g)};var I=function(){var g={x:d3.event.clientX,y:d3.event.clientY};E(g)};var E=function(an){if(r!=="multiple"||!P){return}P=false;var V=x.node(),ab=B(V),ag=parseFloat(V.getAttribute("width")),aa=parseFloat(V.getAttribute("height")),U=[],Y=[];setTimeout(function(){x.remove()},0);if(ag||aa){var aj,W,ae=false,Z=null,T=[],X=null,ad=null,al=null;for(var ak=0,am=F.length;ak<am;ak++){aj=F[ak];W=null;if(a.isFunction(aj.getDatapointsInRect)){W=aj.getDatapointsInRect(x.node())}else{X=aj.parent().select("rect.viz-event-sub-layer").node();ad=X?B(X):null;al=ad?e.intersection(ad,ab):ab;if(!al){continue}Z=aj.parent().selectAll(".datapoint");if(Z[0].length>0){W=w(Z,al)}}if(W&&W.length>0){T.push({plot:aj,selected:W})}}if(T.length>0){if(p.length==0){u(p,false);h(true)}var aj=null,ah=null,S=false,g=f.extend(true,[],p);for(var ak=0,am=T.length;ak<am;ak++){aj=T[ak].plot,ah=T[ak].selected;for(var ai=0,af=ah.length;ai<af;ai++){for(var ac=0,m=g.length;ac<m;ac++){if(ah[ai]==g[ac]){S=true;break}}if(S){U.push(ah[ai])}else{p.push(ah[ai]);U.push(ah[ai])}S=false}aj.highlight(ah)}}else{if(p.length>0){u(p,false);h()}Y=Y.concat(p);p.splice(0,p.length)}if(U.length>0){n(U)}if(Y.length>0){J(Y)}for(var ak=0,am=i.length;ak<am;ak++){if(i[ak].plot.mouseout){i[ak].plot.mouseout(i[ak].target,true)}}i.splice(0,i.length);L()}};var o=function(m){if(P){var T={x:m.clientX,y:m.clientY};E(T);P=false}for(var S=0,g=q.length;S<g;S++){if(q[S].blurOut){q[S].blurOut()}}q.splice(0,q.length)};function n(S){var V=[];for(var U=0,g=S.length;U<g;U++){var X=[],W=S[U].__data__;if(W.val instanceof Array){for(var T=0,m=W.val.length;T<m;T++){X.push({val:W.val[T],ctx:W.ctx[T]})}}else{X.push({val:S[U].__data__.val,ctx:S[U].__data__.ctx})}V.push({target:S[U],data:X})}D.selectData({name:c.Module.Event.SelectData.name,data:V})}function J(S){var U=[];for(var V=0,g=S.length;V<g;V++){var X=[],W=S[V].__data__;if(W.val instanceof Array){for(var T=0,m=W.val.length;T<m;T++){X.push({val:W.val[T],ctx:W.ctx[T]})}}else{X.push({val:S[V].__data__.val,ctx:S[V].__data__.ctx})}U.push({target:S[V],data:X})}D.deselectData({name:c.Module.Event.DeSelectData.name,data:U})}return A}});sap.riv.module({qname:"sap.viz.modules.controller.interaction",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.controller.lasso",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(e,b,f,a,c,d){return function(r){var S=null,P,R=[],U="multiple",K=[],C=[],E=r.props(null),q=f(),u=[];var F=true,M=[],n=null,I=[];var x=new b("selectData","deselectData","deselectLegend");var V={mouseup:null,mousemove:null,mouseout:null,mouseover:null,touchstart:null},D=false,Q=["mouseup","mousemove","mouseout","mouseover","touchstart"],O=null,z=false;var G=true,i=true,A=true,v=false;var J=function(){D=false;K=[];R.splice(0,R.length);M.splice(0,M.length);I.splice(0,I.length);for(var m=0,g=C.length;m<g;m++){C[m].remove()}C=[]};var t=function(){q.dispatch(x).selected(R).lastOvered(I).lastHovered(M).unhighlightTarget(l);return t};var k=function(g){for(var m=0;m<K.length;m++){if(K[m].clear){K[m].clear(g)}}};var h=function(g,W){var m=W.parent()[0][0].getBoundingClientRect();return(g.x>=m.left&&g.x<=m.left+m.width&&g.y>=m.top&&g.y<=m.top+m.height)};var N=function(){var m=[];for(var W=0,g=K.length;W<g;W++){if(K[W].parent()){m.push(K[W].parent().node())}}return m};var T=function(X,W){var Y=X,m=W||N(),g;for(;Y&&Y.ownerSVGElement;Y=Y.parentNode){g=m.indexOf(Y);if(g!==-1){return g}}return -1};var L=function(W,g){var m=T(W,g);if(m!==-1){return K[m]}return null};var B=function(W){var X=N(),Z=[];for(var Y=0,m=K.length;Y<m;Y++){Z.push([])}for(var Y=0,m=W.length;Y<m;Y++){var aa=W[Y],g=T(aa,X),ab;if(g!==-1){ab=Z[g];ab.push(aa)}else{}}return Z};var o=function(m){var g=L(m);if(g&&g.highlight){g.highlight(m,U)}};var l=function(Z,Y){var g=a.isArray(Z)?Z:[Z],m=B(g);for(var W=K.length-1;W>=0;W--){var X=K[W],aa=m[W];if(aa&&aa.length>0&&X.unhighlight){X.unhighlight(aa,Y)}}};t.registerEvent=function(){if(D==false){D=true;var W=P.modules();for(var Y in W){if(W.hasOwnProperty(Y)&&!(W[Y] instanceof Array)&&W[Y].parent()){var m,Z;if(W[Y].getPreferredSize&&W[Y].getPreferredSize()){m=W[Y].getPreferredSize().height;Z=W[Y].getPreferredSize().width}else{m=W[Y].height();Z=W[Y].width()}var X=W[Y].parent().insert("rect","g").attr("width",Z).attr("height",m).attr("opacity","0").attr("class","viz-event-sub-layer");C.push(X);K.push(W[Y])}}if(!n){n=S.insert("rect","g").attr("x",0).attr("y",0).attr("fill-opacity",0);q.eventLayer(n)}n.attr("width",P.width()).attr("height",P.height());if(u!=null&&u instanceof Array){for(var Y=0,g=u.length;Y<g;Y++){if(V[u[Y]]){S.on(u[Y]+".interaction",V[u[Y]])}}}if(F==true){q.registerEvent()}if(z===true){S.on("mousedown.preserveSelectionWhenDragging",function(){O=d3.mouse(S.node())},true)}}else{n.attr("width",P.width()).attr("height",P.height());q.eventLayer(n);for(var Y=0,g=C.length;Y<g;Y++){C[Y].attr("width",K[Y].width()).attr("height",K[Y].height())}for(var Y=0,g=M.length;Y<g;Y++){if(M[Y].blurOut){M[Y].blurOut()}}M.splice(0,M.length);for(var Y=0,g=I.length;Y<g;Y++){if(I[Y].plot.mouseout){I[Y].plot.mouseout()}}I.splice(0,I.length);if(v==false){R.splice(0,R.length)}}};t.getSelectionMode=function(){return U};t.highlightedByLegend=function(X,ab){if(U==="single"||U==="none"){return}var m=[],ah,aj=true,ak=[],W=true,ac=[],Y=[],al=[],aa=[],an=[];for(var ag=0,ai=K.length;ag<ai;ag++){ak=[];if(X.ctx.ranges){if(K[ag].getDatapointsByRange){ak=K[ag].getDatapointsByRange(X);ac.push({plot:K[ag],ctxDatapoints:ak})}}else{if(K[ag].getDatapointsByLegend){ak=K[ag].getDatapointsByLegend(X);ac.push({plot:K[ag],ctxDatapoints:ak})}else{m=K[ag].parent().selectAll(".datapoint")[0];for(var af=0,am=m.length;af<am;af++){if(m[af].__data__&&m[af].__data__.ctx){if(m[af].__data__.ctx.path){ah=m[af].__data__.ctx.path}else{ah=m[af].__data__.ctx[0].path}aj=true;for(var ae in ah){if(X.ctx.path[ae]!=undefined){if(X.ctx.path[ae].length>0){if(j(X.ctx.path[ae],ah[ae])===false){aj=false}}else{if(X.ctx.path[ae]!==ah[ae]){aj=false}}}}if(aj===true){ak.push(m[af])}}}if(m.length>0){ac.push({plot:K[ag],ctxDatapoints:ak})}}}}if(R.length===0){W=false}else{var ad=0;for(var ag=0,ai=ac.length;ag<ai;ag++){ak=ac[ag].ctxDatapoints;var g=ak.length;ad+=g;for(var ae=0;ae<g;ae++){if(j(R,ak[ae])===false){W=false;break}}}if(W&&!ad){W=false}}for(var ag=0,ai=ac.length;ag<ai;ag++){ak=ac[ag].ctxDatapoints;aa=[],an=[];for(var ae=0,g=ak.length;ae<g;ae++){var Z=j(R,ak[ae]);if(W){an.push(ak[ae]);R.splice(Z,1);al.push(ak[ae])}else{if(R.length==0){k(true)}aa.push(ak[ae]);Y.push(ak[ae]);if(Z===false){R.push(ak[ae])}}}if(an.length>0){ac[ag].plot.unhighlight(an,false,U)}if(aa.length>0){ac[ag].plot.highlight(aa,false,U)}if(W){x.deselectLegend(X)}if(R.length===0){k()}}if(Y.length>0){w(Y)}if(al.length>0){p(al)}return W};var j=function(g,W){for(var m=0;m<g.length;m++){if(g[m]===W){return m}}return false};t.dispatch=function(g){if(!arguments.length){return x}x=g;return t};V.mousemove=function(){if(q.isLasso()||G==false){return}var ab={x:d3.event.clientX,y:d3.event.clientY};var W=[];for(var Z=0,m=K.length;Z<m;Z++){if(K[Z].parent()&&h(ab,K[Z])){W.push(K[Z])}}var aa=false;for(var Z=0,m=M.length;Z<m;Z++){for(var Y=0,X=W.length;Y<X;Y++){if(M[Z]==W[Y]){aa=true;break}}if(aa==false&&M[Z].blurOut){M[Z].blurOut()}aa=false}for(var Z=0,m=W.length;Z<m;Z++){if(W[Z].hoverOnPoint){var g=W[Z].parent().node().getBoundingClientRect();W[Z].hoverOnPoint({x:ab.x-g.left,y:ab.y-g.top})}}M.splice(0,M.length);for(var Z=0,m=W.length;Z<m;Z++){M.push(W[Z])}};V.mouseover=function(){if(q.isLasso()||i==false){return}var Z=d3.event.target,Y=Z.getAttribute("class");if(Y!=null&&Y.indexOf("datalabel")!=-1){Z=Z.__data__.dataShape}else{Z=s(Z);Y=Z.getAttribute("class")}if(Y!=null&&(Y.indexOf("datapoint")!=-1||Y.indexOf("datalabel")!=-1)){var m=false;for(var W=0,g=R.length;W<g;W++){if(Z===R[W]){m=true;break}}if(R.length==0){m=true}var X=L(Z);if(X){I.push({plot:X,target:Z});if(X.mouseover){X.mouseover(Z,m)}}}};V.mouseout=function(){if(q.isLasso()||A==false){return}var aa=d3.event.target,Z=aa.getAttribute("class");if(Z!=null&&Z.indexOf("datalabel")!=-1){aa=aa.__data__.dataShape}else{aa=s(aa);Z=aa.getAttribute("class")}if(Z!=null&&(Z.indexOf("datapoint")!=-1||Z.indexOf("datalabel")!=-1)){var m=false;for(var W=0,g=R.length;W<g;W++){if(aa===R[W]){m=true;break}}if(R.length==0){m=true}var Y=L(aa);for(var W=0,g=I.length;W<g;W++){var X=I[W];if(X.target===aa){I.splice(W,1);if(Y.mouseout){Y.mouseout(aa,m)}break}}}};var s=function(g){if(g===S.node()){return g}else{var m=g.getAttribute("class");if(m!=null&&m.indexOf("datapoint")!=-1){return g}else{return s(g.parentNode)}}};V.mouseup=function(){if(z&&O){var ab=d3.mouse(S.node());if(Math.abs(ab[0]-O[0])>5||Math.abs(ab[1]-O[1])>5){return}}if(U!=="none"){var Y=d3.event.target,m=Y.getAttribute("class"),Z=[],g=[];if(m!=null&&m.indexOf("datalabel")!=-1){Y=Y.__data__.dataShape}else{Y=s(Y);m=Y.getAttribute("class")}if(m==null||(m.indexOf("datapoint")==-1&&m.indexOf("datalabel")==-1)){l(R,false);k();g=g.concat(R);R.splice(0,R.length);x.deselectLegend()}else{var ac=false;for(var W=0,X=R.length;W<X;W++){if(Y==R[W]){ac=true;break}}if(R.length==0){k(true);o(Y);R.push(Y);Z.push(Y)}else{if(ac){if(U=="single"){l(R[0]);k();R.splice(0,R.length);g.push(Y)}else{var aa=R.splice((W),1);g=g.concat(aa);if(R.length==0){l(Y);k()}else{l(Y);g.push(Y)}}}else{if(U=="single"){l(R[0]);g.push(R[0]);o(Y);Z.push(Y);R[0]=Y}else{Z.push(Y);o(Y);R.push(Y)}}}}if(Z.length>0){w(Z)}if(g.length>0){p(g)}}};V.touchstart=V.mouseup;function w(W){var Z=[];for(var Y=0,g=W.length;Y<g;Y++){var ab=[],aa=W[Y].__data__;if(aa.val instanceof Array){for(var X=0,m=aa.val.length;X<m;X++){ab.push({val:aa.val[X],ctx:aa.ctx[X]})}}else{ab.push({val:W[Y].__data__.val,ctx:W[Y].__data__.ctx})}Z.push({target:W[Y],data:ab})}x.selectData({name:c.Module.Event.SelectData.name,data:Z})}function p(W){var Y=[];for(var Z=0,g=W.length;Z<g;Z++){var ab=[],aa=W[Z].__data__;if(aa.val instanceof Array){for(var X=0,m=aa.val.length;X<m;X++){ab.push({val:aa.val[X],ctx:aa.ctx[X]})}}else{ab.push({val:W[Z].__data__.val,ctx:W[Z].__data__.ctx})}Y.push({target:W[Z],data:ab})}x.deselectData({name:c.Module.Event.DeSelectData.name,data:Y})}function H(){U=E.selectability.mode;u=E.supportedEventNames;G=E.enableMouseMove;i=E.enableMouseOver;A=E.enableMouseOut;F=E.supportLassoEvent;v=E.holdSelection;z=E.preserveSelectionWhenDragging}t.properties=function(g){if(!arguments.length){return E}d.extend(true,E,g);q.properties(E);H()};t.module=function(g){if(!arguments.length){return P}J();P=g,S=P.parent();q.module(g);return t};return t}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.controller.interaction",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.interaction",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{selectability:{name:"selectability",supportedValueType:"Object",supportedValues:{mode:{name:"mode",supportedValueType:"List",supportedValues:["single","multiple","none"],defaultValue:"multiple",description:"Set the selection mode. Single means you only can select one at the same time. Multiple means you can select several ones. None means you can not select anything. "},selectWithCtrlKey:{name:"selectWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether lasso selection needs ctrl key pressed.",isExported:false}},description:"Settings for selectability."},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:["mouseup","mousemove","mouseout","mouseover","touchstart"],defaultValue:["mouseup","mousemove","mouseout","mouseover","touchstart"],description:"Set supported event names.",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled.",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled.",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled.",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled.",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled.",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled.",isExported:false}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.tooltip",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(b,c,f,a,g,d){var e=function(u,F){var ah={singleMeasure:{label:{font:"bold 11px sans-serif",color:"#333333"},value:{font:"bold 14px sans-serif",color:"#333333"},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:"#333333",font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:""},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var I={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:2};var V={tooltip:null,tooltipRB:null,dimensionLabel:null,separateLine:null,measureLabels:[],measureMarks:[],valueLabels:[]};var Y={offset:undefined};var X={backgroundColor:"#ffffff",borderColor:"#000000",separateLineColor:["#ffffff","#8a8a8a","#ffffff"],separateLineSingleColor:"#AAAAAA",guideLineColor:"#AAAAAA"};var i={arcA:"A",lineToA:"L",moveToA:"M",closePath:"z"};var L={symbolSize:8,hasSymbol:false};var t="tooltipsymbol",aa="tooltipparagraphtitle",n="tooltipparagraphlabel",T="tooltipparagraphvalue",ae="tooltipfooterlabel",k="tooltipfootervalue";var ab=null,G=null;var ai=0,J=0,ag=0,E=F.effectManager,v={width:200,height:100},m={width:160,height:70,x:0,y:0},M={},R=null,U={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:"...",font:"bold 20px Arial",color:"#000000"};var O=d.get("IDS_ISNOVALUE");var aj=function(al){if(al===null||al===undefined){return O}else{return al}};function ac(){U.isTruncated=false;U.currentFooterIndex=-1;U.currentBodyIndex=-1}function Q(al){ab=d3.select(al).append("svg").style("position","absolute").attr("pointer-events","none").attr("width","0").attr("height",0).attr("class","tooltip");return Q}function w(az,aK){var at=ah.multipleMeasure.padding.inline,aw=ah.multipleMeasure.padding.vertical,aJ=ah.multipleMeasure.label.font,aH=ah.multipleMeasure.value.font,aC=ah.footer.padding.inline,aF=ah.footer.label.font,ay=ah.title.font;var aA=0,al=aK.body,aB=aK.footer;if(al&&al.length>0){aA=aw;if(aB&&aB.length>0){var ar=0;if(al[0].name!==null){ar=K(az,al[0].name,ay).height+at+K(az,U.defaultValue,U.font).height}if(aB[0].label!==null){var ax=K(az,aB[0].label,aF);aA+=aw*3;aA+=(aB.length*ax.height+aC*(aB.length-1));aA+=ar;if(aA>v.height){U.isTruncated=true;U.currentBodyIndex=0;var aq=0;while(aA>v.height){aA-=ax.height;aA-=aC;aq++}U.currentFooterIndex=aB.length-aq-1;return aA}aA-=ar}}else{aA+=aw}var aD=0,aI=0;for(var aE=0;aE<al.length;aE++){aD++;aI+=al[aE].val.length}if(al[0].name!==null){aA+=(aD*K(az,al[0].name,ay).height)}var aG=0;if(al[0].val.length>0){if(al[0].val[0].label!==null){aG=K(az,al[0].val[0].label,aJ).height}if(al[0].val[0].value!==null){var am=K(az,al[0].val[0].value,aH).height;if(am>aG){aG=am}}aA+=(aI*aG)}aA+=(at*(aD+aI-1));if(aA>v.height){U.isTruncated=true;var ao=0;while(aA>v.height){aA-=aG;aA-=at;ao++}U.currentBodyIndex=aD+aI-ao-2;var ap=K(az,U.defaultValue,U.font);return aA+(ap.height-aG)}}else{if(aB&&aB.length>0){if(aB[0].label!==null){var av=K(az,aB[0].label,aF);aA+=aw;aA+=(aB.length*av.height+aC*(aB.length-1));if(aA>v.height){U.isTruncated=true;var au=0;while(aA>v.height){aA-=av.height;aA-=aC;au++}U.currentFooterIndex=aB.length-au-1;var an=K(az,U.defaultValue,U.font);return aA+(an.height-av.height)}}}}return aA}function Z(ar,aq){var ap=0,am=ah.multipleMeasure.padding.horizontal,an=ah.multipleMeasure.padding.symbolGap,al=ah.multipleMeasure.padding.defaultSpace,ao=L.symbolSize;ap=ag+(am*2)+al;if(L.hasSymbol){ap+=ao+an}return ap}function z(al,ap){var at=0,ar=0,am=ap.body,aw=ap.footer;if(am){for(var aq=0;aq<am.length;aq++){if(am[aq].name!==null){ar=K(al,am[aq].name,ah.title.font).width;if(ar>at){at=ar}}var av=am[aq].val;if(av){if(av.length===1&&(av[0].value!==null)){var au=K(al,av[0].value,ah.multipleMeasure.value.font);L.symbolSize=au.height*0.8;L.hasSymbol=true;if(au.width>at){at=au.width}}else{if(av.length>1){if(av[0].label!==null){if(av[0].shape!==null&&av[0].color!==null){L.symbolSize=K(al,av[0].label,ah.multipleMeasure.label.font).height*0.8;L.hasSymbol=true}}if(av[0].value!==null){if(av[0].shape!==null&&av[0].color!==null){L.symbolSize=K(al,av[0].value,ah.multipleMeasure.value.font).height*0.8;L.hasSymbol=true}}for(var ao=0;ao<av.length;ao++){if((av[ao].label!==null)&&(av[ao].value!==null)){ar=K(al,av[ao].label,ah.multipleMeasure.label.font).width+K(al,av[ao].value,ah.multipleMeasure.value.font).width;if(ar>at){at=ar}}else{if(av[ao].label!==null){ar=K(al,av[ao].label,ah.multipleMeasure.label.font).width;if(ar>at){at=ar}}else{if(av[ao].value!==null){ar=K(al,av[ao].value,ah.multipleMeasure.value.font).width;if(ar>at){at=ar}}}}}}}}}}if(aw){for(var an=0;an<aw.length;an++){var ax=aw[an];if(ax.label&&ax.value){ar=K(al,ax.label,ah.footer.label.font).width+K(al,ax.value,ah.footer.value.font).width;if(ar>at){at=ar}}}}return at}function s(ao,an){var am="",ap,ar,aq;switch(ao){case"circle":ap=an/2;am="M0,"+ap+"A"+ap+","+ap+" 0 1,1 0,"+(-ap)+"A"+ap+","+ap+" 0 1,1 0,"+ap+"Z";break;case"cross":ar=an/6;aq=an/6;am="M"+-3*ar+","+-aq+"H"+-ar+"V"+-3*aq+"H"+ar+"V"+-aq+"H"+3*ar+"V"+aq+"H"+ar+"V"+3*aq+"H"+-ar+"V"+aq+"H"+-3*ar+"Z";break;case"triangle-down":ar=an/2;aq=an/2;am="M0,"+aq+"L"+ar+","+-aq+" "+-ar+","+-aq+"Z";break;case"triangle-up":ar=an/2;aq=an/2;am="M0,"+-aq+"L"+ar+","+aq+" "+-ar+","+aq+"Z";break;case"diamond":ar=an/2;aq=an/2;am="M0,"+-aq+"L"+ar+",0 0,"+aq+" "+-ar+",0Z";break;case"squareWithRadius":ap=an/2;var al=ap-3;am="M0,"+-ap+"L"+-al+","+-ap+"Q"+-ap+","+-ap+" "+-ap+","+-al+"L"+-ap+","+al+"Q"+-ap+","+ap+" "+-al+","+ap+"L"+al+","+ap+"Q"+ap+","+ap+" "+ap+","+al+"L"+ap+","+-al+"Q"+ap+","+-ap+" "+al+","+-ap+"Z";break;case"square":ap=an/2;am="M"+-ap+","+-ap+"L"+ap+","+-ap+" "+ap+","+ap+" "+-ap+","+ap+"Z";break;case"triangle-left":ar=an/2;aq=an/2;am="M"+-ar+",0L"+ar+","+aq+" "+ar+","+-aq+"Z";break;case"triangle-right":ar=an/2;aq=an/2;am="M"+ar+",0L"+-ar+","+aq+" "+-ar+","+-aq+"Z";break;case"intersection":ar=an/2;aq=an/2;am="M"+ar+","+aq+" "+ar/3+",0 "+ar+","+-aq+" "+ar/2+","+-aq+" 0,"+-aq/3+" "+-ar/2+","+-aq+" "+-ar+","+-aq+" "+-ar/3+",0 "+-ar+","+aq+" "+-ar/2+","+aq+" 0,"+aq/3+" "+ar/2+","+aq;break}return am}function r(ap,at,aq,al,ao,am){var ar={drawingEffect:M.drawingEffect,fillColor:al,graphType:aq,direction:"vertical"};var an=E.register(ar);ap.append("path").attr("d",s(aq,ao)).attr("transform","translate("+at.x+","+at.y+")").attr("fill",an).attr("class",am)}function H(a1,aM,a7,bc){var ar=aM.x,aT=aM.y-I.radius/2;var aK=I.markerWidth,an=I.markerHeight;if(bc==="left"){ar+=an}if(bc==="top"){aT+=an}var am=ah.multipleMeasure.padding.horizontal,ax=ah.multipleMeasure.padding.vertical,az=ah.multipleMeasure.padding.inline,au=ah.multipleMeasure.padding.symbolGap,aE=ah.multipleMeasure.padding.defaultSpace;var ba=L.symbolSize,a6=L.hasSymbol;var aO=ah.title.color,aW=ah.title.font;var aQ=ah.multipleMeasure.label.font,aq=ah.multipleMeasure.label.color,av=ah.singleMeasure.label.font,aH=ah.singleMeasure.label.color;var ao=ah.multipleMeasure.value.font,aF=ah.multipleMeasure.value.color,aS=ah.singleMeasure.value.font,aX=ah.singleMeasure.value.color;var a3=ah.footer.padding.inline,a8=ah.footer.label.font,aC=ah.footer.value.font,aG=ah.footer.label.color,aV=ah.footer.value.color;var aP=a7.body,aR=a7.footer;var at=-1,aL=-1;var aN={x:0,y:0};var a0=false;if(aP){for(var a5=0;a5<aP.length;a5++){if(a0){break}var ay=aP[a5];if(ay.name){var bb=K(a1,ay.name,aW);var ap=bb.height;aN.x=ar+am;if(a5===0){aN.y=aT+ap+ax}else{aN.y+=(aT+ap+az)}q(a1,aN,ay.name,aO,aW,aa);at++;if(U.isTruncated&&at===U.currentBodyIndex){var aD=K(a1,U.defaultValue,U.font);aN.x=ar+(ai-aD.width-am);aN.y+=(az+aD.height);q(a1,aN,U.defaultValue,U.color,U.font,T);break}}if(ay.val.length>0){if(ay.val.length>1){var aZ=null,aI=null,aU=null;for(var a4=0;a4<ay.val.length;a4++){if((ay.val[a4].shape!==null)&&(ay.val[a4].color!==null)&&(ay.val[a4].label!==null)&&(ay.val[a4].value!==null)){aZ=K(a1,ay.val[a4].label,aQ);aI=K(a1,ay.val[a4].value,ao);aU=(aZ.height>=aI.height)?aZ.height:aI.heigth;aN.x=ar+am+ba/2;aN.y+=(az+aU);r(a1,{x:aN.x,y:(aN.y-ba/2)},ay.val[a4].shape,ay.val[a4].color,ba,t);aN.x=ar+am+ba+au;q(a1,aN,ay.val[a4].label,aq,aQ,n);aN.x=ar+(ai-aI.width-am);q(a1,aN,ay.val[a4].value,aF,ao,T)}else{if((ay.val[a4].shape!==null)&&(ay.val[a4].color!==null)&&(ay.val[a4].label!==null)){aZ=K(a1,ay.val[a4].label,aQ);aN.x=ar+am+ba/2;aN.y+=(az+aZ.height);r(a1,{x:aN.x,y:(aN.y-ba/2)},ay.val[a4].shape,ay.val[a4].color,ba,t);aN.x=ar+am+ba+au;q(a1,aN,ay.val[a4].label,aq,aQ,n)}else{if((ay.val[a4].shape!==null)&&(ay.val[a4].color!==null)&&(ay.val[a4].value!==null)){aI=K(a1,ay.val[a4].value,ao);aN.x=ar+am+ba/2;aN.y+=(az+aI.height);r(a1,{x:aN.x,y:(aN.y-ba/2)},ay.val[a4].shape,ay.val[a4].color,ba,t);aN.x=ar+ai-aI.width-am;q(a1,aN,ay.val[a4].value,aF,ao,T)}else{if((ay.val[a4].label!==null)&&(ay.val[a4].value!==null)){aZ=K(a1,ay.val[a4].label,aQ);aI=K(a1,ay.val[a4].value,ao);aU=(aZ.height>=aI.height)?aZ.height:aI.heigth;aN.x=ar+am;aN.y+=(az+aU);q(a1,aN,ay.val[a4].label,aq,aQ,n);aN.x=ar+(ai-aI.width-am);q(a1,aN,ay.val[a4].value,aF,ao,T)}}}}at++;if(U.isTruncated&&at===U.currentBodyIndex){var aB=K(a1,U.defaultValue,U.font);aN.x=ar+(ai-aB.width-am);aN.y+=(az+aB.height);q(a1,aN,U.defaultValue,U.color,U.font,T);a0=true;break}}}else{if(ay.val.length===1){if(ay.val[0].value!==null){var a9=K(a1,ay.val[0].value,ao);aN.y+=(az+a9.height);if(M.chartType==="heatmap"||M.chartType==="treemap"||M.chartType==="tagcloud"||M.chartType==="geo"||M.chartType==="mekko"){aN.x=ar+(ai-a9.width-am)}else{if(ay.val[0].shape!==null&&ay.val[0].color!==null){aN.x=ar+am+ba/2;r(a1,{x:aN.x,y:(aN.y-ba/2)},ay.val[0].shape,ay.val[0].color,ba,t);aN.x=ar+(ai-a9.width-am)}}q(a1,aN,ay.val[0].value,aF,ao,T);at++;if(U.isTruncated&&at===U.currentBodyIndex){var aA=K(a1,U.defaultValue,ao);aN.x=ar+(ai-aA.width-am);aN.y+=(az+aA.height);q(a1,aN,U.defaultValue,U.color,U.font,T);break}}}}}}}if(aR&&aR.length>0){var al={x:ar,y:aN.y+ax};var aY={x:ar+ai,y:aN.y+ax};a1.append("line").attr("x1",al.x+1).attr("y1",al.y).attr("x2",aY.x-1).attr("y2",aY.y).style("stroke",X.separateLineSingleColor).style("stroke-width",1).style("shape-rendering","crispEdges");aN.y+=(ax*2);for(var a2=0;a2<aR.length;a2++){if(a.isExist(aR[a2].label)&&a.isExist(aR[a2].value)){var aJ=K(a1,aR[a2].label,a8),aw=K(a1,aR[a2].value,aC);aN.x=ar+am;if(a2>0){aN.y+=a3}aN.y+=(aJ.height);q(a1,aN,aR[a2].label,aG,a8,ae);aN.x=ar+(ai-aw.width-am);q(a1,aN,aR[a2].value,aV,aC,k);aL++;if(U.isTruncated&&aL===U.currentFooterIndex){break}}}}}var af=function(aE){if(a.isExist(M.formatString)){var ar=aE.body,ao,am=1,az=0,ap=1,aC=0,aD=aE.valueAxis0Count,al=aE.valueAxis1Count;var ax=0,aw=0;var aq=M.formatString;var au,an;if(a.isExist(ar)){for(var aA=0,aB=ar.length;aA<aB;aA++){ao=ar[aA];if(a.isExist(ao.val[0].valueAxis)){an=ao.val[0].valueAxis}else{an=0}au=aq[an];if(a.isExist(au)){var av=0;if(an===0){av=ax>=au.length?au.length-1:ax;ax++}else{if(an===1){av=aw>=au.length?au.length-1:aw;aw++}}for(var ay=0,at=ao.val.length;ay<at;ay++){ao.val[ay].value=f.format(ao.val[ay].value,au[av])}}}}}return aE};Q.showTooltip=function(am){var ao=g.extend(true,{},am.data);ao=af(ao);if(G!==null){G.remove()}if(M.visible){if(ao.plotArea){Q.plotArea(ao.plotArea)}R=M.orientation;G=ab.append("svg:g");ad();ag=z(ab,ao);ai=Z(G,ao);J=w(G,ao);var al=ai,ap=J;if(R==="top"||R==="bottom"){ap+=I.markerHeight}if(R==="left"||R==="right"){al+=I.markerHeight}ab.attr("width",al+I.padding).attr("height",ap+I.padding);var an=W(ao.point,m,v,ai,J);A(G,{x:0,y:0,absoluteMarkerOffset:an.absoluteMarkerOffset},ai,J,R);H(G,{x:0,y:0},ao,R);ab.style("left",an.x+"px").style("top",an.y+"px");ac()}};Q.hideTooltip=function(){if(G!==null){G.remove();ab.attr("width",0).attr("height",0);G=null}};function o(al){if(al.labels){L.symbolSize=K(ab,al.labels[0].label,ah.multipleMeasure.label.font).height}}function W(aD,an,aJ,aG,aA){var am={x:0,y:0,absoluteMarkerOffset:0};var ao=M.chartType;var aC=I.markerHeight,aF=I.markerWidth;var ax=0,av=0,aE=0,al=0;if(M.chartType===undefined){am.x=aD.x;am.y=aD.y-aA/2}else{if(ao==="heatmap"||ao==="treemap"||ao==="tagcloud"){if(R==="bottom"){var aI=aJ.height-aD.y+aA+aC;if(aI>aJ.height){R="top";am.y=aD.y}else{am.y=aD.y-aA-aC}}var aM;if(ao==="heatmap"||ao==="treemap"||ao==="tagcloud"){aM=N(aD,an,aJ,aG)}else{aM=l(aD,an,aJ,aG)}am.x=aM.x;am.absoluteMarkerOffset=aM.absoluteMarkerOffset}else{if(ao==="line"||ao==="verticalboxplot"||ao==="verticalbar"){if(R==="left"){var aK=aD.x+aG+aC;if(aK>aJ.width){R="right";am.x=aD.x-aG-aC}else{am.x=aD.x+aC}}if(aA/2<an.y){am.y=an.y-(aA-aF)/2}else{am.y=0}}else{if(ao==="radar"){ax=0;av=0;aE=0;al=0;var au=0,at=0;R=aD.orientation;am.x=aD.x;am.y=aD.y-aA/2;if(aD.orientation==="right"){am.x-=(aG+aC)}if(aD.orientation==="left"){ax=aD.x+aG+aC-aJ.width}if(aD.orientation==="right"){av=aD.x-aG-aC}aE=aD.y-aA/2;al=aD.y+aA/2-aJ.height;if(ax<=0&&av>=0&&aE>=0&&al<=0){return am}if(ax>0&&ax>aD.range.x){return am}if(av<0&&Math.abs(av)>aD.range.x){return am}if(aE<0&&Math.abs(aE)>aD.range.y){return am}if(al>0&&al>aD.range.y){return am}var aH=aD.angle*180/Math.PI,aw=aD.angle;if(aH>=0){if(aH===0&&ax>0){am.x-=ax}else{if(aH===90&&aE<0){am.y-=aE}else{if(aH===180&&av<0){am.x-=av}else{if(aH>0&&aH<90){if(aE<0&&ax>0){var ar=Math.abs(aE);if(ar>=ax){at=ar;au=at/Math.tan(aw)}else{au=ax;at=au*Math.tan(aw)}}else{if(aE<0&&ax<=0){at=Math.abs(aE);au=at/Math.tan(aw)}else{if(aE>=0&&ax>0){au=ax;at=au*Math.tan(aw)}}}am.x-=au;am.y+=at}else{if(aH>90&&aH<180){if(aE<0&&av<0){var aq=Math.abs(aE),aB=Math.abs(av);if(aq>=aB){at=aq;au=at/Math.tan(Math.PI-aw)}else{au=aB;at=au*Math.tan(Math.PI-aw)}}else{if(aE<0&&av>=0){at=Math.abs(aE);au=at/Math.tan(Math.PI-aw)}else{if(aE>=0&&av<0){au=Math.abs(av);at=au*Math.tan(Math.PI-aw)}}}am.x+=au;am.y+=at}}}}}}else{var aL=Math.abs(aH);if(aL===0&&ax>0){am.x-=ax}else{if(aL===90&&al>0){am.y-=al}else{if(aL===180&&av<0){am.x-=av}else{if(aL>0&&aL<90){if(al>0&&ax>0){if(al>=ax){at=al;au=at/Math.tan(Math.abs(aw))}else{au=ax;at=au*Math.tan(Math.abs(aw))}}else{if(al>0&&ax<=0){at=al;au=at/Math.tan(Math.abs(aw))}else{if(al<=0&&ax>0){au=ax;at=au*Math.tan(Math.abs(aw))}}}am.x-=au;am.y-=at}else{if(aL>90&&aL<180){if(al>0&&av<0){var az=Math.abs(av);if(al>=az){at=al;au=at/Math.tan(Math.PI-Math.abs(aw))}else{au=az;at=au*Math.tan(Math.PI-Math.abs(aw))}}else{if(al>0&&av>=0){at=al;au=at/Math.tan(Math.PI-Math.abs(aw))}else{if(al<=0&&av<0){au=Math.abs(av);at=au*Math.tan(Math.PI-Math.abs(aw))}}}am.x+=au;am.y-=at}}}}}}}else{if(ao==="geo"&&R==="left"){aE=aD.y-aA/2;al=aD.y+aA/2-aJ.height;am.y=aE;if(an.x+an.width+aG-aC>aJ.width){am.x=an.x-an.width-aG;R="right"}else{am.x=an.x+an.width-aC}if(aE<0){am.y=0;am.absoluteMarkerOffset=aE}if(al>0){am.y=aJ.height-aA;am.absoluteMarkerOffset=al}}else{if(M.orientation==="left"){ax=an.x+an.width+aG+aC-aJ.width;aE=aD.y-aA/2;al=aD.y+aA/2-aJ.height;am.y=aD.y-aA/2;if(ax>0){am.x=aJ.width-aC-aG}else{am.x=an.x+an.width-aC}if(aE<0){am.y=0;am.absoluteMarkerOffset=aE}if(al>0){am.y=aJ.height-aA;am.absoluteMarkerOffset=al}}else{if(M.orientation==="bottom"){var ay=an.y-aA;if(ay<0){am.y=0}else{am.y=an.y-aA}var ap;if(ao==="heatmap"||ao==="treemap"||ao==="tagcloud"){ap=N(aD,an,aJ,aG)}else{ap=l(aD,an,aJ,aG)}am.x=ap.x;am.absoluteMarkerOffset=ap.absoluteMarkerOffset}}}}}}}return am}function l(al,aq,an,ap){var ar={x:0,absoluteMarkerOffset:0};var am=ap/2-(al.x-aq.x)+aq.width;var ao=al.x-aq.x+ap/2;if(am>an.width){ar.x=aq.x;ar.absoluteMarkerOffset=al.x-aq.x-ap/2}else{if(ao>an.width){ar.x=aq.x+(aq.width-ap);ar.absoluteMarkerOffset=aq.width-(al.x-aq.x)-ap/2}else{ar.x=al.x-ap/2;ar.absoluteMarkerOffset=0}}return ar}function N(al,aq,an,ap){var ar={x:0,absoluteMarkerOffset:0};var am=ap-(al.x-aq.x)+aq.width;var ao=al.x-aq.x+ap;if(am>an.width){ar.x=aq.x;ar.absoluteMarkerOffset=al.x-aq.x-ap/2}else{if(ao>an.width){ar.x=aq.x+(aq.width-ap);if(ar.x+ap>aq.width){ar.absoluteMarkerOffset=al.x-aq.x-aq.width+ap/2}else{ar.absoluteMarkerOffset=aq.width-(al.x-aq.x)-ap/2}}else{ar.x=al.x-ap/2;ar.absoluteMarkerOffset=0}}return ar}function j(al,an,am,aq){var ap={y:0,absoluteMarkerOffset:0};var ar=an.height+(aq/2-(al.y-an.y));var ao=al.y-an.y+aq/2;if(ar>am.height){ap.y=an.y;ap.absoluteMarkerOffset=al.y-an.y-aq/2}else{if(ao>am.height){ap.y=an.y+an.height-aq;ap.absoluteMarkerOffset=al.y-(an.height-aq)-an.y-aq/2}else{ap.y=al.y-aq/2;ap.absoluteMarkerOffset=0}}return ap}function A(an,ax,ao,aA,av){var aw=ax.x,aC=ax.y,ar=ax.absoluteMarkerOffset,au=I.radius,aq=I.markerWidth,ay=I.markerHeight;var al=" ";var ap=i.lineToA,az=i.moveToA,am=i.arcA,at=i.closePath;if(av==="left"){aw+=ay}if(av==="top"){aC+=ay}var aB=az+al+aw+al+(aC+au)+al;if(av==="left"){aB+=ap+al+aw+al+(aC+aA/2+ar-aq/2)+al;aB+=ap+al+(aw-ay)+al+(aC+aA/2+ar)+al;aB+=ap+al+aw+al+(aC+aA/2+ar+aq/2)+al}aB+=ap+aw+al+(aC+aA-au)+al;aB+=am+al+au+al+au+al+"0"+al+"0"+al+"0"+al+(aw+au)+al+(aC+aA)+al;if(av==="bottom"){aB+=ap+al+(aw+ao/2+ar-aq/2)+al+(aC+aA)+al;aB+=ap+al+(aw+ao/2+ar)+al+(aC+aA+ay)+al;aB+=ap+al+(aw+ao/2+ar+aq/2)+al+(aC+aA)+al}aB+=ap+al+(aw+ao-au)+al+(aC+aA)+al;aB+=al+am+al+au+al+au+al+"0"+al+"0"+al+"0"+al+(aw+ao)+al+(aC+aA-au)+al;if(av==="right"){aB+=ap+al+(aw+ao)+al+(aC+aA/2+ar+aq/2)+al;aB+=ap+al+(aw+ao+ay)+al+(aC+aA/2-ar)+al;aB+=ap+al+(aw+ao)+al+(aC+aA/2+ar-aq/2)+al}aB+=ap+al+(aw+ao)+al+(aC+au)+al;aB+=al+am+al+au+al+au+al+"0"+al+"0"+al+"0"+al+(aw+ao-au)+al+aC+al;if(av==="top"){aB+=ap+al+(aw+ao/2+ar+aq/2)+al+aC+al;aB+=ap+al+(aw+ao/2+ar)+al+(aC-ay)+al;aB+=ap+al+(aw+ao/2+ar-aq/2)+al+aC+al}aB+=ap+al+(aw+au)+al+aC+al;aB+=am+al+au+al+au+al+"0"+al+"0"+al+"0"+al+aw+al+(aC+au)+al;aB+=at;an.append("path").attr("d",aB).attr("fill",X.backgroundColor).attr("stroke",X.borderColor).style("stroke-width",1).style("-webkit-svg-shadow","3px 3px 8px rgba(0, 0, 0, 0.3)")}function C(an){var am;if(an.info){var al=an.info.customlabel;if(al){if(al.type==="url"){am=an.val}else{if(al.type==="string"){am=al.val}}}else{am=an.val}}else{am=an.val}am=aj(am);return am}function B(am){var al=[];if(a.isPlainObject(am)){al.push(C(am))}else{if(a.isArray(am)){am.forEach(function(an,ao){al.push(B(an))},this)}else{al.push(am)}}return al}function K(ap,ar,an){var al=B(ar);var ao=al.join("*");var am=ap.append("svg:text").attr("x",0).attr("y",0).attr("visibility","hidden").style("font",an).text(ao);var aq=am.node().getBBox();am.remove();return aq}function P(aq,ap){var ar=0,at=0;if(ap.title!==null){if(ap.labels.length>0){var ao=K(aq,ap.title,ah.title.font);var an=ao.width;for(var am=0,al=ap.labels.length;am<al;am++){at=K(aq,ap.labels[am].label,ah.multipleMeasure.label.font).width+K(aq,ap.labels[am].value,ah.multipleMeasure.value.font).width;if(at>an){an=at}}ar=an}}else{ar=K(aq,ap.labels[0].label,ah.singleMeasure.label.font).width;at=K(aq,ap.labels[0].value,ah.singleMeasure.value.font).width;if(at>ar){ar=at}}return ar}function S(at,ar){var aq=0,ap=L.symbolSize;var am=ah.singleMeasure.padding.horizontal,an=ah.multipleMeasure.padding.horizontal,ao=ah.multipleMeasure.padding.symbolGap,al=ah.multipleMeasure.padding.defaultSpace;if(ar.title!==null){aq=ag+(an*2)+al;if(ar.shapes&&ar.colors){aq+=ap+ao}}else{aq=ag+(am*2)}return aq}function D(an,aq){var ar=ah.multipleMeasure.padding.inline,am=ah.multipleMeasure.padding.vertical,at=ah.singleMeasure.padding.vertical;var ao=ah.multipleMeasure.value.font,al=ah.singleMeasure.value.font;var ap=ah.title.font;var au=0;if(aq.title!==null){au=(am*3)+(ar*(aq.labels.length-1))+K(an,aq.title,ap).height+K(an,aq.labels[0].value,ao).height*aq.labels.length}else{au=(at*3)+K(an,aq.labels[0].value,al).height}return au}function x(al){var am=al.append("svg:defs").append("svg:linearGradient").attr("id","tooltipGradient1").attr("x1","0%").attr("y1","0%").attr("x2","80%").attr("y2","0%").attr("x3","100%").attr("y3","0%");am.append("svg:stop").attr("offset","30%").attr("style","stop-color:"+X.separateLineColor[0]);am.append("svg:stop").attr("offset","60%").attr("style","stop-color:"+X.separateLineColor[1]);am.append("svg:stop").attr("offset","100%").attr("style","stop-color:"+X.separateLineColor[2])}function ak(ap,at,ao,aq,am){var al=d3.svg.symbol().type(aq).size(ao*ao);var ar={drawingEffect:M.drawingEffect,fillColor:am,graphType:aq,direction:"vertical"};var an=E.register(ar);ap.append("path").attr("d",al).attr("transform","translate("+at.x+","+at.y+")").attr("fill",an)}function h(an,ap,ao,al,am){an.append("text").attr("x",ap.x).attr("y",ap.y).attr("fill",al).style("font",am).text(ao)}function q(aq,at,ar,am,ao,an){var al=B(ar);var ap=al.join("/");aq.append("text").attr("x",at.x).attr("y",at.y).attr("fill",am).style("font",ao).text(ap).attr("class",an)}function p(am,an,al){}Q.zone=function(al){if(!arguments.length){return v}v=al;return this};Q.plotArea=function(al){if(!arguments.length){return m}m=al;return this};Q.properties=function(al){if(!arguments.length){return M}c.extend(true,M,al);return this};function ad(){var al;al=F.styleManager.query("viz-tooltip-background");if(al&&(al.fill)&&(X.backgroundColor!==al.fill)){X.backgroundColor=al.fill}al=F.styleManager.query("viz-tooltip-title");if(al&&(al.fill)&&(ah.title.color!==al.fill)){ah.title.color=al.fill}al=F.styleManager.query("viz-tooltip-label");if(al&&al.fill){ah.singleMeasure.label.color=al.fill;ah.multipleMeasure.label.color=al.fill}al=F.styleManager.query("viz-tooltip-value");if(al&&al.fill){ah.singleMeasure.value.color=al.fill;ah.multipleMeasure.value.color=al.fill}}M=u.props(null);return Q};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.tooltip",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tooltip",type:b.Module.Type.Supplementary,name:"tooltip",description:"Settings for the tooltip that appears when the user hovers over a series or point.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of tooltip."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Tooltip.",isExported:true},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of tooltip. As we may have dual axis with serveral measures, the first array is applied to primary axis and the second one is applied to the second one.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-tooltip-background":{description:"Define style for the tooltip background.",value:{fill:"#ffffff"}},".viz-tooltip-title":{description:"Define style for the tooltip title.",value:{fill:"#333333"}},".viz-tooltip-label":{description:"Define style for the tooltip label.",value:{fill:"#333333"}},".viz-tooltip-value":{description:"Define style for the tooltip value.",value:{fill:"#333333"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Background",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.background",version:"4.0.0"}],function Setup(e,c,d){var a={name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of background."};var b={id:"sap.viz.modules.background",type:c.Module.Type.Supplementary,name:"background",description:"Settings for the background for the outer chart area.",properties:{visible:a,border:{name:"border",description:"Settings for border property.",supportedValueType:"Object",supportedValues:{left:{name:"left",description:"Set left border property.",supportedValueType:"Object",supportedValues:{visible:a,},},right:{name:"right",description:"Set right border property.",supportedValueType:"Object",supportedValues:{visible:a,},},top:{name:"top",description:"Set top border property.",supportedValueType:"Object",supportedValues:{visible:a,},},bottom:{name:"bottom",description:"Set bottom border property.",supportedValueType:"Object",supportedValues:{visible:a,},},},},drawingEffect:{name:"drawingEffect",description:"Set drawing effect of background.",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true,},direction:{name:"direction",description:"Set gradient direction of background.",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",}},css:{".viz-plot-background":{description:"Define style for the plot background.",value:{fill:"#ffffff",}},".viz-plot-background-border":{description:"Define style for the plot background border.",value:{stroke:"#d8d8d8","stroke-width":1,"shape-rendering":"crispEdges",}},},configure:null,fn:d};e.register(b)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector",version:"4.0.0"},[],function Setup(b){function a(){this.values=[];for(var d=0,c=arguments.length;d<c;d++){this.values.push(arguments[d])}}a.prototype.dotProduct=function(c){var f=c.dimension();if(f!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+f+".")}var e=0;for(var d=0;d<f;d++){e+=this.value(d)*c.value(d)}return e};a.prototype.dimension=function(c){return this.values.length};a.prototype.value=function(c,e){if(arguments.length>=2){this.values[c]=e}return this.values[c]};return a});sap.riv.module({qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.0"}],function Setup(a){function b(f,e,d,c){a.apply(this,arguments)}b.prototype=Object.create(a.prototype);return b});sap.riv.module({qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"}],function Setup(e){var b=4;var a=b*b;function d(f){return f*Math.PI/180}var c=function(){var g=new Array(a);var f={unit:function(){for(var h=0;h<a;h++){g[h]=(h%(b+1)===0)?1:0}return f},value:function(k,j,h){var i=k*b+j;if(arguments.length>=3){g[i]=h;return f}return g[i]},row:function(j){var l=[];var k=j*b;for(var h=0;h<b;h++){l[h]=g[k+h]}return new e(l[0],l[1],l[2],l[3])},col:function(h){var k=[];for(var j=0;j<b;j++){k[j]=g[b*j+h]}return new e(k[0],k[1],k[2],k[3])},translate:function(i,h,j){return f.transform(c().value(0,3,i||0).value(1,3,h||0).value(2,3,j||0))},scale:function(i,h,j){return f.transform(c().value(0,0,i||0).value(1,1,h||0).value(2,2,j||0))},rotateX:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(1,1,k).value(1,2,-h).value(2,1,h).value(2,2,k))},rotateY:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,2,h).value(2,0,-h).value(2,2,k))},rotateZ:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,1,-h).value(1,0,h).value(1,1,k))},transform:function(h){if(h){var o=[],p=[];for(var n=0;n<b;n++){o.push(h.row(n));p.push(f.col(n))}for(var n=0;n<b;n++){var q=n*b;for(var l=0;l<b;l++){var k=q+l;g[k]=o[n].dotProduct(p[l])}}}return f},clone:function(){var k=c();for(var l=0;l<b;l++){for(var h=0;h<b;h++){k.value(l,h,f.value(l,h))}}return k},projection:function(){return"matrix("+f.value(0,0)+","+f.value(1,0)+","+f.value(0,1)+","+f.value(1,1)+","+f.value(0,3)+","+f.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var j="";for(var h=0;h<a;h++){if(h%4!==0){j+=", "}j+=g[h];if((h-3)%4===0){j+="\n"}}return j}};return f.unit()};return c});sap.riv.module({qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"}],function Setup(b){function a(c,e,d){this.x=c;this.y=e;this.z=d}a.prototype.transform=function(c){var d=new b(this.x,this.y,this.z,1);this.x=c.row(0).dotProduct(d);this.y=c.row(1).dotProduct(d);this.z=c.row(2).dotProduct(d);return this};return a});sap.riv.module({qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"}],function Setup(e,h,d,g,b,f,c,a){return function(){var D;var z;var o=6;var r=5;var A=1;var n="#d8d8d8";var j=false;var G=null;var m={title:{visible:false,text:undefined,},gridline:{visible:false,color:n,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,formatString:"",hideStrategy:""},position:"left",color:"#333333",shapeRendering:true,forceVerticalFont:false};var w=c(),i=null,L=null,H=null,x=null;var K=-1;k.spaceLimit=function(M){if(!arguments.length){return K}if(!j){K=M}return k};var B=function(){var O=[];var P=z.length>1?true:false;for(var N=0;N<z.length;N++){var M=z[N].domain;var S=z[N].range;var Q=u(M,S);var R=Q.isVertical;if(D=="left"||D=="right"){z[N].labelsToDraw=s(M,S,P)}else{z[N].labelsToDraw=C(M,S,R,P)}if(N===0){O.push(z[N])}else{if(z[N].labelsToDraw.length==z[N].domain.length){O.push(z[N])}else{if(z[N].labelsToDraw.length>0&&b.isExist(z.noEqual)&&z.noEqual===true){O.push(z[N])}}}}return O};var F=function(R,O,Q,N,P){var M=R.append("line").attr("y1",Q).attr("y2",P).attr("x1",O).attr("x2",N).attr("stroke",m.gridline.color).attr("stroke-width",m.gridline.size).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(m.gridline.type=="dotted"){M.attr("stroke-dasharray","3, 2")}};function k(W){var ah=B();if(K>=0){var M=[];var aq=k.getPreferredSize().spacings;var ae=K;for(var at=0;at<aq.length;at++){if(ae>=aq[at]){M.push(ah[at]);ae-=aq[at]}else{break}}if(M.length==0&&ah.length>0){var ar=[];for(var at=0;at<ah[0].domain.length;at++){ar.push("")}M.push({domain:ar,range:ah[0].range})}ah=M}var V=ah.length>1?true:false;if(D=="left"){var O=0;var U=0;for(var ag=0;ag<ah.length;ag++,O++){if(!m.label.visible&&ag!=(ah.length-1)){continue}var al=ah[ag].domain;var Q=ah[ag].range;var an=v(al,Q);var ai=an.maxLabelTextWidth;if(!m.label.visible){ai=0}if(ag==(ah.length-1)){if(m.gridline.showFirstLine){F(W,U+(ai+2*o),Q[Q.length-1][1],U+(ai+2*o)+m.gridline.length,Q[Q.length-1][1])}if(m.gridline.showLastLine){F(W,U+(ai+2*o),Q[0][0],U+(ai+2*o)+m.gridline.length,Q[0][0])}}if(ah.length==1){var aa=U+(ai+2*o);var Z=U+(ai+2*o);var ax=Q[0][0];var av=Q[Q.length-1][1];var X="M"+(aa-r)+" "+ax;X+="L"+aa+" "+ax;X+="L"+Z+" "+av;X+="L"+(Z-r)+" "+av;var Y=W.append("path").attr("d",X).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ah.length>=2&&(ag==ah.length-1)){var Y=W.append("line").attr("x1",U+(ai+2*o)).attr("x2",U+(ai+2*o)).attr("y1",Q[0][0]).attr("y2",Q[Q.length-1][1]).attr("class","domain").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",U).attr("x2",U).attr("y1",Q[0][0]).attr("y2",Q[Q.length-1][1]).attr("class","domain").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&ag==(ah.length-1)){for(var at=0;at<al.length;at++){F(W,U+(ai+2*o),Q[at][0],U+(ai+2*o)+m.gridline.length,Q[at][0]);if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){F(W,U+(ai+2*o),Q[at][1],U+(ai+2*o)+m.gridline.length,Q[at][1])}}F(W,U+(ai+2*o)+m.gridline.length,Q[0][0],U+(ai+2*o)+m.gridline.length,Q[at-1][1])}for(var at=0;at<al.length;at++){if(ah.length==1||(ah.length!=1&&!m.label.visible)){if(at>0&&(Q[at][0]!=Q[at-1][1])){var ac=W.append("line").attr("x1",(ai+2*o)-r).attr("x2",(ai+2*o)).attr("y1",Q[at][0]).attr("y2",Q[at][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(at!=(al.length-1)){var ab=W.append("line").attr("x1",(ai+2*o)-r).attr("x2",(ai+2*o)).attr("y1",Q[at][1]).attr("y2",Q[at][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",U).attr("x2",U+(ai+2*o)).attr("y1",Q[at][0]).attr("y2",Q[at][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){W.append("line").attr("x1",U).attr("x2",U+(ai+2*o)).attr("y1",Q[at][1]).attr("y2",Q[at][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ad=ah[ag].labelsToDraw;var R;for(var at=0;at<ad.length;at++){R=ad[at].custom;if(R&&R.type==="url"){}else{var P=b.isExist(ad[at].text)?ad[at].text:"";if(m.label.visible){var ak=W.append("text").attr("x",U+ai+o).attr("y",ad[at].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(P).attr("fill",G.label.fill).attr("font-size",G.label["font-size"]).attr("font-weight",G.label["font-weight"]).attr("font-family",G.label["font-family"]);J(ak)}}}U+=(ai+2*o)}}else{if(D=="right"){var O=0;var U=0;for(var ag=(ah.length-1);ag>=0;ag--,O++){if(!m.label.visible&&ag!=(ah.length-1)){continue}var al=ah[ag].domain;var Q=ah[ag].range;var an=v(al,Q);var ai=an.maxLabelTextWidth;if(ag==(ah.length-1)){if(m.gridline.showFirstLine){F(W,U,Q[Q.length-1][1],U-m.gridline.length,Q[Q.length-1][1])}if(m.gridline.showLastLine){F(W,U,Q[0][0],U-m.gridline.length,Q[0][0])}}if((ah.length==1)){var aa=U;var Z=U;var ax=Q[0][0];var av=Q[Q.length-1][1];var X="M"+(aa+r)+" "+ax;X+="L"+aa+" "+ax;X+="L"+Z+" "+av;X+="L"+(aa+r)+" "+av;var Y=W.append("path").attr("d",X).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ah.length>=2&&(ag==(ah.length-1))){var Y=W.append("line").attr("x1",U).attr("x2",U).attr("y1",Q[0][0]).attr("y2",Q[Q.length-1][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",U+(ai+2*o)).attr("x2",U+(ai+2*o)).attr("y1",Q[0][0]).attr("y2",Q[Q.length-1][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&ag==(ah.length-1)){for(var at=0;at<al.length;at++){F(W,U+(ai+2*o),Q[at][0],U+(ai+2*o)+m.gridline.length,Q[at][0]);if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){F(W,U+(ai+2*o),Q[at][1],U+(ai+2*o)+m.gridline.length,Q[at][1])}}}for(var at=0;at<al.length;at++){if(ah.length==1||(ah.length!=1&&!m.label.visible)){if(at>0&&(Q[at][0]!=Q[at-1][1])){var ac=W.append("line").attr("x1",0).attr("x2",r).attr("y1",Q[at][0]).attr("y2",Q[at][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(at!=(al.length-1)){var ab=W.append("line").attr("x1",0).attr("x2",r).attr("y1",Q[at][1]).attr("y2",Q[at][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",U).attr("x2",U+(ai+2*o)).attr("y1",Q[at][0]).attr("y2",Q[at][0]).attr("stroke",m.color).attr("stroke-width",1).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){W.append("line").attr("x1",U).attr("x2",U+(ai+2*o)).attr("y1",Q[at][1]).attr("y2",Q[at][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ad=ah[ag].labelsToDraw;var R;for(var at=0;at<ad.length;at++){R=ad[at].custom;if(R&&R.type==="url"){}else{var P=b.isExist(ad[at].text)?ad[at].text:"";if(m.label.visible){var ak=W.append("text").attr("x",U+o).attr("y",ad[at].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(P).attr("fill",G.label.fill).attr("font-size",G.label["font-size"]).attr("font-weight",G.label["font-weight"]).attr("font-family",G.label["font-family"]);J(ak)}}}U+=(ai+2*o)}}else{if(D=="bottom"){var O=0;var N=0;for(var ag=(ah.length-1);ag>=0;ag--,O++){if(!m.label.visible&&ag!=(ah.length-1)){continue}var al=ah[ag].domain;var Q=ah[ag].range;var an=u(al,Q);var ap=an.maxLabelTextHeight;var am=an.isVertical;if(ag==(ah.length-1)){if(m.gridline.showFirstLine){F(W,Q[0][0],N,Q[0][0],N-m.gridline.length)}if(m.gridline.showLastLine){F(W,Q[Q.length-1][0],N,Q[Q.length-1][0],N-m.gridline.length)}}if(ah.length==1){var aa=Q[0][0];var Z=Q[Q.length-1][1];var ax=N;var av=N;var X="M"+aa+" "+(ax+r);X+="L"+aa+" "+ax;X+="L"+Z+" "+av;X+="L"+Z+" "+(av+r);var Y=W.append("path").attr("d",X).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(H){var T=H*Math.PI/180;var af=Math.cos(T);var S=(45==H)?af:Math.sin(T);X="M "+Q[0][0]+" "+N;X+="L"+(Q[0][0]+Q[Q.length-1][1]*S)+" "+(N-Q[Q.length-1][1]*af);X+="Z";Y.attr("d",X)}}else{if(ah.length>=2&&(ag==ah.length-1)){var Y=W.append("line").attr("x1",Q[0][0]).attr("x2",Q[Q.length-1][1]).attr("y1",N).attr("y2",N).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",Q[0][0]).attr("x2",Q[Q.length-1][1]).attr("y1",N+ap+2*o).attr("y2",N+ap+2*o).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&ag==(ah.length-1)){for(var at=0;at<al.length;at++){F(W,Q[at][0],N+(ap+2*o),Q[at][0],N+(ap+2*o)+m.gridline.length);if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){F(W,Q[at][1],N+(ap+2*o),Q[at][1],N+(ap+2*o)+m.gridline.length)}}}for(var at=0;at<al.length;at++){if(ah.length==1||(ah.length!=1&&!m.label.visible)){if(at>0&&(Q[at][0]!=Q[at-1][1])){var ac=W.append("line").attr("x1",Q[at][0]).attr("x2",Q[at][0]).attr("y1",0).attr("y2",r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(at!=(al.length-1)){var ab=W.append("line").attr("x1",Q[at][1]).attr("x2",Q[at][1]).attr("y1",0).attr("y2",r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(H){var T=H*Math.PI/180;var af=Math.cos(T);var S=(45===H)?af:Math.sin(T);var aw=x*Math.PI/180;var aj=Math.cos(aw);var au=Math.sin(aw);var ao=Q[at][1]*S;tickStartY=-Q[at][1]*af;var Z=ao+r*aj,av=tickStartY+r*au;ab.attr("x1",ao).attr("y1",tickStartY).attr("x2",Z).attr("y2",av)}}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",Q[at][0]).attr("x2",Q[at][0]).attr("y1",N).attr("y2",N+2*o+ap).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){W.append("line").attr("x1",Q[at][1]).attr("x2",Q[at][1]).attr("y1",N).attr("y2",N+2*o+ap).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ad=ah[ag].labelsToDraw;l(W,ad,N,ap,al,am,ah.length!=1);N+=(ap+2*o)}}else{if(D=="top"){var O=0;var N=0;for(var ag=0;ag<ah.length;ag++,O++){if(!m.label.visible&&ag!=(ah.length-1)){continue}var al=ah[ag].domain;var Q=ah[ag].range;var an=u(al,Q);var ap=an.maxLabelTextHeight;var am=an.isVertical;if(!m.label.visible){ap=0}if(ag==(ah.length-1)){if(m.gridline.showFirstLine){F(W,Q[0][0],ap+2*o+N,Q[0][0],ap+2*o+N+m.gridline.length)}if(m.gridline.showLastLine){F(W,Q[Q.length-1][1],ap+2*o+N,Q[Q.length-1][1],ap+2*o+N+m.gridline.length)}}if((ah.length==1)){var aa=Q[0][0];var Z=Q[Q.length-1][1];var ax=ap+2*o+N;var av=ap+2*o+N;var X="M"+aa+" "+(ax-r);X+="L"+aa+" "+ax;X+="L"+Z+" "+av;X+="L"+Z+" "+(av-r);var Y=W.append("path").attr("d",X).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ah.length>=2&&(ag==ah.length-1)){var Y=W.append("line").attr("x1",Q[0][0]).attr("x2",Q[Q.length-1][1]).attr("y1",ap+2*o+N).attr("y2",ap+2*o+N).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",Q[0][0]).attr("x2",Q[Q.length-1][1]).attr("y1",N).attr("y2",N).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&ag==(ah.length-1)){for(var at=0;at<al.length;at++){F(W,Q[at][0],N+(ap+2*o),Q[at][0],N+(ap+2*o)+m.gridline.length);if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){F(W,Q[at][1],N+(ap+2*o),Q[at][1],N+(ap+2*o)+m.gridline.length)}}F(W,Q[0][0],N+(ap+2*o)+m.gridline.length,Q[at-1][1],N+(ap+2*o)+m.gridline.length)}for(var at=0;at<al.length;at++){if(ah.length==1||(ah.length!=1&&!m.label.visible)){if(at>0&&(Q[at][0]!=Q[at-1][1])){var ac=W.append("line").attr("x1",Q[at][0]).attr("x2",Q[at][0]).attr("y1",(ap+2*o)).attr("y2",(ap+2*o)-r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(at!=(al.length-1)){var ab=W.append("line").attr("x1",Q[at][1]).attr("x2",Q[at][1]).attr("y1",(ap+2*o)).attr("y2",(ap+2*o)-r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ah.length>=2&&m.label.visible){W.append("line").attr("x1",Q[at][0]).attr("x2",Q[at][0]).attr("y1",N).attr("y2",N+(ap+2*o)).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((at==(al.length-1))||(Q[at][1]!=Q[at+1][0])){W.append("line").attr("x1",Q[at][1]).attr("x2",Q[at][1]).attr("y1",N).attr("y2",N+(ap+2*o)).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ad=ah[ag].labelsToDraw;l(W,ad,N,ap,al,am,ah.length!=1);N+=(ap+2*o)}}}}}}var J=function(N){if(jQuery.browser.msie){var M=G.label["font-size"].toString();var P=M.indexOf("px");if(P>=0){M=M.substr(0,P)}var O=N.attr("y");N.attr("y",Number(O)+M/2);N.attr("dominant-baseline","auto")}};var I=function(O){var N;if(O.info){var M=O.info.customlabel;if(M){if(M.type==="url"){N=O.val}else{if(M.type==="string"){N=M.val}}}else{N=O.val}}else{N=O.val}N=E(N)?g.get("IDS_ISNOVALUE"):N;N=a.format(N,m.label.formatString);return N};var q=function(M){if(M.info&&M.info.customlabel){return M.info.customlabel}};var s=function(V,T,W){var P=[];for(var S=0;S<V.length;S++){var X={};X.text=I(V[S]);X.custom=q(V[S]);var O=p(X.text,G.label);var Q=T[S][0]+(T[S][1]-T[S][0])/2;X.width=O.width;X.height=O.height;X.y=Q;X.y1=Q-X.height/2;X.y2=Q+X.height/2;P.push(X)}var U=[];if(m.label.hideStrategy!="greedy"){for(var R=0;R<=(P.length-1);R++){var N=true;for(var S=(P.length-1);S>=0;S-=(R+1)){var X=P[S];if(S!=(P.length-1)){var M=S+(R+1);if(P[S].y2>=P[M].y1){N=false;break}}U.push(X)}if(N){break}else{U=[]}}}else{for(var M=R=(P.length-1);R>=0;R--){var X=P[R];if(M===R&&T[R][1]!=T[R][0]){if(W&&X.y1>T[R][0]&&X.y2<T[R][1]){U.push(X)}else{if(!W){U.push(X)}}}else{if(X.y2<=P[M].y1&&T[R][1]!=T[R][0]){if(W){if(X.y1>T[R][0]&&X.y2<T[R][1]){U.push(X);M=R}}else{U.push(X);M=R}}}}}return U};var C=function(W,T,V,X){var P=[];for(var S=0;S<W.length;S++){var Y={};Y.text=I(W[S]);Y.custom=q(W[S]);var O=p(Y.text,G.label);if(V){Y.width=O.height;Y.height=O.width}else{Y.width=O.width;Y.height=O.height}var R=T[S][0]+(T[S][1]-T[S][0])/2;Y.x=R;Y.x1=R-Y.width/2;Y.x2=R+Y.width/2;P.push(Y)}var U=[];if(m.label.hideStrategy!="greedy"){for(var Q=0;Q<=(P.length-1);Q++){var N=true;for(var S=0;S<P.length;S+=(Q+1)){var Y=P[S];if(S!=0){var M=S-(Q+1);if(P[S].x1<=P[M].x2||T[Q][1]===T[Q][0]){N=false;break}}U.push(Y)}if(N){break}else{U=[]}}}else{for(var M=Q=(P.length-1);Q>=0;Q--){var Y=P[Q];if(M===Q&&T[Q][1]!=T[Q][0]){if(X&&Y.x1>T[Q][0]&&Y.x2<T[Q][1]){U.push(Y)}else{if(!X){U.push(Y)}}}else{if(Y.x2<=P[M].x1&&T[Q][1]!=T[Q][0]){if(X){if(Y.x1>T[Q][0]&&Y.x2<T[Q][1]){U.push(Y);M=Q}}else{U.push(Y);M=Q}}}}}return U};var l=function(ab,P,O,S,M,T,U){if(P===undefined){return}for(var W=0;W<P.length;W++){var R=b.isExist(P[W].text)?P[W].text:"";if(m.label.visible){if(H){var aa=H*Math.PI/180;var ac=Math.cos(aa);var N=(45===H)?ac:Math.sin(aa);var Q=x*Math.PI/180;var Y=Math.cos(Q);var X=Math.sin(Q);var V=P[W].x*N;tickStartY=-P[W].x*ac;var ad=ab.append("text").attr("x",V+o*Y).attr("y",tickStartY+O+o*X).attr("dominant-baseline","middle").attr("text-anchor","start").text(R).attr("fill",G.label.fill).attr("font-size",G.label["font-size"]).attr("font-weight",G.label["font-weight"]).attr("font-family",G.label["font-family"]);if(x>90){ad.attr("text-anchor","end").attr("transform","rotate( "+(x-180)+" "+ad.attr("x")+" "+ad.attr("y")+")")}else{ad.attr("transform","rotate( "+(x)+" "+ad.attr("x")+" "+ad.attr("y")+")")}}else{var ad=ab.append("text").attr("x",P[W].x).attr("y",O+S/2+o).attr("dominant-baseline","middle").attr("text-anchor","middle").text(R).attr("fill",G.label.fill).attr("font-size",G.label["font-size"]).attr("font-weight",G.label["font-weight"]).attr("font-family",G.label["font-family"]);if(T){if(!U){if(D=="top"){ad.attr("text-anchor","start").attr("y",O+S+o)}else{if(D=="bottom"){ad.attr("y",O+o).attr("text-anchor","end")}}}var Z="-90";ad.attr("transform","rotate( "+Z+" "+ad.attr("x")+" "+ad.attr("y")+" )")}J(ad)}}}};k.position=function(M){if(!arguments.length){return D}D=M;return k};k.properties=function(M){if(arguments.length==0){return m}m=d.extend(true,m,M);return k};k.style=function(M){if(arguments.length==0){return G}G=d.extend(true,G,M);return k};k.axScale=function(M){if(!arguments.length){return z}z=M;return k};k.getPreferredSize=function(){var N=B();var U=0;var Q=0;var O=[];for(var T=0;T<N.length;T++){if(!m.label.visible&&T!=(N.length-1)){continue}var R=N[T].domain;var W=N[T].range;if(R.length===0||W.length===0){continue}if(D=="bottom"||D=="top"){U=Math.abs(W[W.length-1][1]-W[0][0])+A;var P=0;if(m.label.visible){P+=u(R,W).maxLabelTextHeight}P+=2*o;Q+=P;O.push(P)}else{if(D=="left"||D=="right"){var V=0;if(m.label.visible){V+=v(R,W).maxLabelTextWidth}V+=2*o;U+=V;O.push(V);Q=Math.abs(W[W.length-1][1]-W[0][0])+A}}}if(K>=0){var X=O;var S=K;var M=0;for(var T=0;T<X.length;T++){if(S>=X[T]){M+=X[T];S-=X[T]}else{break}}if(M==0&&X.length>0){M+=X[0]}if(D=="bottom"||D=="top"){Q=M}else{if(D=="left"||D=="right"){U=M}}}return{width:U,height:Q,spacings:O,}};k.matrix=function(M){if(!arguments.length){return w}w=M;return k};k.labelAngle=function(M){if(!arguments.length){return i}i=M;return k};k.tickAngle=function(M){if(!arguments.length){return x}x=M;return k};k.angle=function(M){if(!arguments.length){return H}H=M;return k};k.labelAlign=function(M){if(!arguments.length){return L}L=M;return k};var t=function(P,Q){var T=[];var U=[];var M=false;for(var R=0;R<P.length;R++){var O=p(I(P[R]),G.label);var V=O.height;var S=O.width;var N=Q[R][1]-Q[R][0];if((V<S)&&N!=0&&S>N){if(D=="top"||D=="bottom"){M=true}}T.push(V);U.push(S)}return{heights:T,widths:U,isVerticalFont:M}};var u=function(Q,P){var N={maxLabelTextHeight:0,isVertical:false};var S=0;var R=false;var O=t(Q,P);R=m.forceVerticalFont===true?true:O.isVerticalFont;for(var M=0;M<Q.length;M++){if(R){if(S<O.widths[M]){S=O.widths[M]}}else{if(S<O.heights[M]){S=O.heights[M]}}}N.maxLabelTextHeight=S;N.isVertical=R;return N};var v=function(Q,P){var N={maxLabelTextWidth:0,isVertical:false};var S=0;var R=false;var O=t(Q,P);R=m.forceVerticalFont===true?true:O.isVerticalFont;for(var M=0;M<Q.length;M++){if(R){if(S<O.heights[M]){S=O.heights[M]}}else{if(S<O.widths[M]){S=O.widths[M]}}}N.maxLabelTextWidth=S;N.isVertical=R;return N};var p=function(N,M){return e.fastMeasure(N,M["font-size"],M["font-weight"],M["font-family"])};var E=function(M){if(typeof(M)!="string"&&h.isNoValue(M)){return true}return false};return k}});sap.riv.module({qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"}],function Setup(d,f,c,a,e,b){return function(){var D;var A=null;var p=5;var l=4;var C=7;var B=1;var t="#6c6c6c";var k="#d8d8d8";var r="#ffffff";var n="#333333";var F=null;var j={title:{visible:false,text:undefined,},gridline:{visible:true,color:k,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:"",},position:"left",color:t,axisline:{visible:true},shapeRendering:true};var x=b(),g=null,J=null,G=null,z=null;var I=-1;h.spaceLimit=function(K){if(!arguments.length){return I}I=K;return h};function h(ai){var O=A.range();var L=A.domain();if(O[0]==0&&O[1]==0){return}var S=u();if(D=="bottom"){var Q=0;if(j.label.visible){var ad=[];for(var Z=0;Z<S.length;Z++){ad.push(S[Z].text)}Q=s(ad)}if((I!=-1)&&(Q+p+2*l+B/2>I)){S=[]}for(var Z=0;Z<S.length;Z++){var af=ai.append("line").attr("x1",A(S[Z].value)).attr("x2",A(S[Z].value)).attr("y1",0).attr("y2",p+1).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(G){var ah=G*Math.PI/180;var aj=Math.cos(ah);var N=(45===G)?aj:Math.sin(ah);var P=z*Math.PI/180;var ag=Math.cos(P);var ae=Math.sin(P);var Y=A(S[Z].value)*N;tickStartY=-A(S[Z].value)*aj;var aa=Y+(p+1)*ag,K=tickStartY+(p+1)*ae;af.attr("x1",Y).attr("y1",tickStartY).attr("x2",aa).attr("y2",K)}var V=function(){var ak=ai.append("line").attr("x1",A(S[Z].value)).attr("x2",A(S[Z].value)).attr("y1",-j.gridline.length).attr("y2",0).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){ak.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var ak=ai.append("line").attr("x1",A(S[Z].value)-1).attr("x2",A(S[Z].value)-1).attr("y1",-j.gridline.length).attr("y2",0).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Z==0&&j.gridline.showFirstLine){V()}else{if(Z==(S.length-1)&&j.gridline.showLastLine){V()}else{if((Z!=(S.length-1))&&(Z!=0)&&j.gridline.visible){V()}}}}if(j.label.visible){i(ai,"Bottom",S,Q)}if(j.axisline.visible){var ac=O[0];var aa=O[1];var M=0;var K=0;var R=0;var U="M"+ac+" "+(M+R);U+="L"+ac+" "+M;U+="L"+aa+" "+K;U+="L"+aa+" "+(K+R);var W=ai.append("path").attr("d",U).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(G){var ah=G*Math.PI/180;var aj=Math.cos(ah);var N=(45==G)?aj:Math.sin(ah);U="M "+O[1]+" "+M;U+="L"+(O[1]+O[0]*N)+" "+(M-O[0]*aj);U+="Z";W.attr("d",U)}}}else{if(D=="top"){var Q=0;if(j.label.visible){var ad=[];for(var Z=0;Z<S.length;Z++){ad.push(S[Z].text)}Q=s(ad)}if((I!=-1)&&(Q+p+2*l+B/2>I)){S=[]}var X=1;if(j.label.visible){X=2}for(var Z=0;Z<S.length;Z++){var af=ai.append("line").attr("x1",A(S[Z].value)).attr("x2",A(S[Z].value)).attr("y1",Q+X*l).attr("y2",Q+X*l+p).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var V=function(){var ak=ai.append("line").attr("x1",A(S[Z].value)).attr("x2",A(S[Z].value)).attr("y1",Q+p+X*l).attr("y2",Q+p+X*l+j.gridline.length).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){ak.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var ak=ai.append("line").attr("x1",A(S[Z].value)-1).attr("x2",A(S[Z].value)-1).attr("y1",Q+p+X*l).attr("y2",Q+p+X*l+j.gridline.length).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Z==0&&j.gridline.showFirstLine){V()}else{if(Z==(S.length-1)&&j.gridline.showLastLine){V()}else{if((Z!=(S.length-1))&&(Z!=0)&&j.gridline.visible){V()}}}}if(j.label.visible){i(ai,"Top",S,Q)}if(j.axisline.visible){var ac=O[0];var aa=O[1];var M=Q+p+X*l;var K=Q+p+X*l;var R=0;var U="M"+ac+" "+(M-R);U+="L"+ac+" "+M;U+="L"+aa+" "+K;U+="L"+aa+" "+(K-R);var W=ai.append("path").attr("d",U).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}else{if(D=="left"){S=E(S);var ab=0;if(j.label.visible){var ad=[];for(var Z=0;Z<S.length;Z++){ad.push(S[Z].text)}ab=v(ad)}if((I!=-1)&&(ab+p+2*l+B/2>I)){S=[]}var X=1;if(j.label.visible){X=2}for(var Z=0;Z<S.length;Z++){var af=ai.append("line").attr("x1",ab+X*l).attr("x2",ab+X*l+p).attr("y1",A(S[Z].value)).attr("y2",A(S[Z].value)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var V=function(){var ak=ai.append("line").attr("y1",A(S[Z].value)).attr("y2",A(S[Z].value)).attr("x1",ab+X*l+p).attr("x2",ab+X*l+p+j.gridline.length).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){ak.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var ak=ai.append("line").attr("y1",A(S[Z].value)+1).attr("y2",A(S[Z].value)+1).attr("x1",ab+X*l+p).attr("x2",ab+X*l+p+j.gridline.length).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Z==0&&j.gridline.showFirstLine){V()}else{if(Z==(S.length-1)&&j.gridline.showLastLine){V()}else{if((Z!=(S.length-1))&&(Z!=0)&&j.gridline.visible){V()}}}if(j.label.visible){var T=ai.append("text").attr("x",ab+l).attr("y",A(S[Z].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(S[Z].text).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);H(T)}}if(j.axisline.visible){var ac=ab+X*l+p;var aa=ab+X*l+p;var M=O[0];var K=O[1];var R=0;var U="M"+(ac-R)+" "+M;U+="L"+ac+" "+M;U+="L"+aa+" "+K;U+="L"+(aa-R)+" "+K;var W=ai.append("path").attr("d",U).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}else{if(D=="right"){S=E(S);if(j.label.visible){var ad=[];for(var Z=0;Z<S.length;Z++){ad.push(S[Z].text)}ab=v(ad)}if((I!=-1)&&(ab+p+2*l+B/2>I)){S=[]}for(var Z=0;Z<S.length;Z++){var af=ai.append("line").attr("x1",0).attr("x2",p).attr("y1",A(S[Z].value)).attr("y2",A(S[Z].value)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var V=function(){var ak=ai.append("line").attr("y1",A(S[Z].value)).attr("y2",A(S[Z].value)).attr("x1",-j.gridline.length).attr("x2",0).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){ak.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var ak=ai.append("line").attr("y1",A(S[Z].value)+1).attr("y2",A(S[Z].value)+1).attr("x1",-j.gridline.length).attr("x2",0).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Z==0&&j.gridline.showFirstLine){V()}else{if(Z==(S.length-1)&&j.gridline.showLastLine){V()}else{if((Z!=(S.length-1))&&(Z!=0)&&j.gridline.visible){V()}}}if(j.label.visible){var T=ai.append("text").attr("x",p+l).attr("y",A(S[Z].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(S[Z].text).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);H(T)}}if(j.axisline.visible){var ac=0;var aa=0;var M=O[0];var K=O[1];var R=0;var U="M"+(ac+R)+" "+M;U+="L"+ac+" "+M;U+="L"+aa+" "+K;U+="L"+(aa+R)+" "+K;var W=ai.append("path").attr("d",U).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}}}}}var H=function(L){if(jQuery.browser.msie){var K=F.label["font-size"].toString();var N=K.indexOf("px");if(N>=0){K=K.substr(0,N)}var M=L.attr("y");L.attr("y",Number(M)+K/2);L.attr("dominant-baseline","auto")}};h.matrix=function(K){if(!arguments.length){return x}x=K;return h};h.labelAngle=function(K){if(!arguments.length){return g}g=K;return h};h.tickAngle=function(K){if(!arguments.length){return z}z=K;return h};h.angle=function(K){if(!arguments.length){return G}G=K;return h};h.labelAlign=function(K){if(!arguments.length){return J}J=K;return h};h.position=function(K){if(!arguments.length){return D}D=K;return h};h.style=function(K){if(arguments.length==0){return F}F=c.extend(true,F,K);return h};h.properties=function(K){if(arguments.length==0){return j}j=q(j,K);return h};h.axScale=function(K){if(!arguments.length){return A}A=K;return h};h.startPadding=function(){if(A){var K=u();var L=0;if(K.length>0){L=m(K[0].text,F.label)}if(L==0){return 0}if(D=="top"||D=="bottom"){return L.width/2}else{return L.height/2}}else{return 0}};h.endPadding=function(){if(A){var K=u();var L=0;if(K.length>0){L=m(K[K.length-1].text,F.label)}if(L==0){return 0}if(D=="top"||D=="bottom"){return L.width/2}else{return L.height/2}}else{return 0}};h.getPreferredSize=function(){var L=A.domain();var R=A.range();var Q=0;var P=0;var M=[];if(!(R[0]==0&&R[1]==0)){if(D=="bottom"||D=="top"){Q=Math.abs(R[1]-R[0])+B;if(j.label.visible){var K=u();var N=[];for(var O=0;O<K.length;O++){N.push(K[O].text)}P=s(N)+p+2*l+B/2}else{P=p+l+B/2}M.push(P)}else{if(D=="left"||D=="right"){if(j.label.visible){var K=u();var N=[];for(var O=0;O<K.length;O++){N.push(K[O].text)}Q=v(N)+p+2*l+B/2}else{Q=p+l+B/2}M.push(Q);P=Math.abs(R[1]-R[0])+B}}}return{width:Q,height:P,spacings:M,}};var E=function(K){if(K.length>0){if(A(K[0].value)>A(K[K.length-1].value)){K.reverse()}}var L=[];for(var N=0;N<K.length;N++){if(!f.isNoValue(K[N].value)){var O={};O.value=K[N].value;O.text=K[N].text;var Q=m(O.text,F.label).height;var P=A(O.value);O.start=P-Q/2;O.end=P+Q/2;L.push(O)}}var M=[];M=o(L);return M};var i=function(X,V,Q,O){if(Q.length==0){return}if(Q.length>0){if(A(Q[0].value)>A(Q[Q.length-1].value)){Q.reverse()}}var M=[];for(var P=0;P<Q.length;P++){var aa={};aa.value=Q[P].value;aa.text=Q[P].text;var S=m(aa.text,F.label).width;var N=A(aa.value);aa.start=N-S/2;aa.end=N+S/2;M.push(aa)}var U=[];U=o(M);for(var P=0;P<U.length;P++){if(G){var Y=G*Math.PI/180;var W=Math.cos(Y);var L=(45===G)?W:Math.sin(Y);var T=z*Math.PI/180;var K=Math.cos(T);var R=Math.sin(T);var Z=A(U[P].value)*L;tickStartY=-A(U[P].value)*W;var aa=X.append("text").attr("x",Z+l*K).attr("y",tickStartY+l*R).attr("dominant-baseline","middle").attr("text-anchor","start").text(U[P].text).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);if(z>90){aa.attr("text-anchor","end").attr("transform","rotate( "+(z-180)+" "+aa.attr("x")+" "+aa.attr("y")+")")}else{aa.attr("transform","rotate( "+(z)+" "+aa.attr("x")+" "+aa.attr("y")+")")}}else{var aa=X.append("text").attr("x",A(U[P].value)).attr("y",l+p).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(U[P].text).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);aa.attr("dominant-baseline","auto");aa.attr("y",O+l)}}};var o=function(L){var O=[];if(L.length>0){if(!(L[0].value>=0&&L[L.length-1].value>=0)&&!(L[0].value<=0&&L[L.length-1].value<=0)){var N=[];var P=[];for(var M=0;M<L.length;M++){if(L[M].value<=0){N.push(L[M])}if(L[M].value>=0){P.push(L[M])}}N=w(N);P=w(P);var K=function(R,Q){return R.value-Q.value};N.sort(K);P.sort(K);if(N[N.length-1].value==0&&P[0].value==0){N.pop()}O=N.concat(P)}else{O=w(L)}}if(O.length<=1){O=[]}return O};var w=function(L){var O=[];for(var R=0;R<=(L.length-1);R++){var M=true;for(var N=0;N<L.length-1;N+=(R+1)){var Q=L[N];if(N!=0){var K=O[O.length-1];if(L[N].start<=K.end){if(O.length>1){M=false;break}}else{O.push(Q)}}else{O.push(Q)}}var P=L[L.length-1];if(P.start<O[O.length-1].end){O.pop()}O.push(P);if(M){break}else{O=[]}}return O};var u=function(){var M=A.domain();var L=C;if(A.tickHint){L=A.tickHint}var K=A.ticks(L);for(var Q=0;Q<K.length;Q++){K[Q]=parseFloat(K[Q].toFixed(8))}var S;var R;if(M[0]<=M[M.length-1]){S=M[0];R=M[M.length-1]}else{S=M[M.length-1];R=M[0]}if(K.length>0){if(K[0]!=S){K.unshift(S)}if(K[K.length-1]!=R){K.push(R)}}var T=[];for(var Q=0;Q<K.length;Q++){var O={};O.value=K[Q];if(j.isPercentMode){O.text=parseFloat((K[Q]*100).toFixed(8)).toString()}else{O.text=parseFloat(K[Q].toFixed(8)).toString()}T.push(O)}if(j.label){if(!j.label.formatString&&j.label.numberFormat){for(var Q=0;Q<K.length;Q++){var P=d3.format(j.label.numberFormat);T[Q].text=(P(K[Q]))}}else{if(j.label.formatString){var N=j.label.formatString;for(var Q=0;Q<K.length;Q++){T[Q].text=(a.format(K[Q],N))}}}}return T};var s=function(L){var N=0;for(var M=0;M<L.length;M++){var K=m(L[M],F.label).height;if(N<K){N=K}}return N};var v=function(L){var N=0;for(var M=0;M<L.length;M++){var K=m(L[M],F.label).width;if(N<K){N=K}}return N};var m=function(L,K){return d.fastMeasure(L,K["font-size"],K["font-weight"],K["font-family"])};var q=function(L,K){for(var M in K){if(typeof(K[M])==="object"){if(L[M]){L[M]=q(L[M],K[M])}else{L[M]=K[M]}}else{L[M]=K[M]}}return L};return h}});sap.riv.module({qname:"sap.viz.modules.axis",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.0"},{qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(d,f,i,b,c,g,e,a,h,j){return function(A,K){var z=null;var w=null;var D=0;var V=0;var L=true;var ad=-1;var q="viz-axis";var t="viz-axis-body";var k="viz-axis-title";var B="viz-axis-label";var J=11;var s={};var U={};var O=true;var W=A.props(null);var X=true;var E=new e("initialized");var u=W.color;var ac=null;var G;if(K){G=K.effectManager}var Z=null;var p={};var C=function(){if(K){p.title=K.styleManager.query(k);p.label=K.styleManager.query(B);if(W.title.applyAxislineColor){p.title.fill=W.color}}};var I=h(),P=null,l=null,H=null,v=null;var N=function(){if(!X){return false}else{if(!ab()&&!R()){return false}}return true};var R=function(){return W.title.visible&&W.visible};var ab=function(){if(!L){return false}var ai=ac.range();var af=ac.domain();var ah=null;if(W.type==="category"){ah=ac.rangeBand()}var ag=false;if(!W.isIndependentMode){if(U){ag=true}}else{if(s){ag=true}}return !(!W.visible||(ai[0]===0&&ai[ai.length-1]===0&&ai.length>=2)||(ai.length===1&&ai[0]===0&&af.length===1&&af[0]===0&&W.type==="value")||((!ah||!ag)&&ai.length===1&&ai[0]===0&&af.length===1&&af[0]===0&&W.type==="category"))};var M=function(aE){var ap=M.getPreferredSize();j.drawBound(aE,ap.width,ap.height);w=aE;var av=aE.select("."+q);var aG=ac.range();var al=ac.domain();if(!N()){av.remove()}else{var ak=M.getPreferredSize().spacings;var aA=ak[0];var ai=0;for(var ay=1;ay<ak.length;ay++){ai+=ak[ay]}if(ad>=0&&ad<(aA+ai)){O=false}r();var az;var aj;var aq=T();az=aq.core;aj=aq.coreScale;var ah=az().properties(W).style(p).position(W.position).axScale(aj).spaceLimit(ad).matrix(I).labelAngle(P).labelAlign(l).angle(H).tickAngle(v);var aw;if(av.empty()){av=aE.append("g").attr("class",q);aw=av.append("g").attr("class",t)}else{var aB=av.select("."+t).remove();aw=av.append("g").attr("class",t);aw=av.select("."+t)}if(ab()){aw.call(ah)}var aF="";if(W.title.text!==undefined&&W.title.text!==null){aF=W.title.text}else{if(W.type==="value"){if(Z){aF=Z}else{aF=c.get("IDS_ISNOVALUE")}}else{var ao=[];if(W.isIndependentMode){if(s){for(var au in s){if(s.hasOwnProperty(au)){ao=s[au].values;break}}}}else{if(U){ao=U.values}}for(var at=0;at<ao.length;at++){if(ao[at].type){if(ao[at].type==="MND"&&at===0){aF+=c.get("IDS_DEFAULTMND")+((ao.length===1)?"":" - ")}else{if(ao[at].type==="MND"&&at===(ao.length-1)){aF+=" - "+c.get("IDS_DEFAULTMND")}}}else{if(ao[at].col.val){aF+=ao[at].col.val}else{aF+=c.get("IDS_ISNOVALUE")}if(at!==(ao.length-1)&&!ao[at+1].type){aF+=" / "}}}}}var ag=J;av.select("."+k).remove();if(R()){if(W.title.visible&&O){var aD=ah.getPreferredSize();var ax=av.append("g").attr("class",k).append("text").attr("text-anchor","middle").attr("fill",p.title.fill).attr("font-size",p.title["font-size"]).attr("font-weight",p.title["font-weight"]).attr("font-family",p.title["font-family"]);if(W.position==="bottom"){if(!ab()){aD.height=0}ax.attr("x",aD.width/2).attr("y",aD.height+ag).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var af=p.title["font-size"].toString();var ar=af.indexOf("px");if(ar>=0){af=af.substr(0,ar)}ax.attr("y",Number(ax.attr("y"))+af/2);ax.attr("dominant-baseline","auto")}d.ellipsis(aF,ax.node(),aD.width,p.title.toString())}else{if(W.position==="top"){if(!ab()){aD.height=0}titleHieght=aa(aF,p.title).height;aw.attr("transform","translate(0, "+(titleHieght+ag)+")");ax.attr("x",aD.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");d.ellipsis(aF,ax.node(),aD.width,p.title.toString())}else{if(W.position==="left"){if(!ab()){aD.width=0}titleWidth=aa(aF,p.title).height;aw.attr("transform","translate("+(titleWidth+ag)+", "+0+")");var an=titleWidth;var am=aD.height/2;var aC="-90";ax.attr("transform","rotate( "+aC+" "+an+" "+am+" )").attr("x",an).attr("y",am).attr("dominant-baseline","auto");d.ellipsis(aF,ax.node(),aD.height,p.title.toString())}else{if(!ab()){aD.width=0}titleWidth=aa(aF,p.title).height;an=aD.width+titleWidth/2+ag;am=aD.height/2;var aC="-90";ax.attr("transform","rotate( "+aC+" "+an+" "+am+" )").attr("x",an).attr("y",am-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var af=p.title["font-size"].toString();var ar=af.indexOf("px");if(ar>=0){af=af.substr(0,ar)}am=Number(aD.height/2)+af/2;ax.attr("y",am);ax.attr("dominant-baseline","auto")}d.ellipsis(aF,ax.node(),aD.height,p.title.toString())}}}}}O=true}E.initialized();return M};M.matrix=function(af){if(!arguments.length){return I}I=af;return M};M.labelAngle=function(af){if(!arguments.length){return P}P=m(af,360);return M};M.tickAngle=function(af){if(!arguments.length){return v}v=m(af,360);return M};M.angle=function(af){if(!arguments.length){return H}H=m(af,360);return M};function m(ag,af){var ah=ag%af;if(0>ah){ah+=af}return ah}M.labelAlign=function(af){if(!arguments.length){return l}l=af;return M};M.parent=function(af){if(!arguments.length){return w}w=af;return M};M.width=function(af){if(arguments.length==0){return D}else{D=af;if(W.position=="bottom"||W.position=="top"){if(V){ad=V}}else{if(W.position=="left"||W.position=="right"){if(D){ad=D}}}return M}};M.height=function(af){if(arguments.length==0){return V}V=af;if(W.position=="bottom"||W.position=="top"){if(V){ad=V}}else{if(W.position=="left"||W.position=="right"){if(D){ad=D}}}return M};M.gridlineLength=function(af){if(arguments.length==0){return W.gridline.length}W.gridline.length=af;return M};M.startPadding=function(){var af=0;if(W.type=="value"){af=i().properties(W).style(p).position(W.position).axScale(ac).startPadding()}return af};M.endPadding=function(){var af=0;if(W.type=="value"){af=i().properties(W).style(p).position(W.position).axScale(ac).endPadding()}return af};M.size=function(af){if(arguments.length==0){return{width:D,height:V,}}D=af.width;V=af.height;return M};M.independentData=function(af){if(W.isIndependentMode){if(arguments.length==0){return s}s=af}},M.data=function(af){if(arguments.length==0){return s}if(!W.isIndependentMode){s=af;if(af.getAnalysisAxisDataByIdx){U=s.getAnalysisAxisDataByIdx(0)}}return M};M.title=function(af){if(arguments.length==0){return Z}Z=af;return M};M.properties=function(af){if(arguments.length==0){return W}f.extend(true,W,af);if(af.color){W.customizedColor=af.color}return M};M.range=function(){var af=null;if((W.type==="value")&&(W.scale.fixedRange)){if((W.scale.maxValue!==null)&&(W.scale.minValue!==null)){af={max:W.scale.maxValue,min:W.scale.minValue,from:"axis"}}}return af};M.scale=function(af){if(arguments.length==0){return ac}ac=af;return M};M.isDrawBody=function(af){if(arguments.length==0){return L}L=af;return M};M.color=function(af){if(arguments.length==0){return W.color}if(W.customizedColor){af=W.customizedColor}if(!af){af=u}W=f.extend(true,W,{color:af});if(W.title.applyAxislineColor&&af){p.title.fill=af}return M};M.drawable=function(af){if(arguments.length==0){return X}X=af;return M};M.getPreferredSize=function(){C();var ax=[0];var am=[0];if(ac){ax=ac.range();am=ac.domain()}if(!ac||(!N())){return{width:0,height:0,manual:false,}}else{var au=T();var ah=(au.core)().properties(W).style(p).position(W.position).axScale(au.coreScale).spaceLimit(ad);var av,ap;if(W.title.visible&&W.visible){if(W.title.text!==undefined&&W.title.text!==null){av=W.title.text}else{av="Value"}}var al=0;var ao=0;var ag=0;var aj=[];var af=ah.getPreferredSize();if(W.position=="bottom"||W.position=="top"){if(!ab()){af.height=0;af.spacings=[]}if(W.title.visible&&W.visible){al=aa(av,p.title).height;ag=J}var at=al+ag;aj=aj.concat([at]);aj=aj.concat(af.spacings);var ai=0;for(var ar=1;ar<aj.length;ar++){ai+=aj[ar]}var aw=at+ai;var aq=aw;if(ad>=0&&ad<aw){aq=af.height}ap={maxSizeConstant:0.5,width:af.width,height:aw,realHeight:aq,spacings:aj,manual:false,}}else{if(W.position=="left"||W.position=="right"){if(!ab()){af.width=0;af.spacings=[]}if(W.title.visible&&W.visible){ao=aa(av,p.title).height;ag=J}var at=ao+ag;aj=aj.concat([at]);aj=aj.concat(af.spacings);var ai=0;for(var ar=1;ar<aj.length;ar++){ai+=aj[ar]}var ak=ai+at;var an=ak;if(ad>=0&&ad<ak){an=af.width}ap={maxSizeConstant:0.5,width:ak,realWidth:an,height:af.height,spacings:aj,manual:false,}}}if((W.layoutInfo.width>0)&&(W.layoutInfo.height>0)){ap.width=W.layoutInfo.width;ap.realWidth=W.layoutInfo.width;ap.height=W.layoutInfo.height;ap.realHeight=W.layoutInfo.height;ap.manual=true}return ap}};M.dispatch=function(af){if(!arguments.length){return E}E=af;return M};var aa=function(ag,af){return d.fastMeasure(ag,af["font-size"],af["font-weight"],af["font-family"])};function x(af){if(af[0].type==="MND"||af[af.length-1].type==="MND"){return true}else{return false}}function Y(af){if(af.length===1&&af[0].type==="MND"){return true}else{return false}}function ae(af){if(af[0].type==="MND"){return true}else{return false}}function o(af){if(!x(af)){return}if(ae(af)){return af[0]}else{return af[af.length-1]}}function n(al){if(!x(al)||Y(al)){return al}var ak=[];var ai,ah,ag;for(ai=0;ai<al.length;++ai){ak.push({col:al[ai].col,rows:[]})}var af=o(al);var aj=af.rows.length;var am;if(ae(al)){am=al[1].rows.length;for(ai=0;ai<aj;++ai){for(ah=0;ah<am;++ah){ak[0].rows.push(al[0].rows[ai])}}for(ai=1;ai<al.length;++ai){for(ah=0;ah<aj;++ah){ak[ai].rows=ak[ai].rows.concat(al[ai].rows)}}}else{am=al[0].rows.length;for(ai=0;ai<am;++ai){ak[ak.length-1].rows=ak[ak.length-1].rows.concat(al[al.length-1].rows)}for(ai=0;ai<al.length-1;++ai){for(ah=0;ah<am;++ah){for(ag=0;ag<aj;++ag){ak[ai].rows.push(al[ai].rows[ah])}}}}return ak}function F(aj){var ak,ai;var an=[];var ag,al,ah;var af,am;for(ak=0;ak<aj.length;++ak){ag=[];ah=0;am=0;af=0;for(ai=0;ai<aj[ak].rows.length;++ai){al={};if(ak===aj.length-1){al.value=aj[ak].rows[ai];al.space=1}else{++ah;++am;if(ak>0&&am>=an[ak-1][af].space){al.value=aj[ak].rows[ai];al.space=ah;ah=0;am=0;++af}else{if(ai+1<aj[ak].rows.length&&aj[ak].rows[ai].val===aj[ak].rows[ai+1].val){continue}else{al.value=aj[ak].rows[ai];al.space=ah;ah=0}}}ag.push(al)}an.push(ag)}return an}function Q(ah){var ag=n(ah);var af=F(ag);return af}function S(af){for(var ag=0;ag<af.length;++ag){af[ag].reverse()}}var T=function(){var aq={};var ag;if(W.type=="category"){ag=[];var al=[];if(W.isIndependentMode){for(dataObj in s){al=s[dataObj].values}}else{if(U){al=U.values}}var af=[];if(al&&al.length){af=Q(al)}var ak=ac.range();if(ak[0]>ak[ak.length-1]){S(af)}var aA=af.length===0?0:af[af.length-1].length;var aj=ac.rangeBand(),ai=[];var az=false;if(al&&al.length>0&&al[0].rows.length===0){az=true;aA=1;var an={value:{},space:1};an.value={val:U.values[0].col.val,ctx:null};af=[[an]]}var aw;if(!ac.noEqual){if(!Y(al)&&!az){for(aw=0;aw<aA;aw++){ai[aw]=aj}}else{var ap=parseInt(ak.length/aA,10);for(aw=0;aw<aA;aw++){ai[aw]=aj*ap}}}else{for(aw=0;aw<aA;aw++){ai[aw]=Math.abs(ak[aw]-ak[aw+1])}}function ar(aD){var aC=0;for(var aB=0;aB<aD;aB++){aC+=ai[aB]}return aC}var ao={};var ah=[];var am=[];var av,au,ax=0;var ay,at;for(av=0;av<af.length;++av){ah=[];am=[];ax=0;for(au=0;au<af[av].length;++au){ah.push(af[av][au].value);ax+=af[av][au].space;ay=au>0?am[au-1][1]:0;at=ar(ax);am.push([ay,at])}var ao={domain:ah,range:am,};ag.push(ao)}core=b}else{core=i;ag=ac}aq.core=core;aq.coreScale=ag;aq.coreScale.noEqual=ac.noEqual;return aq};function r(){if(!G){return}if(W.customizedColor){W.color=W.customizedColor}var af={drawingEffect:"normal",fillColor:W.color,};W.color=G.register(af);af={drawingEffect:"normal",fillColor:p.label.fill,};p.label.fill=G.register(af);af={drawingEffect:"normal",fillColor:p.title.fill,};p.title.fill=G.register(af)}return M}});sap.riv.module({qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.axis",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.axis",type:b.Module.Type.Supplementary,name:"axis",properties:{isIndependentMode:{name:"isIndependentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether axis works on independent mode, currently it is used specially for boxplot chart.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Show the label 0.1 as 10",isExported:false},lineSize:{name:"lineSize",supportedValueType:"String",defaultValue:"1",description:"Set line size of axis.",isExported:true,},title:{name:"title",description:"Settings for axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of axis title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of axis title."},applyAxislineColor:{name:"applyAxislineColor",supportedValueType:"Boolean",defaultValue:false,description:"Set title color same with axisline color.",isExported:false,},},},gridline:{name:"gridline",description:"Settings for axis gridline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis gridline."},showFirstLine:{name:"showFirstLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the first line of gridlines.",isExported:false,},showLastLine:{name:"showLastLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the last line of gridlines.",isExported:false,},type:{name:"type",supportedValueType:"List",supportedValues:["line","dotted","incised"],defaultValue:"line",description:"Set type of gridline.",isExported:true,},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set color of gridline.",isExported:true,},size:{name:"size",supportedValueType:"String",defaultValue:"1",description:"Set line size of gridline.",isExported:true,},},},color:{name:"color",supportedValueType:"String",defaultValue:"#6c6c6c",description:"Set color of axisline.",isExported:true,},axisline:{name:"axisline",description:"Settings for axisline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axisline."},},},type:{name:"type",supportedValueType:"List",supportedValues:["value","category",],defaultValue:"value",description:"Set type of axis.",isExported:false,},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis.",},label:{name:"label",description:"Settings for axis label.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis label."},numberFormat:{name:"numberFormat",supportedValueType:"String",defaultValue:"",description:"Set number format of value axis."},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},},position:{name:"position",supportedValueType:"List",supportedValues:["left","right","top","bottom"],defaultValue:"bottom",description:"Set position of axis.",isExported:false,},scale:{name:"scale",description:"Set scale for yAxis.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Enable/disable fixed axis range according minValue and maxValue.",isExported:false},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:0,description:"Set minValue of yAxis.",isExported:false},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:0,description:"Set maxValue of yAxis.",isExported:false}},isExported:false},layoutInfo:{name:"layoutInfo",description:"Settings layoutInfo for axis.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"Number",defaultValue:0,description:"Set width of xAxis.",isExported:false},height:{name:"height",supportedValueType:"Number",defaultValue:0,description:"Set height of xAxis.",isExported:false}},isExported:false}},css:{".viz-axis-title":{description:"Define style for the axis title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0"}],function Setup(e,c,d){function g(i){var h=i.slice(0);h.sort(function(k,j){return k.index-j.index});h.shift();return h}function f(h){if(h[0]===true){if(h[1]===true){return[1,2]}else{return[1]}}else{if(h[1]===true){return[2]}else{return[1]}}}function b(j){if(j[0]===true){if(j[1]===true){return[1]}else{if(j[2]===true){if(j.length>3){return[1]}else{return[2]}}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(j[1]===true){if(j[2]===true){return[1,2]}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}else{if(j[2]===true){if(j[3]===true){e.error("Not Supported")}else{if(j.length>3){return[1]}else{return[2]}}}else{for(var h=0;h<j.length;h++){if(j[h]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function a(i,h){this._dataAdapter=i;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=g(this._aa);this._type=h;if(this._type===undefined){this._measureValueAxisIndex=b(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else{if(this._type==="measures"){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}}a.prototype.getSubDataAdapter=function(h){if(this._type===undefined){return this.getSubDataAdapterByContext(h)}else{if(this._type==="measures"){return this.getSubDataAdapterByMeasures(h)}}return null};a.prototype.getSubDataAdapterByContext=function(h){var l,m,k,j;if(h){if(h.path.mg!==undefined&&h.path.mi!==undefined){if(h.path.di!==undefined&&h.path.dii!==undefined){l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return l}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l}}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}for(k=0;k<this._mg.length;k++){j=this._mg[k];l.addMeasureValuesGroup({index:j.index,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return l}}return null};a.prototype.getSubDataAdapterByMeasures=function(h){var l=new c();for(var k=0;k<this._aa.length;k++){l.addAnalysisAxis(this._aa[k])}var j=this._mg[0];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});l.addMeasureValuesGroup({index:1,values:d.makeMeasureValues(null,{values:[j.values[h.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l};return a});sap.riv.module({qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.0"},[{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(a){return function(f,m){var i=m;var q=f;var w;var t;var p={values:[]};var b={values:[]};var u=[];var x;var z;var n=a.get("IDS_DEFAULTMND");var o=function(){};o.setData=function(D){i=D;return o};o.setProperties=function(D){q=D;return o};o.getColumnDimensionData=function(){return b};o.getRowDimensionData=function(){return p};o.getContexts=function(){return u};function r(){var D=0;if(w>0){x=1;z=i.values[0].rows.length;u.push([]);var F=b.values;F[0]={col:{val:n},rows:[]};for(D=0;D<i.values[0].rows.length;++D){F[0].rows.push({val:i.values[0].rows[D].val,info:i.values[0].rows[D].info});u[0].push(i.values[0].rows[D].ctx)}}else{x=i.values[0].rows.length;z=1;var E=p.values;E[0]={col:{val:n},rows:[]};for(D=0;D<i.values[0].rows.length;++D){E[0].rows.push({val:i.values[0].rows[D].val,info:i.values[0].rows[D].info});u.push([i.values[0].rows[D].ctx])}}}function v(){p.values=[];b.values=[];x=0;z=0;u=[]}function C(F,E,D,H){for(var G=D;G<D+H;++G){if(i.values[G].rows[F].val!==i.values[G].rows[E].val){return false}}return true}function g(K,J,H,L){var F=0;var I=K.length;var N=true;for(var E=0;N&&E<L;++E){var D=I;var G=F;N=false;for(var M=F;M<I;++M){if(i.values[H+E].rows[K[M]].val===i.values[H+E].rows[J].val){N=true;if(M<D){D=M}if(M>=G){G=M+1}}}if(N){F=D;I=G}}if(!N){if(I<K.length){K.splice(I,0,J)}else{K.push(J)}}}function s(F,E,H){var D=[];for(var G=E;G<E+H;++G){D.push(i.values[G].rows[F].val)}return D}function j(H,D,F){var G={};for(var E=0;E<H.length;++E){G[s(H[E],D,F)]=E}return G}function c(F,J){var K=[];var E=[];E.push(0);var H;var I={};for(H=1;H<i.values[F].rows.length;++H){g(E,H,F,J)}var L=b.values;for(H=0;H<J;++H){I={};I.col=i.values[F+H].col;I.rows=[];I.rows[0]={val:i.values[F+H].rows[0].val,info:i.values[F+H].rows[0].info};L.push(I)}for(H=0;H<E.length;++H){for(var G=0;G<J;G++){L[G].rows[H]={val:i.values[F+G].rows[E[H]].val,info:i.values[F+G].rows[E[H]].info}}}var D=j(E,F,J);for(H=0;H<i.values[F].rows.length;++H){I=s(H,F,J);K[H]=D[I]}z=E.length;return K}function A(D){if(!D){return null}return{type:D.type,path:{aa:D.path.aa,di:D.path.di,dii:D.path.dii}}}function B(F){var E=[];for(var D=0;D<F.length;++D){E.push(A(F[D]))}return E}function h(F,D){for(var E=0;E<F.length;++E){if(!F[E]){F[E]={path:{}}}F[E].path.mg=D.path.mg;F[E].path.mi=D.path.mi}}function d(F){var D=u.length;for(var G=0;G<F;++G){for(var E=0;E<D;++E){u.push(B(u[E]))}}}function e(N,Q,M,P){var G=N?i.values.length-1:0;var E=i.values[G].rows;var S={};S.col=i.values[G].col;S.rows=[];var T=Q?p.values:b.values;var D=Q?M:P;var K,I,H;var J;if(Q&&M===0){T[0]={col:{val:n},rows:[]};h(u[0],E[0].ctx);T[0].rows.push({val:E[0].val});for(K=1;K<E.length;++K){T[0].rows.push({val:E[K].val});u.push(B(u[0]));h(u[K],E[K].ctx)}x=E.length;return}if(!Q&&P===0){T[0]={col:{val:n},rows:[]};for(K=0;K<E.length;++K){T[0].rows.push({val:E[K].val})}for(K=0;K<u.length;++K){u[K][0].path.mg=E[0].ctx.path.mg;u[K][0].path.mi=E[0].ctx.path.mi;for(I=1;I<E.length;++I){u[K].push(A(u[K][0]));u[K][I].path.mg=E[I].ctx.path.mg;u[K][I].path.mi=E[I].ctx.path.mi}}return}var L=Q?x:z;if(N){for(K=0;K<L;++K){for(I=0;I<T.length;++I){for(H=1;H<E.length;++H){J={val:T[I].rows[K*E.length+H-1].val,info:T[I].rows[K*E.length+H-1].info};T[I].rows.splice(K*E.length+H,0,J)}}}for(K=0;K<L;++K){for(I=0;I<E.length;++I){J={val:E[I].val};S.rows.push(J)}}T.push(S);if(Q){x*=E.length;for(K=0;K<x;K+=E.length){h(u[K],E[0].ctx);for(I=1;I<E.length;++I){var F=B(u[K]);u.splice(K+I,0,F);h(u[K+I],E[I].ctx)}}}else{z*=E.length;for(K=0;K<u.length;++K){for(I=0;I<z;I+=E.length){u[K][I].path.mg=E[0].ctx.path.mg;u[K][I].path.mi=E[0].ctx.path.mi;for(H=1;H<E.length;++H){u[K].splice(I+H,0,A(u[K][I]));u[K][I+H].path.mg=E[H].ctx.path.mg;u[K][I+H].path.mi=E[H].ctx.path.mi}}}}return}else{for(K=1;K<E.length;++K){for(I=0;I<D;++I){for(H=0;H<L;++H){J={val:T[I].rows[H].val,info:T[I].rows[H].info};T[I].rows.push(J)}}}for(I=0;I<E.length;++I){for(K=0;K<L;++K){J={val:E[I].val};S.rows.push(J)}}T.splice(0,0,S);if(Q){x*=E.length;d(E.length-1);for(K=0;K<x;++K){h(u[K],E[x%E.length].ctx)}}else{z*=E.length;for(K=0;K<u.length;++K){var R=[];h(u[K],E[0].ctx);for(I=1;I<E.length;++I){var O=B(K);h(O,E[0].ctx);R=R.concat(B(K))}u[K]=u[K].concat(R)}}}}function l(D,J,I){var H=p.values;var G=0;for(G=0;G<D;++G){var F={};F.col=i.values[J+G].col;F.rows=[];F.rows[0]={val:i.values[J+G].rows[0].val,info:i.values[J+G].rows[0].info};H.push(F)}for(G=1;G<i.values[J].rows.length;++G){if(C(G,G-1,J,D)){I[G]=x}else{++x;for(var E=0;E<D;E++){H[E].rows[x]={val:i.values[J+E].rows[G].val,info:i.values[J+E].rows[G].info}}I[G]=x}}++x}function k(){var L=0,G=i.values.length;var H=t,J=w;var I=false,K=true;var F;if(i.values[0].type==="MND"){++L;if(H>0){--H}else{--J;K=false}}if(i.values[G-1].type==="MND"){I=true;--G;if(J>0){--J;K=false}else{K=true;--H}}if(L<G){var M=[];if(J>0||H>0){M[0]=0;x=0;if(H>0){l(H,L,M)}else{x=1;for(F=1;F<i.values[L].rows.length;++F){M[F]=0}}var E=[];if(J>0){E=c(L+H,J)}else{z=1;for(F=0;F<i.values[L].rows.length;++F){E[F]=0}}u=new Array(x);for(F=0;F<x;++F){u[F]=[];for(var D=0;D<z;++D){u[F][D]=null}}for(F=0;F<i.values[L].rows.length;++F){u[M[F]][E[F]]=i.values[L+H+J-1].rows[F].ctx}}if(H<t||J<w){e(I,K,H,J)}}}o.process=function(){v();if(!i||!i.values||i.values.length===0){return}w=q&&q.numberOfDimensionsInColumn!==undefined?q.numberOfDimensionsInColumn:1;if(!w||w<0){w=0}if(w>i.values.length){w=i.values.length}t=i.values.length-w;if(t<0){t=0}if(i.values.length===1&&i.values[0].type==="MND"){r()}else{k()}};return o}});sap.riv.module({qname:"sap.viz.modules.tablecontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.0"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,e,d,b,k,h,j,g,c,i){var f=function(F,M){var n=0,p=0,aj=0,N=0,o={},af=F.props(null),T={},ab={},B=[],K=[],ag=null,W={},P={},u={},D=null,ae=3,H=2,r=d3.scale.ordinal(),ac=d3.scale.ordinal(),J=new c("initialized","showTooltip","hideTooltip"),z=0,Q=0;var E="multiLayout";function Z(ak){return j.module.get(ak).execute(M)}function w(){if(a.isEmptyObject(W)){d.error("Container configuration missing")}t();z=0,Q=0;G(W,"xAxis",ab.columnData);G(W,"yAxis",ab.rowData);G(W,"xAxis2",ab.columnData);G(W,"yAxis2",ab.rowData);X();ad("plot");ad("xAxis2");ad("yAxis");q();A();Q=Q+z}function t(){delete ab.contexts;delete ab.columnData;delete ab.rowData;delete ab.dataHandler;var ak=k({numberOfDimensionsInColumn:af.numberOfDimensionsInColumn},ag.getAnalysisAxisDataByIdx(0));ak.process();var ap=ak.getRowDimensionData();var an=ak.getColumnDimensionData();var ao=ak.getContexts();ae=ao.length;H=ae>0?ao[0].length:H;var al=new g();al.addAnalysisAxis({key:al.key,index:0,values:an.values});var am=new g();am.addAnalysisAxis({key:ap.key,index:0,values:ap.values});ab.contexts=ao;ab.columnData=al;ab.rowData=am;ab.dataHandler=new h(ag)}function G(al,ar,ak){if(!al.modules[ar]){return}var ap=al.modules[ar],ao=P[ar]=Z(ap.id);v(ar,ak);var an={},am,aq;if(ap.configure){am=o[ap.configure.propertyCategory]||{};aq=ap.configure.properties||{};e.extend(true,an,aq,am);ao.properties(an)}if(ao.dispatch&&ao.dispatch()["initialized"]){Q++;ao.dispatch().on("initialized.tablecontainer",C)}u[ar]=D.append("g").attr("class",ar)}function v(al,ak){if(P[al]){P[al].data(ak)}}function X(){var at=W.modules.plot;if(!at){return}L();U();var al=ab.contexts;var ar=P.plot=[];for(var ao=0;ao<H;ao++){for(var aq=0;aq<ae;aq++){var an=al[aq][ao];if(an){var am=ao*ae+aq;var ap=ar[am]=Z(at.id);ap.config(at);if(ap.dispatch){z++;var ak=ap.dispatch();if(ak.initialized){ak.on("initialized.tablecontainer",C)}if(ak.showTooltip){ak.on("showTooltip.tablecontainer",ai)}if(ak.hideTooltip){ak.on("hideTooltip.tablecontainer",I)}}}}}}function m(){var aq=P.plot;if(aq){var ao=W.modules.plot;if(!ao){return}var an=null,am,ap;var ar=ao.configure;if(ar){ap={};if(ar.propertyCategory){ap[ar.propertyCategory]=ar.properties}am=o;an={};e.extend(true,an,ap,am)}else{an=o}for(var al=0,ak=aq.length;al<ak;al++){if(an&&aq[al]){aq[al].properties(an)}}}}function ad(am){if(am==="plot"){m()}else{var ak=P[am];if(ak){var ao=W.modules[am];if(!ao){return}var al;var an=ao.configure;if(an){al=e.extend(true,{},o[an.propertyCategory])}else{al=o}ak.properties(al)}}}function q(){var ak=ab.dataHandler;var ar=ab.contexts;var ap=P.plot;for(var an=0;an<H;an++){for(var am=0;am<ae;am++){var aq=ar[am][an];if(aq){var al=an*ae+am;var ao=ak.getSubDataAdapter(aq);if(ap[al]){ap[al].data(ao)}}}}}function A(){var am=W.modules.plot;if(!am){return}var ay=P.plot;var aB=u.plot=[];if(u.plotRoot){u.plotRoot.remove()}var al=u.plotRoot=D.append("g").attr("class","plot");for(var at=0;at<H;at++){for(var aq=0;aq<ae;aq++){var aA=at*ae+aq;if(ay[aA]){var av=ay[aA];aB[aA]=al.append("g").attr("class","plot"+aA);av.parent(aB[aA]);if(av.modules){var ap=av.modules();var aD;for(var az in ap){if(ap.hasOwnProperty(az)){aD="plot["+aA+"]."+az;B.push(aD);P["plot["+aA+"]."+az]=ap[az]}}}var aw=am.controllers;if(aw){for(var ar in aw){if(aw.hasOwnProperty(ar)){var aC=aw[ar];var ax=Z(aC.id);ax().module(av);var an={};var ak=aC.propertyCategory;var au=o[ak];var ao=aC.properties;e.extend(true,an,ao,au);ax.properties(an);K.push("plot["+aA+"]."+ar);P["plot["+aA+"]."+ar]=ax}}}}}}}function L(){for(var al=0,ak=K.length;al<ak;al++){delete P[K[al]]}K=[]}function U(){for(var al=0,ak=B.length;al<ak;al++){delete P[B[al]]}B=[]}function Y(){if(a.isEmptyObject(P)||!n||!p){return}var aw={};if(P.xAxis){P.xAxis.drawable(true);aw.south={size:P.xAxis.getPreferredSize()}}if(P.yAxis){P.yAxis.drawable(true);aw.west={size:P.yAxis.getPreferredSize()}}if(P.xAxis2){P.xAxis2.drawable(true);aw.north={size:P.xAxis2.getPreferredSize()}}if(P.yAxis2){P.yAxis2.drawable(true);aw.east={size:P.yAxis2.getPreferredSize()}}if(P.plot){aw.center={}}var an=b({type:"border",bias:"none",size:{width:n,height:p},prefs:aw});aj=an.center.bounds.width;N=an.center.bounds.height;r.rangeBands([0,aj]);ac.rangeBands([0,N]);if(an.north){var ak=0,au=0;if(an.west){ak=an.north.bounds.width-an.west.bounds.width;au=an.north.bounds.x+an.west.bounds.width}if(an.east){ak=an.north.bounds.width-an.east.bounds.width}u.xAxis2.attr("transform","translate("+au+","+an.north.bounds.y+")");P.xAxis2.width(ak).height(an.north.bounds.height);P.xAxis2.gridlineLength(an.center.bounds.height)}else{if(P.xAxis2){P.xAxis2.drawable(false)}}if(an.east){u.yAxis2.attr("transform","translate("+an.east.bounds.x+","+an.east.bounds.y+")");P.yAxis2.width(an.east.bounds.width).height(an.east.bounds.height);P.yAxis2.gridlineLength(an.center.bounds.width)}else{if(P.yAxis2){P.yAxis2.drawable(false)}}if(an.south){var av=0,aq=0;if(an.west){av=an.south.bounds.width-an.west.bounds.width;aq=an.south.bounds.x+an.west.bounds.width}if(an.east){av=an.south.bounds.width-an.east.bounds.width}u.xAxis.attr("transform","translate("+aq+","+an.south.bounds.y+")");P.xAxis.width(av).height(an.south.bounds.height);P.xAxis.gridlineLength(an.center.bounds.height)}else{if(P.xAxis){P.xAxis.drawable(false)}}if(an.west){u.yAxis.attr("transform","translate("+an.west.bounds.x+","+an.west.bounds.y+")");P.yAxis.width(an.west.bounds.width).height(an.west.bounds.height);P.yAxis.gridlineLength(an.center.bounds.width)}else{if(P.yAxis){P.yAxis.drawable(false)}}if(an.center){u.plotRoot.attr("transform","translate("+an.center.bounds.x+","+an.center.bounds.y+")");var al=b({type:"table",bias:"none",size:{width:an.center.bounds.width,height:an.center.bounds.height},columns:H,rows:ae,cellpadding:af.cellPadding,paddingThreshold:af.paddingThreshold});for(var am=0;am<H;am++){for(var ap=0;ap<ae;ap++){var ao=P.plot[am*ae+ap];if(ao){var at=al[am][ap];var ar=u.plot[am*ae+ap];ao.width(at.bounds.width).height(at.bounds.height);ar.attr("transform","translate("+at.bounds.x+","+at.bounds.y+")")}}}}}function O(ak){return function(am){if(!arguments.length){return T[ak]}else{if(!T[ak]){T[ak]=am}else{var al=T[ak];if(am.distinctValuesObj){for(var an in am.distinctValuesObj){if(am.distinctValuesObj.hasOwnProperty(an)){al.distinctValuesObj[an]=am.distinctValuesObj[an]}}}if(am.min<al.min){al.min=am.min}if(am.max>al.max){al.max=am.max}if(am.hasNoValue){al.hasNoValue=true}}}}}function l(am){for(var al=0,ak=am.length;al<ak;al++){V[am[al]+"DataRange"]=O(am[al])}}function S(al){o=al;if(al[E]){if(al[E].mergeDataRange){af.mergeDataRange=al[E].mergeDataRange;l(af.mergeDataRange)}var ak=af.numberOfDimensionsInColumn;e.extend(true,af,al[E]);if(P.plot&&ak!==af.numberOfDimensionsInColumn){t();T={};v("xAxis",ab.columnData);v("yAxis",ab.rowData);v("xAxis2",ab.columnData);v("yAxis2",ab.rowData);q();Y()}}}function ah(){var am=[];for(var ak=0;ak<H;ak++){am.push(ak)}var al=P.xAxis?P.xAxis:P.xAxis2;r.domain(am).rangeBands([0,aj])}function x(){var am=[];for(var al=0;al<ae;al++){am.push(al)}var ak=P.yAxis?P.yAxis:P.yAxis2;ac.domain(am).rangeBands([0,N])}function V(ak){ak.each(function(al){D=ak;i.drawBound(ak,n,p);if(a.isEmptyObject(P)){w()}R()});return V}V.width=function(ak){if(!arguments.length){return n}n=ak;Y();return V};V.height=function(ak){if(!arguments.length){return p}p=ak;Y();return V};V.size=function(ak){if(!arguments.length){return{width:n,height:p}}p=ak.height;n=ak.width;Y();return V};V.data=function(ak){if(!arguments.length){return ag}ag=ak;for(var al in T){if(T.hasOwnProperty(al)){delete T[al]}}if(!a.isEmptyObject(P)){t();Q=Q-z;v("xAxis",ab.columnData);v("yAxis",ab.rowData);v("xAxis2",ab.columnData);v("yAxis2",ab.rowData);z=0;X();ad("plot");ad("xAxis2");ad("yAxis");q();A();Q=Q+z}return V};V.properties=function(ak){if(!arguments.length){return af}S(ak);if(!a.isEmptyObject(P)){ad("plot");ad("xAxis2");ad("yAxis")}return V};V.config=function(ak){if(!arguments.length){return W}W=ak;return V};V.xCategoryScale=function(ak){if(!arguments.length){ah();return r}r=ak;return V};V.yCategoryScale=function(ak){if(!arguments.length){x();return ac}ac=ak;return V};V.modules=function(ak){if(!arguments.length){if(a.isEmptyObject(P)){w()}return P}P=ak;return V};V.parent=function(ak){if(!arguments.length){return D}D=ak;return V};V.dispatch=function(ak){if(!arguments.length){return J}J=ak;return V};V.infoForSizeLegend=function(){var am;for(var al=-1,ak=P.plot.length;++al<ak;){am=P.plot[al];if(am){break}}return{space:am?(n-aj+am.infoForSizeLegend().space*H):0,number:H,plotHeight:am?am.height():0}};V.plotRegion=function(){return{selection:u.plotRoot,width:aj,height:N}};function aa(ak){if(u[ak]){D.select("."+ak).datum(P[ak].data()).call(P[ak])}}function R(){aa("xAxis");aa("xAxis2");aa("yAxis");aa("yAxis2");if(u.plot){for(var al=0,ak=u.plot.length;al<ak;al++){if(u.plot[al]){u.plot[al].datum(P.plot[al].data()).call(P.plot[al])}}}}var s=0;function C(){if(++s===Q){s=0;J.initialized()}}function ai(ak){J.showTooltip(ak)}function I(ak){J.hideTooltip(ak)}return V};return f});sap.riv.module({qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.Constants",version:"4.0.0"},{qname:"sap.viz.modules.tablecontainer",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(f,b,e,g,d){var a={id:"multiplier",name:"Chart Multiplier",type:g.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:0};var c={id:"sap.viz.modules.tablecontainer",type:b.Type.Container,name:"table container",description:"Settings for the subcharts layout of multiple charts.",properties:{mergeDataRange:{name:"mergeDataRange",supportedValueType:"List",supportedValues:["ANY DATA RANGE NAME"],defaultValue:null,description:"Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if 'primary' and 'second' are specified here, two functions will be generated: 'primaryDataRange' and 'secondDataRange'. the function name is the range name plus 'DataRange'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.",isExported:false},numberOfDimensionsInColumn:{name:"numberOfDimensionsInColumn",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout."},cellPadding:{name:"cellPadding",supportedValueType:"PositiveInt",defaultValue:15,description:"Set padding between cells of sub plots. If cellPadding value exceeds containerSize * threshold, we set it to 0."},paddingThreshold:{name:"paddingThreshold",supportedValueType:"Number",defaultValue:0.2,description:"Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.",isExported:false}},events:{showTooltip:d.Module.Event.TooltipShow.desc,hideTooltip:d.Module.Event.TooltipHide.desc},css:null,feeds:[a],fn:e};f.register(c)});sap.riv.module({qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.xycontainer",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xycontainer",type:b.Module.Type.Container,name:"single container",properties:null,css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.datalabel",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(d,a,f,e,c){var b=function(p,A){var r="12px",J="#333333",i='"Open Sans" Arial, Helvetica, sans-serif',K="normal";var g=p.props(null);var k,o,M;var N,P;var h;var aa;var j="horizontal",C,s,D,O,w,n,m,q,T,v,t,ab,I,ac;var B=false;var W="#ffffff",u=false,F=false,V=2,U=false,R="#ffffff";function S(){}S.removeLabel=function(){if(a.isExist(N.parent())){N.parent().selectAll("g.datalabel").remove()}};S.showLabel=function(){if(D&&N.parent()){l();N.parent().selectAll("g.datalabel").remove();P=N.parent().node().getBoundingClientRect();x();if(k.length===0){return}if(u){J=W}else{if(U){J=R}}h="fill:"+J+"; font-family: "+i+"; font-weight: "+K+"; font-size: "+r+"; text-anchor:start";var ad=N.parent().selectAll(".datashapesgroup");ad.each(function(ag,af){var ae=d3.select(this).selectAll("g.datalabel").data([o[af]]);ae.enter().append("g").attr("class","datalabel");ae.each(function(ak,ah){var aj=d3.select(this).selectAll("text.datalabel").data(ak);var ai=aj.enter().append("g").attr("transform",function(al){return al.transformString});ai.each(function(an,am){var al=N.parent().selectAll(".datapoint").data()[am];if(a.isExist(al.decoras)){al.decoras.push(this)}});ai=ai.append("text");ai.text(function(al){return al.value});ai.attr("class","datalabel").attr("visibility","hidden");ai.attr("fill",J).attr("x",function(al){return al.x}).attr("style",h).attr("y",function(al){return al.y});if(j==="vertical"){ai.attr("transform",function(al){return"rotate(270 "+al.centerX+","+al.centerY+")"})}})});E()}};function E(){var ag=N.parent().selectAll("text.datalabel")[0];var ai=[],ae,ah={};var af;for(af=0;af<ag.length;af++){ae={};var ad=ag[af].getBoundingClientRect();ae.top=ad.top;ae.left=ad.left;ae.right=ad.right;ae.bottom=ad.bottom;ae.visible=true;ae.needMove=false;ae.x=0;ae.y=0;ai.push(ae)}ah.top=P.top;ah.left=P.left;ah.right=P.right;ah.bottom=P.bottom;G(M,ai,ah);z(ai,ah);for(af=0;af<ai.length;af++){if(ai[af].visible){if(ai[af].needMove){ag[af].setAttribute("x",ai[af].x);ag[af].setAttribute("y",ai[af].y)}ag[af].setAttribute("visibility","visible")}else{ag[af].parentNode.parentNode.removeChild(ag[af].parentNode)}}}function l(){var ad=A.styleManager.query("viz-datalabel");if(ad){if(ad.fill){J=ad.fill}if(ad["font-family"]){i=ad["font-family"]}if(ad["font-size"]){r=ad["font-size"]}if(ad["font-weight"]){K=ad["font-weight"]}}}function Y(ai,ae){if(a.isExist(n)){var ah,ag,ad,af;if(a.isArray(ae.__data__.val)){ag=n[0];af=I?0:1;ad=ae.__data__.ctx[af].path.mi>=ag.length?ag.length-1:ae.__data__.ctx[af].path.mi;ah=f.format(ai,ag[ad])}else{ag=n[ae.__data__.ctx.path.mg];if(a.isExist(ag)){ad=ae.__data__.ctx.path.mi>=ag.length?ag.length-1:ae.__data__.ctx.path.mi;ah=f.format(ai,ag[ad])}else{ah=ai}}return ah}return ai}var G=function(an,al,af){if(an!==null&&al!==null){for(var am=0;am<an.length;am++){if(am<al.length){if(!q&&!m&&w&&C==="horizontal"){if(T&&an[am].value===0){var ak=an[am].datapointRect;al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;al[am].left=ak.right;al[am].right=ak.right+an[am].width}else{if(O==="inside"){if(an[am].width>an[am].ownerWidth||Q(al[am],af)){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var ai=an[am].datapointRect;if(an[am].value>0){al[am].left=ai.left+an[am].ownerWidth;al[am].right=ai.right+an[am].width}else{al[am].left=ai.left-an[am].width;al[am].right=ai.right-an[am].ownerWidth}}if(Q(al[am],af)){al[am].visible=false}}else{if(O==="outside"){if(Q(al[am],af)){if(an[am].width<=an[am].ownerWidth){al[am].needMove=true;al[am].x=an[am].insideX;al[am].y=an[am].insideY;var ah=an[am].datapointRect;if(an[am].value>0){al[am].left=ah.left+(an[am].ownerWidth-an[am].width)/2;al[am].right=ah.right-(an[am].ownerWidth-an[am].width)/2}else{al[am].left=ah.left+(an[am].ownerWidth-an[am].width)/2;al[am].right=ah.right-(an[am].ownerWidth-an[am].width)/2}if(Q(al[am],af)){al[am].visible=false}}else{al[am].visible=false}}}}}}else{if(!q&&!m&&w&&C==="vertical"){if(T&&an[am].value===0){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var aj=an[am].datapointRect;al[am].top=aj.top+an[am].height;al[am].bottom=aj.top}else{if(O==="inside"){if(an[am].height>an[am].ownerHeight||Q(al[am],af)){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY;var ae=an[am].datapointRect;if(an[am].value>=0){al[am].top=ae.top-an[am].height;al[am].bottom=ae.bottom-an[am].ownerHeight}else{al[am].top=ae.top+an[am].ownerHeight;al[am].bottom=ae.bottom+an[am].height}}if(Q(al[am],af)){al[am].visible=false}}else{if(O==="outside"){if(Q(al[am],af)){if(an[am].height<=an[am].ownerHeight){al[am].needMove=true;al[am].x=an[am].insideX;al[am].y=an[am].insideY;var ap=an[am].datapointRect;if(an[am].value>0){al[am].top=ap.top+(an[am].ownerHeight-an[am].height)/2;al[am].bottom=ap.bottom-(an[am].ownerHeight-an[am].height)/2}else{al[am].top=ap.top+(an[am].ownerHeight-an[am].height)/2;al[am].bottom=ap.bottom-(an[am].ownerHeight-an[am].height)/2}if(Q(al[am],af)){al[am].visible=false}}else{al[am].visible=false}}}}}}else{if(!q&&!m&&!w){if(C==="horizontal"){if(T&&an[am].value===0&&!I&&an[am].width===0){var ag=an[am].datapointRect;al[am].left=ag.right;al[am].right=ag.right+an[am].width}else{if(!v&&an[am].width>an[am].ownerWidth){al[am].visible=false}}}else{if(C==="vertical"){if(T&&an[am].value===0&&!I&&an[am].height===0){var ad=an[am].datapointRect;al[am].top=ad.top+an[am].height;al[am].bottom=ad.top}else{if(!v){if(u||U){if(F||U){if(an[am].height>an[am].ownerHeight/2){al[am].visible=false}}else{if(an[am].height>an[am].ownerHeight){al[am].visible=false}}if(an[am].width>an[am].ownerWidth){al[am].visible=false}}else{if(an[am].height>an[am].ownerHeight){al[am].visible=false}}}}}}if(T&&an[am].value===0&&O==="inside"&&!I){al[am].needMove=true;al[am].x=an[am].outsideX;al[am].y=an[am].outsideY}else{if(!T&&an[am].value===0){al[am].visible=false}}if(!u&&!U&&s==="rect-coordinate"&&C==="vertical"&&t==="up"){var ao=an[am].datapointRect;if((ao.left===af.left)){al[am].visible=false}}if(Q(al[am],af)){al[am].visible=false}}else{if(q){if(C==="horizontal"){if(Q(al[am],af)||(an[am].width>an[am].ownerWidth)||an[am].value===0){al[am].visible=false}}else{if(C==="vertical"){if(Q(al[am],af)||(an[am].height>an[am].ownerHeight)||an[am].value===0){al[am].visible=false}}}}else{if(m){if(Q(al[am],af)){al[am].visible=false}}}}}}}}Z()}};var Z=function(){u=false;F=false;U=false};var L=function(ad){C=a.isExist(ad.orientation)?ad.orientation:C;s=a.isExist(ad.paintingMode)?ad.paintingMode:s;D=a.isExist(ad.visible)?ad.visible:D;O=a.isExist(ad.position)?ad.position:O;w=a.isExist(ad.automaticInOutside)?ad.automaticInOutside:w;n=a.isExist(ad.formatString)?ad.formatString:n;m=a.isExist(ad.isPercentMode)?ad.isPercentMode:m;q=a.isExist(ad.isStackMode)?ad.isStackMode:q;B=a.isExist(ad.isDonut)?ad.isDonut:B;T=a.isExist(ad.showZero)?ad.showZero:T;v=a.isExist(ad.outsideVisible)?ad.outsideVisible:v;t=a.isExist(ad.outsidePosition)?ad.outsidePosition:t;I=a.isExist(ad.isGeoChart)?ad.isGeoChart:I;ab=a.isExist(ad.positionPreference)?ad.positionPreference:ab;ac=a.isExist(ad.type)?ad.type:ac};var H=function(af){var ae;if(af.info){var ad=af.info.customlabel;if(ad){if(ad.type==="url"){ae=af.val}else{if(ad.type==="string"){ae=ad.val}}}else{ae=af.val}}else{ae=af.val}return ae};var x=function(){aa=N.parent()[0][0].ownerSVGElement;k=[],o=[],M=[];if(aa!==null&&aa.getBBox().width===0){return}var aR=0,aQ=0,aM,aw,ae;var aP,av,ai;var aD=N.parent().selectAll(".datashapesgroup");if(aD[0].length===0){aD=N.parent()}var ay=aD.selectAll(".datapoint");if(s==="polar-coordinate"){for(aR=0;aR<aD[0].length;aR++){aw=aD[0][aR].getTransformToElement(aa);k=[];for(aQ=0;aQ<ay[aR].length;aQ++){aM={};ae=ay[aR][aQ];aP=ae.getTransformToElement(aa);if(!a.isExist(aP)){break}aM.dataShape=ae;var aH="";ai=(ae.__data__.endAngle-ae.__data__.startAngle)/(2*Math.PI);ai=Y(ai,ae);if(ac==="label and value"){var az=ae.__data__.dimValueObjects;for(var aO=0;aO<az.length;aO++){aH+=H(az[aO]);if(aO!==(az.length-1)){aH+="/"}}}aM.value=aH+" ("+ai+")";aM.transformString=("translate("+(aP.e-aw.e)+","+(aP.f-aw.f)+")");av=d.fastMeasure(aM.value,r,K,i);var aL=ae.__data__.r;var aq=(ae.__data__.endAngle+ae.__data__.startAngle)/2;var ah=Math.sin(aq);var ak=Math.cos(aq);var an,am;if(B){an=0.65*aL*ah;am=0.65*aL*ak}else{an=0.5*aL*ah;am=0.5*aL*ak}aM.x=0+an*aP.a-av.width/2;aM.y=0-am*aP.d+av.height/2;aM.centerX=an;aM.centerY=am;aM.datapointRect=ae.getBoundingClientRect();k.push(aM);M.push(aM)}o.push(k)}}else{if(s==="rect-coordinate"){for(aR=0;aR<aD[0].length;aR++){aw=aD[0][aR].getTransformToElement(aa);k=[];for(aQ=0;aQ<ay[aR].length;aQ++){aM={};ae=ay[aR][aQ];aP=ae.getTransformToElement(aa);if(!a.isExist(aP)){break}aM.dataShape=ae;var ar=ae.getBBox();var aj;if(a.isArray(ae.__data__.val)){if(I){aj=ae.__data__.val[0]}else{aj=ae.__data__.y}}else{if(m&&ac==="value"){aj=ae.__data__.value}else{aj=ae.__data__.val}}if(ac!=="value"&&ae.__data__.isNegative){aj="-"+aj}var aE=0,aB=0;if(ae.__data__.isOnlyOneCategory!==undefined){u=true;if(ae.__data__.isOnlyOneCategory){F=true;var al=N.parent().selectAll("text.heatmapdatalabel")[0][0];if(al){var aN=al.getBBox();aE=aN.width;aB=aN.height}}}var ag=0,aI=0;if(ae.__data__.isTreeMap!==undefined){U=true;var aS=N.parent().selectAll("text.treemapdatalabel")[0][0];if(aS){var ax=aS.getBBox();ag=ax.width;aI=ax.height}}aM.value=Y(aj,ae);if(ac==="label and value"){aM.value=ae.__data__.label+" ("+aM.value+")"}var aG=ar.x*aP.a,aF=ar.y*aP.d,ad=ar.width*aP.a,af=ar.height*aP.d;aM.transformString=("translate("+(aP.e-aw.e)+","+(aP.f-aw.f)+")");var ap=0,ao=0,aC=0,aA=0,aK=0,aJ=0,au=0,aW=0,at=0,aV=0;if(u||U){var aT=aM.value;if(a.isNumber(aT)){aT=aT.toString()}var aU=null;if(u){aU=W}else{if(U){aU=R}}aM.value=d.ellipsis(aT,null,ad-3,"fill:"+aU+";font-family:"+i+";font-size:"+r)}av=d.fastMeasure(aM.value,r,K,i);if(C==="horizontal"){aM.centerX=aG+ad/2;aM.centerY=aF+af/2;if(ab&&O==="outside"){if(t==="right"){aM.centerX=aM.centerX+ad/2+av.width/2}}else{if(O==="outside"){if(t==="left"||(!a.isExist(ae.__data__.isNegative)&&aj<0)){aM.centerX=aM.centerX-(ad/2+av.width/2)}else{if(t==="right"){aM.centerX=aM.centerX+ad/2+av.width/2}}}}ap=aG+ad/2;ao=aF+af/2;if(!(!a.isExist(ae.__data__.isNegative)&&aj<0)){aW=aM.centerX+ad/2+av.width/2;aV=aF+af/2}else{au=aM.centerX-(ad/2+av.width/2);at=aF+af/2}}else{aM.centerX=aG+ad/2;aM.centerY=aF+af/2;if(ae.__data__.isNegative){t="down"}if(u&&F){aM.centerY+=av.height/2}else{if(U){aM.centerY+=(aI/2+av.height/2)}}if(ab&&O==="outside"){if(t==="up"){aM.centerY=aM.centerY-af/2-av.height/2}}else{if(O==="outside"){if(t==="down"||(!a.isExist(ae.__data__.isNegative)&&aj<0)){aM.centerY=aM.centerY+af/2+av.height/2}else{if(t==="up"){aM.centerY=aM.centerY-af/2-av.height/2}}}}ao=aF+af/2;ap=aG+ad/2;if(!(!a.isExist(ae.__data__.isNegative)&&aj<0)){aA=aM.centerY-af/2-av.height/2;aC=aG+ad/2}else{aJ=aM.centerY+af/2+av.height/2;aK=aG+ad/2}}aM.x=aM.centerX-av.width/2;aM.y=aM.centerY-av.y/2;aM.width=av.width;aM.height=av.height;aM.ownerWidth=ad;aM.ownerHeight=af;aM.datapointRect=ae.getBoundingClientRect();aM.insideX=ap-av.width/2;aM.insideY=ao-av.y/2;if(C==="horizontal"){if(!(!a.isExist(ae.__data__.isNegative)&&aj<0)){aM.outsideX=aW-av.width/2;aM.outsideY=aV-av.y/2}else{aM.outsideX=au-av.width/2;aM.outsideY=at-av.y/2}}else{if(C==="vertical"){if(!(!a.isExist(ae.__data__.isNegative)&&aj<0)){aM.outsideX=aC-av.width/2;aM.outsideY=aA-av.y/2}else{aM.outsideX=aK-av.width/2;aM.outsideY=aJ-av.y/2}}}k.push(aM);M.push(aM)}o.push(k)}}}};var X=function(af,ai){var am=af.left,ak=af.top,ah=af.right,ag=af.bottom;var al=ai.left,aj=ai.top,ae=ai.right,ad=ai.bottom;if(am<=al&&al<=ah&&ak<=aj&&aj<=ag){return true}if(am<=ae&&ae<=ah&&ak<=aj&&aj<=ag){return true}if(am<=al&&al<=ah&&ak<=ad&&ad<=ag){return true}if(am<=ae&&ae<=ah&&ak<=ad&&ad<=ag){return true}if(al<=am&&am<=ae&&aj<=ak&&ak<=ad){return true}if(al<=ah&&ah<=ae&&aj<=ak&&ak<=ad){return true}if(al<=am&&am<=ae&&aj<=ag&&ag<=ad){return true}if(al<=ah&&ah<=ae&&aj<=ag&&ag<=ad){return true}if(am<=al&&al<=ah&&aj<=ak&&ak<=ad){return true}if(am<=al&&al<=ah&&aj<=ag&&ag<=ad){return true}if(am<=ae&&ae<=ah&&aj<=ak&&ak<=ad){return true}if(am<=ae&&ae<=ah&&aj<=ag&&ag<=ad){return true}return false};var z=function(ai,ah){if(ai===null||ah===null){return}for(var ag=0;ag<ai.length;ag++){var af=ai[ag];if(!af.visible){continue}for(var ae=ag+1;ae<ai.length;ae++){var ad=ai[ae];if(!ad.visible){continue}if(X(af,ad)){ad.visible=false}}}};var Q=function(ad,ae){if(ad.top<ae.top||ad.left<ae.left||ad.right>ae.right||ad.bottom>ae.bottom){return true}return false};S.plot=function(ad){if(!arguments.length){return N}N=ad};S.parent=function(){};S.properties=function(ad){if(!arguments.length){return g}c.extend(true,g,ad);L(g)};return S};return b});sap.riv.module({qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.datalabel",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datalabel",name:"datalabel",type:b.Module.Type.Supplementary,properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data label is visible.",},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set for donut chart only.",isExported:false},type:{name:"type",supportedValueType:"String",defaultValue:"value",description:"Set the type of label",isExported:false},automaticInOutside:{name:"automaticInOutside",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the data label will be automatically placed outside when data label postion property is inside and vice versa.",isExported:false},showZero:{name:"showZero",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the value zero will be shown in data label.",isExported:false},isGeoChart:{name:"isGeoChart",supportedValueType:"Boolean",defaultValue:false,description:"if it is true, it is a geo chart.",isExported:false},isStackMode:{name:"isStackMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for stack chart only.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for percent chart only.",isExported:false},positionPreference:{name:"positionPreference",supportedValueType:"Boolean",defaultValue:false,description:"If it is true, the data label position is defined by property outsidePosition no matter whether data label value is negative.",isExported:false},outsideVisible:{name:"outsideVisible",supportedValueType:"Boolean",defaultValue:true,description:"when data label is oustide, it can control whether it is visible or not.",isExported:false},outsidePosition:{name:"outsidePosition",supportedValueType:"List",supportedValues:["up","down","left","right"],defaultValue:"up",description:"when data label is oustide, its position is above the element.",isExported:false},paintingMode:{name:"paintingMode",supportedValueType:"List",supportedValues:["rect-coordinate","polar-coordinate"],defaultValue:"rect-coordinate",description:"Set painting mode of data labels.",isExported:false},position:{name:"position",supportedValueType:"List",supportedValues:["inside","outside"],defaultValue:"inside",description:"Set position of data labels."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set orientation of data labels.",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of datalabel.As we may have dual axis with serveral measures,the first array is applied to primary axis and the second one is applied to the second axis.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-datalabel":{description:"Define style for the data label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(d,e,b,a){var c=function(A){var z=400,x=200,k={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},i,r=[],D={width:18,height:20},m=10,n=1,g=[],q="selectionMode",t={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},B=-1,f=20,C=false,E=e.get("IDS_ISNOVALUE"),l;var j=null;var w=function(F){F.each(function(){o();p();var O=i,P,R=0,L="visible",M,T;var H=d3.select(this);var Q=H.selectAll("rect.indicatedRect");if(Q.empty()){Q=H.append("rect").attr("class","indicatedRect")}Q.attr("visibility","hidden").attr("width",D.width+8).attr("height",D.height+2);var N=H.selectAll("g.row").data(O,function(W,V){return W.val});N.exit().remove();var U=N.enter().append("g").attr("class","row");U.append("rect").attr("class",function(W,V){return"marker ID_"+V});U.append("text");var J=N.selectAll("rect.marker").attr("width",D.width).attr("height",D.height);var S,G;for(M=0,T=J.length;M<T;M++){R=(D.height+n)*((B!==-1)?(M-1):M);if(O[M].val==="N/A"){R=(D.height+n)*(T>1?T:0)}J[M][0].setAttribute("y",R);S={drawingEffect:"normal",fillColor:r[O.length-M-1]};G=j.register(S);J[M][0].setAttribute("fill",G)}P=N.selectAll("text").text(function(X,W){var V=X.val;if(V==="N/A"){V=E}if(a.isExist(l.formatString)){V=b.format(V,l.formatString)}return V}).attr("x",D.width+m);R=0;for(M=0,T=P.length;M<T;M++){R=D.height*((B!==-1)?M:(M+1))+f/2;if(O[M].val==="N/A"){R=(D.height+n)*(T>1?T:0)+f/2+D.height/2}if(C&&M!==T-1&&(O[M].val!=="N/A")){L="hidden"}else{L="visible"}P[M][0].setAttribute("y",R);P[M][0].setAttribute("visibility",L)}if(O.length>1){var K=H.selectAll("text.topText");if(K.empty()){K=H.append("text").attr("class","topText")}var I;if(B!==-1){I=O[1].ctx.ranges.endValue}else{I=O[0].ctx.ranges.endValue}if(a.isExist(l.formatString)){I=b.format(I,l.formatString)}K.text(I).attr("x",D.width+m).attr("y",f/2)}else{if(O.length===1){P[0][0].setAttribute("y",f/2+D.height/2)}}H.attr("style","font-size: "+k.fontsize+"; font-family:"+k.fontfamily+"; font-weight:"+k.fontweight+"; fill: "+k.color+";");H.on("mouseover",h).on("mouseout",s).on("mousedown",u).on("mouseup",s)})};var h=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var I=d3.select(d3.event.target);var G=I.attr("class");if(!G||G.search("marker")===-1){return}var F=I.attr("x"),J=I.attr("y");var H=d3.selectAll(".indicatedRect");H.attr("visibility","visible").attr("fill","#cccccc").attr("x",F-4).attr("y",J-1)};var s=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var H=d3.select(d3.event.target);var F=H.attr("class");if(!F||F.search("marker")===-1){return}var G=d3.selectAll(".indicatedRect");G.attr("visibility","hidden")};var u=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var I=d3.select(d3.event.target);var G=I.attr("class");if(!G||G.search("marker")===-1){return}var F=I.attr("x"),J=I.attr("y");var H=d3.selectAll(".indicatedRect");H.attr("visibility","visible").attr("fill","#808080").attr("x",F-4).attr("y",J-1)};w.clickHandler=function(){if(q==="single"||q==="none"||l.isHierarchy){return}if(d3.event.type==="touchstart"){u()}var F=false;if(v(g,d3.event.target)){F=true}else{g.push(d3.event.target)}return F};w.width=function(F){if(!arguments.length){return z}z=F;return w};w.height=function(F){if(!arguments.length){return x}x=F;return w};w.properties=function(F){if(!arguments.length){return l}l=F;return w};w.data=function(F){if(!arguments.length){return i}i=F;return w};w.setSelectionMode=function(F){q=F};w.getPreferredSize=function(){var M=0,N=0,O=0,G=i;if(G){B=-1;o();var P=-1,K,I="font-size:"+k.fontsize+"; font-weight:"+k.fontweight+"; font-family:"+k.fontfamily;var J=G.length;for(var F=0;F<J;F++){if(G[F].val==="N/A"){K=d.measure(E,I);B=F}else{var L=G[F].val;if(a.isExist(l.formatString)){L=b.format(L,l.formatString)}K=d.measure(L,I)}if((K===undefined)||(K.width>P)){P=K.width}}f=parseInt(k.fontsize,10);var H=(t.maxValueSpace+1)*f;M=D.width+t.markerPaddingRight*f+P;if(B!==-1){N=(H+n)*(J+1)+f;O=(t.minMarkerHeight+n)*(J+1)+f}else{N=(H+n)*J+f;O=(t.minMarkerHeight+n)*J+f}}return{minHeight:O,minWidth:M,width:M,height:N}};w.color=function(F){if(!arguments.length){return r}r=F;return w};w.effectManager=function(F){if(!arguments.length){return j}j=F;return w};var p=function(){var F=i.length,I=0,J=0;C=false;if(B!==-1){J=(x-(F+2)*f)/(F+1)}else{J=(x-(F+1)*f)/F}I=J+f;var H=t.maxValueSpace*f;if(J>H){J=H;I=J+f}else{var G=t.minValueSpace*f;if(J<G){I=t.minMarkerHeight;J=0;C=true}}t.space=J;D.height=I};var v=function(F,H){for(var G=0;G<F.length;G++){if(F[G]===H){return true}}return false};var o=function(){var F=A.styleManager.query("viz-legend-valueLabel");if(F){if(F.fill){k.color=F.fill}if(F["font-family"]){k.fontfamily=F["font-family"]}if(F["font-size"]){k.fontsize=F["font-size"]}if(F["font-weight"]){k.fontweight=F["font-weight"]}}};return w};return c});sap.riv.module({qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(d,e,b,a){var f=function(t){var h=400,s=200,j={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"normal",color:"#333333"},n=[0,0,0],m,g,i,k=10,l=15,q=0,u;var p=null;var o=function(v){v.each(function(){if(m===undefined){return}r();var z=[],G="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;if(q===0){q=d.measure("M",G).height}var F=Math.round(s/q);switch(F){case 0:case 1:case 2:case 3:z.push(n[0]);break;case 4:z.push(n[0]);if(n.length>1){z.push(n[n.length-1])}break;default:z=n}var Q=[],P=-1,C,L;for(var N=0,O=z.length;N<O;N++){Q.push(m(z[N])/2);L=c(z[N]);if(a.isExist(u.formatString)){L=b.format(L,u.formatString)}C=d.measure(L,G).width;if(C>P){P=C}}var B=Q[0];var H=d3.select(this);var w=parseInt(j.fontsize,10);var D=H.selectAll("g.legend-circles");if(D.empty()){D=H.append("g").attr("class","legend-circles").data([Q])}D.attr("transform","translate("+B+","+(B+w)+")");var A={drawingEffect:u.drawingEffect,graphType:"circle",fillColor:"#748CB2"};var J=p.register(A);var M=D.selectAll("circle").data(Q,function(S,R){return S});M.exit().remove();M.enter().append("circle").attr("stroke","white").attr("stroke-width",1).attr("fill",J).attr("opacity","0.85");M.attr("r",function(S,R){return S}).attr("cx",function(S,R){return 0}).attr("cy",function(S,R){return B-S});var K=H.selectAll("g.legend-valueLabels");if(K.empty()){K=H.append("g").attr("class","legend-valueLabels").data([z])}var I=(B*2+l+k+P)>h?h:(B*2+l+k+P);K.attr("transform","translate("+I+", "+(B+w*3/2)+")");var E=K.selectAll("text").data(z,function(S,R){return S});E.exit().remove();E.enter().append("text").attr("text-anchor","end");E.attr("font-family",j.fontfamily).attr("font-size",j.fontsize).attr("font-weight",j.fontweight).attr("fill",j.color).text(function(T,R){var S=c(T);if(a.isExist(u.formatString)){S=b.format(S,u.formatString)}return S}).attr("dx",0).attr("dy",function(T,S){var R=(S-1)*B-2;if(z.length===2&&S===1){R=B-2}return R});var x=H.selectAll("g.legend-guideLines");if(!x.empty()){x.remove()}x=H.append("g").attr("class","legend-guideLines").attr("transform","translate("+B+","+(B+w)+")");if(z.length>0){x.append("path").attr("stroke","gray").attr("d","M 0 "+-B+" L "+(B+k)+" "+-B)}if(z.length>1){x.append("path").attr("stroke","gray").attr("d","M 0 "+B+"L"+(B+k)+" "+B)}if(z.length>2){x.append("path").attr("stroke","gray").attr("d","M 0 "+(B-Q[1])+" L "+B+" 0 M "+B+" 0  L "+(B+k)+" 0")}})};o.width=function(v){if(!arguments.length){return h}h=v;return o};o.height=function(v){if(!arguments.length){return s}s=v;return o};o.color=function(v){if(!arguments.length){return g}return o};o.shapes=function(v){if(!arguments.length){return i}return o};o.properties=function(v){if(!arguments.length){return u}u=v;return o};o.data=function(v){if(!arguments.length){return n}n=v;return o};o.scale=function(v){if(!arguments.length){return m}m=v;return o};o.effectManager=function(v){if(!arguments.length){return p}p=v;return o};var r=function(){var v=t.styleManager.query("viz-legend-valueLabel");if(v){if(v.fill){j.color=v.fill}if(v["font-family"]){j.fontfamily=v["font-family"]}if(v["font-size"]){j.fontsize=v["font-size"]}if(v["font-weight"]){j.fontweight=v["font-weight"]}}};o.getPreferredSize=function(D,z,E,N,M,I,J){if(D){r()}var H=0,B=0,A=0;if(m&&z){q=0;var L=-1,v,w,C=null,O=n,x="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;for(var F=0,G=O.length;F<G;F++){C=c(O[F]);if(a.isExist(u.formatString)){C=b.format(C,u.formatString)}w=d.measure(C,x);if((w===undefined)||(w.width>L)){L=w.width}}var K=L+l+k;v=D?(D.width-z-E-K-N.space-N.number*I)/(1+(1/M)*N.number):m(O[0]);q=w.height;if(!J&&N.plotHeight){v=Math.min((N.plotHeight-I)*M,v)}B=v+w.height*2;H=v+K;A=H}return{minHeight:B,minWidth:A,height:B,width:H}};return o};var c=function(g){return(g===null)?e.get("IDS_ISNOVALUE"):g};return f});sap.riv.module({qname:"sap.viz.util.DrawUtil",version:"4.0.0"},[],function Setup(){var a={};a.createMarkerData=function(f){var d;var e=f.borderWidth/2;switch(f.type){case"circle":d="M"+(-f.rx-e)+",0 A"+(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(f.rx+e)+",0 A";d+=(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(-f.rx-e)+",0z";break;case"cross":d="M"+(-f.rx-e)+","+(-f.ry/3-e)+"H"+(-f.rx/3-e)+"V"+(-f.ry-e)+"H"+(f.rx/3+e);d+="V"+(-f.ry/3-e)+"H"+(f.rx+e)+"V"+(f.ry/3+e)+"H"+(f.rx/3+e);d+="V"+(f.ry+e)+"H"+(-f.rx/3-e)+"V"+(f.ry/3+e)+"H"+(-f.rx-e)+"Z";break;case"diamond":d="M0,"+(-f.ry-e)+"L"+(f.rx+e)+",0 0,"+(f.ry+e)+" "+(-f.rx-e)+",0Z";break;case"square":d="M"+(-f.rx-e)+","+(-f.ry-e)+"L"+(f.rx+e)+",";d+=(-f.ry-e)+"L"+(f.rx+e)+","+(f.ry+e)+"L"+(-f.rx-e)+","+(f.ry+e)+"Z";break;case"triangle-down":d="M0,"+(f.ry+e)+"L"+(f.rx+e)+","+-(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-up":d="M0,"+-(f.ry+e)+"L"+(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+(f.ry+e)+"Z";break;case"triangle-left":d="M"+-(f.rx+e)+",0L"+(f.rx+e)+","+(f.ry+e)+" "+(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-right":d="M"+(f.rx+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"intersection":d="M"+(f.rx+e)+","+(f.ry+e)+"L"+(f.rx/3+e)+",0L"+(f.rx+e)+","+-(f.ry+e)+"L";d+=(f.rx/2-e)+","+-(f.ry+e)+"L0,"+(-f.ry/3-e)+"L"+(-f.rx/2+e)+","+-(f.ry+e)+"L";d+=-(f.rx+e)+","+-(f.ry+e)+"L"+-(f.rx/3+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+"L";d+=(-f.rx/2+e)+","+(f.ry+e)+"L0,"+(f.ry/3+e)+"L"+(f.rx/2-e)+","+(f.ry+e)+"Z";break;case"squareWithRadius":var g=f.rx;var c=g-3;d="M0,"+-g+"L"+-c+","+-g+"Q"+-g+","+-g+" "+-g+","+-c+"L"+-g+","+c+"Q"+-g+","+g+" "+-c+","+g;d+="L"+c+","+g+"Q"+g+","+g+" "+g+","+c+"L"+g+","+-c+"Q"+g+","+-g+" "+c+","+-g+"Z";break}return d};function b(d){var c;switch(d.type){case"circle":c="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":c="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":c="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":c="M0,0L0,0 0,0Z";break;case"intersection":c="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case"squareWithRadius":c="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":c="M0,0L0,0L0,0L0,0Z";break;default:c="M0,0L0,0L0,0L0,0Z";break}return c}a.createElements=function(d,c){return d.append("path").attr("class",c.className)};a.createElement=function(c,f,e){var d=c.append("path").attr("class",f.className);f.node=d;a.drawGraph(f,e);return d};a.drawGraph=function(e,d){var c={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};var g=a.createMarkerData(c);var f=d.register(e);e.node.attr("fill",f).attr("stroke-width",e.borderWidth).attr("stroke",e.borderColor).attr("visibility",e.visibility).attr("stroke-opacity",e.strokeOpacity);if(e.animateTime&&e.animateTime>0){e.node.attr("d",b(c));e.node.transition().duration(e.animateTime).attr("d",g).each("end",e.endFunc)}else{e.node.attr("d",g)}return e.node};return a});sap.riv.module({qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"}],function Setup(d,c,a,b){var e=function(F){var D=400,B=200,m={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},n={isHierarchy:undefined,position:"right",legendType:"ColorLegend"},I=1,C=[],v=[],t=0,k=0,g=20,p=0.5,u=0.6,h=[],s="multiple";var l=null;var q=b.newId();var f=0;var G=Infinity;var o=[],j={};var A=function(K){K.each(function(){r();var L=J();var aa=false;if(L.length>0&&L.length<j.length){aa=true}var S=d3.select(this);S.attr("style","font-family:"+m.fontfamily+"; font-size:"+m.fontsize+"; font-weight:"+m.fontweight+";fill:"+m.color+";");var V=S.selectAll("g.row").data(L,function(ai,ah){return ai.val});V.exit().remove();var ad=V.enter().append("g").attr("class",function(ai,ah){return q+" row ID_"+ah});var Q=ad.append("rect").attr("class",function(ai,ah){return"legend-indicatedRect-"+q+"-ID_"+ah});var X=u*g/2;Q.attr("width",D+10).attr("height",g+X*2).attr("fill","rgba(255, 255, 255, 0)").attr("x",-5).attr("y",-X);var ab,Z,ac,af,ae;if((n.legendType!=="BubbleColorLegend")&&n.isHierarchy){var W,Y,M=[],P=0,R=0;for(ab=0,ac=L.length;ab<ac;ab++){P=0,R=0;W=L[ab].val;W=W.replace("-","/");Y=W.split(" / ");ae=d3.select(this).select("g.row.ID_"+ab);var N=false;for(Z=0,af=Y.length-1;Z<af;Z++){if(M[Z]!==Y[Z]){N=true;break}}var U=ae.selectAll("g").data(Y);U.enter().append("g").attr("class",function(ai,ah){return q+" label ID_"+ah});for(Z=0,af=Y.length;Z<af;Z++){var O;if(Z===af-1){O=H(ae.select("g.label.ID_"+Z),ab,true,Y[Z]);O.attr("transform",function(ai,ah){P=10*Z;if(N){R=g+R+u*g}return"translate("+P+","+R+")"})}else{if(N){O=H(ae.select("g.label.ID_"+Z),ab,false,Y[Z]);O.attr("transform",function(ai,ah){P=10*Z;if(Z>0){R=g+R+u*g}return"translate("+P+","+R+")"})}}if(O){O.attr("visibility",function(aj,ah){var ai="visible";if((o[ab]===undefined)||(o[ab].y+R>B-g)){ai="hidden";aa=true}return ai})}M[Z]=Y[Z]}}V.attr("transform",function(ai,ah){if(o[ah]){return"translate("+o[ah].x+","+o[ah].y+")"}})}else{for(ab=0,ac=L.length;ab<ac;ab++){ae=d3.select(this).selectAll("g.row.ID_"+ab);H(ae,ab,true,L[ab].val)}V.attr("transform",function(ai,ah){if(o[ah]){return"translate("+o[ah].x+","+o[ah].y+")"}}).attr("visibility",function(aj,ah){var ai="visible";if((o[ah]===undefined)||(o[ah].y>B-2*g)){ai="hidden";aa=true}return ai})}var T=ad.append("rect").attr("class",function(ai,ah){return"legend-eventRect-"+q+"-ID_"+ah});T.attr("width",D).attr("height",g).attr("fill","rgba(255, 255, 255, 0)");var ag=d3.select(this).selectAll("text.itemsEllipsis");if(ag.empty()){ag=d3.select(this).append("text").attr("class","itemsEllipsis").text("...").attr("text-anchor","middle")}ag.attr("dx",D/2).attr("dy",B).attr("visibility",function(){var ah="hidden";if(aa){ah="visible"}return ah});d3.select(this).on("mouseover",i).on("mouseout",w).on("mousedown",x).on("mouseup",w).on("touchend",w)})};A.width=function(K){if(!arguments.length){return D}D=K;return A};A.height=function(K){if(!arguments.length){return B}B=K;return A};A.color=function(K){if(!arguments.length){return v}v=K;return A};A.shapes=function(K){if(!arguments.length){return C}C=K;return A};A.colorFeedLength=function(K){t=K;return A};A.shapeFeedLength=function(K){k=K;return A};A.data=function(K){if(!arguments.length){return j}j=K;return A};A.properties=function(K){if(!arguments.length){return n}n=K;return A};A.getPreferredSize=function(K){r();return E(K)};A.setSelectionMode=function(K){s=K};A.effectManager=function(K){if(!arguments.length){return l}l=K;return A};var J=function(){var L=[],K=o.length;if(j.length>0){L=j.slice(0,K);f=0;G=K}return L};var r=function(){var K=F.styleManager.query("viz-legend-valueLabel");if(K){if(K.fill){m.color=K.fill}if(K["font-family"]){m.fontfamily=K["font-family"]}if(K["font-size"]){m.fontsize=K["font-size"]}if(K["font-weight"]){m.fontweight=K["font-weight"]}}};var i=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var M=d3.select(d3.event.target);var K=M.attr("class");if(!K||K.search("eventRect")===-1){return}var N=K.split("ID_")[1];var L=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+N);L.attr("fill","#cccccc")};var w=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var M=d3.select(d3.event.target);var K=M.attr("class");if(!K||K.search("eventRect")===-1){return}var N=K.split("ID_")[1];var L=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+N);L.attr("fill","rgba(0,0,0,0)")};var x=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var M=d3.select(d3.event.target);var K=M.attr("class");if(!K||K.search("eventRect")===-1){return}var N=K.split("ID_")[1];var L=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+N);L.attr("fill","#808080")};A.clickHandler=function(){if(s==="single"||s==="none"||n.isHierarchy){return}if(d3.event.type==="touchstart"){x()}var K=false;if(z(h,d3.event.target)){K=true}else{h.push(d3.event.target)}return K};A.deselectByCtx=function(N){if(!N){h=[]}else{var M,L=true;for(var P=0,K=h.length;P<K;P++){L=true;M=h[P].__data__.ctx.path;if(!M){M=h[P].__data__.ctx.ranges;if(M!==N.ctx.ranges){L=false}}else{for(var O in M){if(N.ctx.path[O]!==undefined){if(N.ctx.path[O].length>0){if(N.ctx.path[O]!==M[O]){L=false}}else{if(N.ctx.path[O]!==M[O]){L=false}}}}}if(L===true){h.splice(P,1);break}}}};var z=function(K,M){for(var L=0;L<K.length;L++){if(K[L]===M){return true}}return false};var E=function(ai){var Y=0,ag=0,V=0,P={width:0,height:0},N=j,aa=0;if(N&&N.length>0){var R="font-size:"+m.fontsize+"; font-weight:"+m.fontweight+"; font-family:"+m.fontfamily;var U=[],T=0,X=0;g=parseInt(m.fontsize,10);o=[];var ae,ad,af,ah;if((n.legendType!=="BubbleColorLegend")&&n.isHierarchy){var Z,ac,S,L={width:0,height:0},M=[];for(ae=0,af=N.length;ae<af;ae++){Z=N[ae].val;Z=Z.replace("-","/");ac=Z.split(" / ");var O=false;for(ad=0,ah=ac.length-1;ad<ah;ad++){if(M[ad]!==ac[ad]){O=true;break}}var ab=0;for(ad=0,ah=ac.length;ad<ah;ad++){S=d.measure(ac[ad],R);if(ad===ah-1){S.width=S.width+(I+p)*g;ab=ab+(u+1)*g}else{if(O){ab=ab+(u+1)*g}}S.width=S.width+10*ad;if(S.width>L.width){L=S}M[ad]=ac[ad]}if(L.width>aa){aa=L.width}U.push(ab);if(ae>0){X=X+U[ae-1]}if(X+g>ai.height){break}o.push({x:T,y:X})}ag=T+aa;Y=X+U[U.length-1];V=d.measure("M...",R).width}else{var Q,W;if(n.position==="left"||n.position==="right"){var K;for(ae=0,af=N.length;ae<af;ae++){if(ae>0){X=X+g+g*u}if(X+g>ai.height){break}o.push({x:T,y:X});Q=N[ae].val;if(N[ae].size===undefined){N[ae].size=d.measure(Q,R)}K=N[ae].size;if(K.width>P.width){P=K}}}else{for(ae=0,af=N.length;ae<af;ae++){Q=N[ae].val;W=d.measure(Q,R);U.push(W.width);if(ae>0){T=T+(I+p)*g+U[ae-1]}if(T+g>ai.height){break}o.push({x:T,y:X})}}aa=(I+p)*g+P.width;if(n.position==="left"||n.position==="right"){ag=T+aa;Y=X+g}else{ag=T+U[U.length-1]+(I+p)*g;Y=P.height}V=T+(I+p)*g+d.measure("M...",R).width}}if(V>ag){V=ag}return{minHeight:2*g,minWidth:V,height:Y,width:ag}};var H=function(K,Q,L,O){var V=0,N;var R=I*g;if(L){if(k>0){N=C[Q%(C.length>k?k:C.length)]}else{if(n.legendType==="BubbleColorLegend"){N=(C[0]===undefined)?"square":C[0]}else{var U=C[Q%C.length];N=(U===undefined)?"square":U;if(N==="square"){N="squareWithRadius"}}}var M=g/2;var T=K.selectAll("path").data([O]);a.createElements(T.enter(),{shape:N,className:null});T.attr("transform",function(Z,Y){var W;if(k>0){Y=Math.floor(Q/k);var X=v.length>t?t:v.length;if(X>0){W=v[Y%X]}else{W=v[0]}}else{W=v[Q%(v.length>t?t:v.length)]}var aa={drawingEffect:n.drawingEffect,graphType:N,fillColor:W,direction:"vertical",rx:R/2,ry:R/2,borderWidth:0,borderColor:"transparent",node:d3.select(this)};a.drawGraph(aa,l);return"translate("+M+","+M+")"});V=R+p*g}var S=K.selectAll("text").data([O]);S.enter().append("text");S.attr("x",V).attr("y",g).text(function(W){return W});var P="font-size:"+m.fontsize+"; font-weight:"+m.fontweight+"; font-family:"+m.fontfamily;S.each(function(W){d.ellipsis(W,this,D-V,P)});return K};return A};return e});sap.riv.module({qname:"sap.viz.modules.legend",version:"4.0.0",exported:true},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.0"},{qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.0"},{qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(j,g,a,e,b,l,d,h,c,f,k){var i=function(E,S){var m,p,ag={width:200,height:200},ae="right",ak={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"bold",color:"#333333"},al={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},X={},t=true,G=false,Y=[],ai=[],M=20,v={top:0,right:0,bottom:0,left:1.15},F=0.5,C={x:0,y:0},o,x,T,V,aj,I=false;var U={title:"",labels:""},am=[],aq=null,at=[],z=[],Q=0,D=0,ah=true;var ac=l(S);var J=new e("highlightedByLegend");var R=S.effectManager;var n;var L=false;var ap=function(au){k.drawBound(au,m,p);au.each(function(){if(q()||W()){if(U.labels.length===0){t=false}}if(t&&!G){H();if(ah){N({width:m,height:p})}var aB=v.left*M,ay=v.top*M;var aw=d3.select(this).selectAll("g.legend-content").data([U]);aw.enter().append("g").attr("class","legend-content");if(L){L=false;aw.selectAll(".legend .row").remove()}if(X.isShowTitle&&!I){var az=parseInt(ak.fontsize,10);var aG="font-weight: "+ak.fontweight+"; fill:"+ak.color+"; font-family: "+ak.fontfamily+"; font-size: "+ak.fontsize+";";var aC=(X.titleText===undefined||X.titleText===null)?U.title:X.titleText;var aA=aw.selectAll("text.legend-labelTitle");if(aA.empty()){aA=aw.append("text").attr("class","legend-labelTitle")}aA.text(aC).attr("dx",aB).attr("dy",ay+az).attr("style",aG).attr("visibility","visible");aA.each(function(aH){g.ellipsis(aC,this,m-aB,aG)})}else{aw.selectAll("text.legend-labelTitle").attr("visibility","hidden");if(I){I=false}}var aF=U.labels;var ax=aw.selectAll("g.legend-groups").data([aF]);ax.enter().append("g").attr("class","legend-groups");ax.attr("transform","translate("+C.x+","+C.y+")");var aE=((m===undefined)?ag.width:m)-aB;var aD=((p===undefined)?ag.height:p)-ay;ac.properties(X).width(aE).height(aD-C.y).effectManager(R);if(af()){ac.data(am).scale(o)}else{if(ao()){ac.data(aF).color(aj.range())}else{ac.data(aF).color(ai).colorFeedLength(Q).shapeFeedLength(D)}}ax.call(ac).on("click",P).on("touchstart",P);if(X.position==="left"||X.position==="right"){switch(X.alignment){case"end":aw.attr("transform","translate(0, "+(((p-ag.height)>0)?((p-ag.height)):0)+")");break;case"middle":aw.attr("transform","translate(0, "+(((p-ag.height)/2>0)?((p-ag.height)/2):0)+")");break}}}else{var av=d3.select(this).selectAll("g.legend-content");if(!av.empty()){av.remove()}}G=false})};var P=function(ax){if(X.isHierarchy){return}var aw=d3.select(d3.event.target).attr("class");if(aw){var av=ac.clickHandler();var au=parseInt(d3.select(d3.event.target).attr("class").split("ID_")[1],10);if(U.labels[au]!==undefined){J.highlightedByLegend(U.labels[au],av)}}};ap.deselectLegend=function(au){if(!(ao()||af())){ac.deselectByCtx(au)}};ap.width=function(au){if(!arguments.length){return m}m=au;ah=true;return ap};ap.height=function(au){if(!arguments.length){return p}p=au;ah=true;return ap};ap.position=function(au){if(!arguments.length){return ae}ae=au;return ap};ap.colorPalette=function(au){if(!arguments.length){return ai}ai=au;ac.color(au);return ap};ap.shapes=function(au){if(!arguments.length){return Y}Y=au;ac.shapes(au);return ap};ap.properties=function(au){if(!arguments.length){return n}if(n&&au&&n.isHierarchical!==au.isHierarchical){L=true}f.extend(true,n,au);X.visible=n.visible;t=X.visible;X.isShowTitle=n.title.visible;X.titleText=n.title.text;X.isHierarchy=n.isHierarchical;X.position=n.position;X.formatString=n.formatString;if(X.legendType!==n.type){X.legendType=n.type;if(aq&&U.labels){B(aq);ac.data(U.labels)}}X.alignment=n.alignment;X.drawingEffect=n.drawingEffect;if(af()){ac=d(S)}else{if(ao()){ac=h(S)}}ac.properties(X);return ap};ap.getPreferredSize=function(au,aw,av){H();return N(au,aw,av)};ap.data=function(au){if(!arguments.length){return aq}aq=au;B(au);ac.data(U.labels);return ap};ap.sizeLegendInfo=function(au){if(!arguments.length){return o}o=au.scale;ac.scale(o);x=au.bubbleScale;T=au.space;V=au.hasHeightFeed;if(au.data.length===0){t=false}else{t=X.visible;am=au.data;ac.data(am)}U.title=ar(au.title);return ap};ap.hideTitle=function(){I=true;return ap},ap.hide=function(au){G=au;return ap},ap.mbcLegendInfo=function(au){if(!arguments.length){return aj}if(au.colorScale===undefined){t=false}else{t=X.visible;aj=au.colorScale;U.title=ar(au.title);an();ac.data(U.labels)}return ap};ap.setSelectionMode=function(au){if(!(ao()||af())){ac.setSelectionMode(au)}};ap.dispatch=function(au){if(!arguments.length){return J}J=au;return ap};ap.isVisible=function(){return t};var H=function(){var av=S.styleManager.query("viz-legend-title");if(av){if(av.fill){ak.color=av.fill}if(av["font-family"]){ak.fontfamily=av["font-family"]}if(av["font-size"]){ak.fontsize=av["font-size"]}if(av["font-weight"]){ak.fontweight=av["font-weight"]}}var au=S.styleManager.query("viz-legend-valueLabel");if(au){if(au.fill){al.color=au.fill}if(au["font-family"]){al.fontfamily=au["font-family"]}if(au["font-size"]){al.fontsize=au["font-size"]}if(au["font-weight"]){al.fontweight=au["font-weight"]}}};var O=function(au){if(K(au.key)){z=au.values}else{if(s(au.key)){at=au.values}}};var B=function(au){if(!au){return}z=[];at=[];var av=au.getAnalysisAxisDataByIdx(0);if(av){z=av.values}av=au.getAnalysisAxisDataByIdx(1);if(av){at=av.values}if(W()){ad()}else{if(!(af())){ab()}}};var an=function(){var az=[],ay={val:undefined,ctx:{}};var ax=aj.domain();for(var au=ax.length,aw=0,av=au-1;aw<au;aw++){if(ax[aw].length>0){ay.val=ax[aw][0];ay.ctx.ranges={startValue:ax[aw][0],endValue:ax[aw][1],isRightOpen:true,isLeftOpen:false}}else{ay.val="N/A";ay.ctx.ranges={};if(az[av+1]!==undefined){az[av+1].ctx.ranges.isRightOpen=false}}if(av===0){ay.ctx.ranges.isRightOpen=false}az[av]={};b.extend(true,az[av--],ay)}U.labels=az};var ad=function(){var aA=[],aD="",av="",ay,ax=0,aB,aw={val:undefined,ctx:{path:{}}},aC;Q=0,D=0;if(z&&z.length>0&&z[0].rows.length>0){var az=z[0];aD=ar(az.col.val);aC="dii_a"+(az.rows[0].ctx.path.aa+1);aw={val:az.rows[0].val,ctx:{path:{}},info:az.rows[0].info};aw.ctx.path[aC]=[az.rows[0].ctx.path.dii];for(ay=1,aB=az.rows.length;ay<aB;ay++){av=az.rows[ay].val;if(av===aw.val||A(aA,av)){aw.ctx.path[aC].push(az.rows[ay].ctx.path.dii)}else{aA[ax]={};aw.val=Z(aw);b.extend(true,aA[ax++],aw);aw.val=av;aw.ctx={path:{}};aw.ctx.path[aC]=[az.rows[ay].ctx.path.dii]}}aA[ax]={};aw.val=Z(aw);b.extend(true,aA[ax],aw);Q=aA.length}if(at&&at.length>0){var au=at[0],aE=[];aD=(aD==="")?ar(au.col.val):aD+" / "+ar(au.col.val);aC="dii_a"+(au.rows[0].ctx.path.aa+1);aw={val:au.rows[0].val,ctx:{path:{}},info:au.rows[0].info},ax=0;aw.ctx.path[aC]=[au.rows[0].ctx.path.dii];for(ay=1,aB=au.rows.length;ay<aB;ay++){av=au.rows[ay].val;if(av===aw.val||A(aE,av)){aw.ctx.path[aC].push(au.rows[ay].ctx.path.dii)}else{aE[ax]={};aw.val=Z(aw);b.extend(true,aE[ax++],aw);aw.val=av;aw.ctx={path:{}};aw.ctx.path[aC]=[au.rows[ay].ctx.path.dii]}}aE[ax]={};aw.val=Z(aw);b.extend(true,aE[ax],aw);D=aE.length;if(aA.length>0){aA=aa([aA,aE]," / ")}else{aA=aE}}if(aA.length===0){t=false}else{t=X.visible}U={title:aD,labels:aA}};var ab=function(){var aw,ax=[];var au=r(aw,z,Q);Q=au.feedsLength;var av=r(aw,at,D);D=av.feedsLength;if(av.labels.length>0){if(au.labels.length>0){if(au.MNDInfo.MNDIndex===undefined&&av.MNDInfo.MNDIndex===undefined){ax=aa([au.labels,av.labels]," / ");aw=au.title+" / "+av.title}else{if((au.MNDInfo.MNDIndex!==undefined&&!au.MNDInfo.hasOnlyMND)||(av.MNDInfo.MNDIndex!==undefined&&!av.MNDInfo.hasOnlyMND)){ax=aa([au.labels,av.labels]," - ");aw=au.title+" - "+av.title}else{if(au.MNDInfo.MNDIndex!==undefined&&au.MNDInfo.hasOnlyMND){ax=av.labels;aw=av.title}else{ax=au.labels;aw=au.title}}}}else{ax=av.labels;aw=av.title}}else{ax=au.labels;aw=au.title}if(ax.length===0){t=false}else{t=X.visible}U={title:aw,labels:ax}};var r=function(aD,aE,aw){var aA=[],aF=[],av=" / ",au=" - ";var aC,ay=false,az,ax,aB;if(aE&&aE.length>0){for(az=0,aB=aE.length;az<aB;az++){if(aE[az].type!=="MND"){if(aD===undefined){aD=ar(aE[az].col.val)}else{aD=aD+av+ar(aE[az].col.val)}aF=aE[az].rows;for(ax=0;ax<aF.length;ax++){if(aA[ax]===undefined){aA[ax]={};aA[ax].val=Z(aF[ax]);aA[ax].ctx={path:u(aF[ax].ctx.path)}}else{aA[ax].val=aA[ax].val+av+Z(aF[ax])}}}else{aC=az}}aw=aA.length}if(aC!==undefined){if(aA.length>0){if(aE[aC].rows.length>1){if(aC===0){aD=c.get("IDS_DEFAULTMND")+au+aD;aA=aa([w(aE[aC].rows),aA],au);aw=aw*aE[aC].rows.length}else{if(aC===aE.length-1){aD=aD+au+c.get("IDS_DEFAULTMND");aA=aa([aA,w(aE[aC].rows)],au);aw=aw*aE[aC].rows.length}}}}else{aD=c.get("IDS_DEFAULTMND");aF=aE[aC].rows;for(ax=0;ax<aF.length;ax++){aA[ax]={};aA[ax].val=Z(aF[ax]);aA[ax].ctx=aF[ax].ctx}aw=aF.length;if(aF.length===1){ay=true}}}return{title:aD,labels:aA,feedsLength:aw,MNDInfo:{MNDIndex:aC,hasOnlyMND:ay}}};var u=function(av){var au={};switch(av.aa){case 0:au.dii_a1=av.dii;break;case 1:au.dii_a2=av.dii;break;case 2:au.dii_a3=av.dii;break}return au};var N=function(aA,aB,ax){var aD=0,aE=0,av=0,aF=0,au={width:0,height:0},aC={};if(X.visible){var az="font-size:"+ak.fontsize+"; font-weight:"+ak.fontweight+"; font-family:"+ak.fontfamily;M=parseInt(al.fontsize,10);var ay=v.left*M,aw=v.top*M;if(X.isShowTitle){au=g.measure(((X.titleText===undefined||X.titleText===null)?U.title:X.titleText),az);if(!I){aw=aw+au.height+F*M}}C={x:ay,y:aw};aC=ac.getPreferredSize({height:aA.height-ay,width:aA.width},aB,ay,ax,x,T,V);if(aC.width>0&&aC.height>0){if(!W()&&X.isHierarchy){aE=ay+((au.width>aC.width)?au.width:aC.width);aD=aw+aC.height}else{if(X.position==="left"||X.position==="right"){aE=ay+((au.width>aC.width&&!af())?au.width:aC.width);aD=aw+aC.height}else{aE=ay+aC.width;aD=au.height+F*M+M}}av=ay+(aC.minWidth?aC.minWidth:0);aF=aw+(aC.minHeight?aC.minHeight:0)}ah=false}ag={maxSizeConstant:1/3,titleSize:au,minWidth:av,height:aD,width:aE};if(aC.minHeight){ag.minHeight=aF}return ag};var A=function(au,aw){for(var av=0;av<au.length;av++){if(au[av].val===aw){return true}}return false};var aa=function(ay,ax){var au=ay[0];var av=function(az){var aB=au;au=[];for(var aD=0;aD<aB.length;aD++){for(var aC=0;aC<az.length;aC++){var aF=(aB[aD].val===undefined)?aB[aD].val:aB[aD].val,aE=(az[aC].val===undefined)?az[aC].val:az[aC].val;var aA={path:{}};b.extend(aA.path,aB[aD].ctx.path,az[aC].ctx.path);au.push({val:aF+ax+aE,ctx:aA})}}};for(var aw=1;aw<ay.length;aw++){av(ay[aw])}return au};var K=function(av){var au=false;if(av.search("color")!==-1){au=true}return au};var s=function(av){var au=false;if(av.search("shape")!==-1){au=true}return au};var q=function(){var au=false;if(X.legendType==="ColorLegend"){au=true}return au};var af=function(){var au=false;if(X.legendType==="SizeLegend"){au=true}return au};var W=function(){var au=false;if(X.legendType==="BubbleColorLegend"){au=true}return au};var ao=function(){var au=false;if(X.legendType==="MeasureBasedColoringLegend"){au=true}return au};var ar=function(av){var au=c.get("IDS_ISNOVALUE");if(av===null||av===undefined){return au}else{return av}};var Z=function(aw){var av;if(aw.info){var au=aw.info.customlabel;if(au){if(au.type==="url"){av=aw.val}else{if(au.type==="string"){av=au.val}}}else{av=aw.val}}else{av=aw.val}av=ar(av);return av};var w=function(av){for(var au=0;au<av.length;++au){av[au].val=ar(av[au].val)}return av};n=E.props(null);ap.properties(null);return ap};return i});sap.riv.module({qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.legend",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.legend",type:b.Module.Type.Supplementary,name:"legend",description:"The legend is a box containing a symbol and name for each series item or point item in the chart.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of legend."},title:{name:"title",description:"Settings for legend title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of legend title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of legend title."}}},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of legend.",isExported:false},isHierarchical:{name:"isHierarchical",supportedValueType:"Boolean",defaultValue:false,description:"Set hierarchy legend. Supported only when legend is located in the right of chart.",isExported:true},position:{name:"position",supportedValueType:"List",supportedValues:["right"],defaultValue:"right",description:"Set legend position. Only support legend is located in the right side.",isExported:false},type:{name:"type",supportedValueType:"List",supportedValues:["ColorLegend","BubbleColorLegend","SizeLegend","MeasureBasedColoringLegend"],defaultValue:"ColorLegend",description:"Set legend type of Bubble chart. Non-bubble chart is not supported.",isExported:false},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["start","middle","end"],defaultValue:"start",description:"Set alignment of legend.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of legend.",isExported:true}},css:{".viz-legend-title":{description:"Define style for the legend title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-legend-valueLabel":{description:"Define style for the legend label.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.title",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(b,c,a,d){var e=function(f,l){var g=500,k=100;var i=null;var n={},m={width:500,height:100},o=undefined;var h=function(p){if(n.visible){d.drawBound(p,g,k);j();var q=this.selectAll("text.chart-title").data([o]);q.exit().remove();q.enter().append("text").attr("class","chart-title");q.attr("style",i).attr("text-anchor",function(){if(n.alignment=="right"){return"end"}else{if(n.alignment=="left"){return"start"}else{return"middle"}}}).attr("x",function(){if(n.alignment=="right"){return g}else{if(n.alignment=="left"){return 0}else{return(g)/2}}}).attr("y",k/2);b.ellipsis(o,q.node(),g,i)}return h};h.width=function(p){if(!arguments.length){return g}g=p;return h};h.height=function(p){if(!arguments.length){return k}k=p;return h};h.size=function(p){if(!arguments.length){return m}m=p;return h};h.properties=function(p){if(!arguments.length){return n}a.extend(true,n,p);if(n.text===undefined||n.text===null){o=c.get("IDS_DEFAULTCHARTTITLE")}else{o=n.text}return h};h.getPreferredSize=function(){if(n.visible){j();var p=b.measure(o,i);return{hideOversize:true,maxSizeConstant:1/3,width:p.width,height:p.height}}return{width:0,height:0}};function j(){i=l.styleManager.cssText("viz-title-label")}n=f.props(null);return h};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.title",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.title",type:b.Module.Type.Supplementary,name:"title",description:"Settings for the chart's main title.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of chart title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set chart title text."},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["left","center","right"],defaultValue:"center",description:"Set chart title alignment."}},css:{".viz-title-label":{description:"Define style for the title label.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"bold",fill:"#333333"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.feeds.Manifest",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(a,c,b){return a.registerCategory("feeds",function(e){var d={};e.feeds.forEach(function(g){d[g.id]=g;var f=g.name;delete g.name;Object.defineProperty(g,"name",{get:function(){var h=b.get(f);if(h){return h}return f},enumerable:true})});Object.defineProperty(e,"feedsMap",{value:d,writable:false,enumerable:false,configurable:false});return e})});sap.riv.module({qname:"sap.viz.manifests.Viz",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(b,h,e,a,i,l,c,g){function m(n,p){for(var o=0;o<n.length;++o){if(n[o].module.type===p){return n[o]}if(n[o].subModules){var q=m(n[o].subModules,p);if(q){return q}}}return null}function d(o,q){if(!q){return}var p,n;for(p in o){if(o.hasOwnProperty(p)&&q.hasOwnProperty(p)){n=o[p];if(n.supportedValueType==="Object"){d(n.supportedValues,q[p])}else{n.defaultValue=q[p]}}}}function k(o,q){var p,n;for(p in o){if(o.hasOwnProperty(p)){if(o[p]===null){delete o[p];continue}n=o[p];if(q){i.extend(true,n,q[p])}if(n.isExported===false){delete o[p]}else{if(n.supportedValueType==="Object"){k(n.supportedValues,q?q[p]:null);if(a.isEmptyObject(n.supportedValues)){delete o[p]}}}}}}function f(s,q){if(q){var p,o,n,t,r;q.forEach(function(u){if(u.config.configure){r=u.moduleRef;p=u.module.properties;o=u.config.configure.properties;t=u.config.configure.propertyCategory;n=u.config.configure.propertiesOverride;s[t]=i.extend(true,null,p);Object.defineProperties(s[t],{moduleRefPath:{get:(function(v){return function(){return v}}(r)),enumerable:false}});k(s[t],n);d(s[t],o)}f(s,u.subModules)})}}function j(o,n,p,q){if(n){n.forEach(function(s){var C=s.module.feeds;var x=p;var t=q;if(C){var v;var z=C.id;if(z!==undefined){var r=C.configure;v=h.get(z).feedsMap;if(r){v=e.extend(true,null,v,r)}}else{v={};C.forEach(function(D){v[D.id]=D})}var u;for(u in v){if(v.hasOwnProperty(u)){var B=v[u];if(B){B=e.extend(true,null,B);o[u]=B;if(B.type===l.Feed.Type.Dimension){var A=B.aaIndex;A+=p;if(x<A){x=A}B.aaIndex=A;var w=B.acceptMND;if(w>=0){if(q>0){w+=q}if(t<w){t=w}B.acceptMND=w}}}}}if(t>=0){t+=1}}j(o,s.subModules,x,t)})}}return b.registerCategory("viz",function(q){var p=[];var o=q.modules;for(var u in o){if(o.hasOwnProperty(u)){var v=o[u];if(v!==null){b.module.loadModule(p,v,u)}}}var n=q.feeds;var w,r,s=q.name;var t;delete q.name;Object.defineProperties(q,{allFeeds:{value:function(){if(!w){w={};j(w,p,0,-1);e.extend(true,w,n);w=d3.values(w).filter(function(z){return z})}var x=!arguments.length||arguments[0]===false?false:true;if(x===false){if(!r){r=d3.values(w).filter(function(z){if(z.min===0&&z.max===0){return false}else{return true}})}return r}else{return w}}},allProperties:{value:function(){if(!t){t={};f(t,p)}return t}},getChartPropCate:{value:function(){return m(p,"CHART").config.configure.propertyCategory}},name:{get:function(){var x=g.get(s);if(x){return x}return s},enumerable:true}});return q})});sap.riv.module({qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"}],function Setup(b){var a={id:"riv/base",name:"IDS_BASECHART","abstract":true,modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legend"}}},dependencies:{}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"riv/base/multiple",name:"IDS_BASEMULTIPLECHART",base:"riv/base","abstract":true,modules:{main:{id:"sap.viz.modules.tablecontainer",configure:{propertyCategory:"multiLayout"},modules:{xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the column axis of multiple charts.",propertyCategory:"columnAxis",properties:{title:{visible:false},gridline:{visible:true},color:"#d8d8d8",type:"category",position:"top"},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the row axis of multiple charts.",propertyCategory:"rowAxis",properties:{type:"category",position:"left",title:{visible:false},color:"#d8d8d8",gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},plot:{id:"sap.viz.modules.xycontainer"}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"}],function Setup(b){var a={id:"riv/base/multiple/xy",name:"IDS_BASEMULTIPLEXYCHART",base:"riv/base/multiple","abstract":true,modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip"}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.XY",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(d,c){var b={id:"regionColor",name:"IDS_REGIONCOLOR",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:1};var g={id:"primaryValues",name:"IDS_PRIMARYVALUES",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"secondaryValues",name:"IDS_SECONDARYVALUES",type:c.Type.Measure,min:0,max:c.Constraints.INF,mgIndex:2};var e={id:"axisLabels",name:"IDS_AXISLABELS",type:c.Type.Dimension,min:1,max:2,acceptMND:0,aaIndex:1};var a={id:"xy",feeds:[b,e,g,f]};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.feeds.XY",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.xy.base","abstract":true,type:b.Module.Type.Chart,name:"xy base module",datastructure:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette for non_dual chart. Or dual chart's color palette if MND is on Category axis."},primaryValuesColorPalette:{name:"primaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis1,description:"Set axis 1 color palette for dual chart.",isExported:false},secondaryValuesColorPalette:{name:"secondaryValuesColorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColorDualAxis2,description:"Set axis 2 color palette for dual chart.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of XY.",isExported:true},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"xy"},css:null,configure:null};c.register(a)});sap.riv.module({qname:"sap.viz.modules.area",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(f,h,a,o,c,l,i,e,k,n,j,d,g,b,m){return function(C,O){var p,r;var J=null,S;var Q=d.newId();var s=null;var ab;var Y="#FFFFFF";var R="#cccccc";var V="#333333";var E=d3.scale.ordinal();var af;var aa;var ak;var N,ah,z;var F=new f("showTooltip","hideTooltip","initialized","startToInit");var M=O.effectManager;var L={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null};var D=[];var Z=false;var t=true;var aj=0;var am;var K=0.4;var X=false;function W(an){m.drawBound(an,p,r);ab=n();A(an);return W}function ad(ar,an){var aq=new Array(ar.data[0].length);var ap;for(ap=0;ap<aq.length;++ap){aq[ap]=0}for(ap=0;ap<ar.data.length;++ap){for(var ao=0;ao<ar.data[ap].length;++ao){if(!i.isNoValue(ar.data[ap][ao].val)){aq[ao]+=ar.data[ap][ao].val;if(an.min===null){an.min=aq[ao];an.max=aq[ao]}else{an.min=an.min>aq[ao]?aq[ao]:an.min;an.max=an.max>aq[ao]?an.max:aq[ao]}}}}}function ae(ap){var ao={min:null,max:null};if(!ap.data||ap.data.length===0){return ao}if(S.mode==="percentage"){ao.min=0;ao.max=1;return ao}ad(ap,ao);if(i.isNoValue(ao.max)){return null}if(ao.min>=0){ao.min=0;ao.max+=ao.max*5/(S.orientation==="vertical"?r:p)}else{if(ao.max<=0){ao.max=0;ao.min+=ao.min*5/(S.orientation==="vertical"?r:p)}else{var an=(ao.max-ao.min)*5/(S.orientation==="vertical"?r:p);ao.min-=an;ao.max+=an}}if(ao.min===0&&ao.max===0){ao.max=1}return ao}function q(){D=[];var ao=0,an=0;L.colorPalette=S.colorPalette;for(ao=0;ao<L.data.length;++ao){D.push(L.colorPalette[ao%L.colorPalette.length])}}function H(ap){var ao=(S.orientation==="vertical"?[r,0]:[0,p]);if(ap.data&&ap.data.length>0){if(ap.topValue===null||ap.topValue===undefined){var an=ae(ap);if(!an){ap.scale.domain([0,0]).range(ao)}else{ap.scale.domain([an.min,an.max]).range(ao)}}else{ap.scale.domain([ap.bottomValue,ap.topValue]).range(ao)}if(!ap.manualRange){ap.scale.nice();o.perfect(ap.scale)}}else{ap.scale.domain([0,0]).range([0,0])}return ap.scale}function v(){if(!(a.isExist(p)&&a.isExist(r)&&a.isExist(J))){return}var ap=[];var an=L.data[0].length;for(var ao=0;ao<an;ao++){ap.push(ao)}E.domain(ap).rangeBands(S.orientation==="vertical"?[0,p]:[r,0]);H(L)}function al(ao,ap,aq){if(ao===undefined||ao===null){return}var an=0;for(an=0;an<L.data.length;++an){if(!L.selectedMarkers[an][ao]){U(an,ao,aq,L);if(aj>0){d3.select(L.markers[an][ao]).attr("opacity",K).attr("visibility",ap)}else{d3.select(L.markers[an][ao]).attr("opacity",1).attr("visibility",ap)}}}}function U(ao,an,aq,ap){d3.select(ap.markers[ao][an]).attr("stroke",aq)}function ai(ap){var ao=ap/E.rangeBand();ao=Math.floor(ao);var an=0;an=L.data[0].length;if(ao>an-1){ao=an-1}if(ao<0){ao=0}return(S.orientation==="vertical"?ao:an-1-ao)}function P(av,ao){var an=false,au,ap;for(var at=0;at<av.markers.length&&!an;at++){var ar=av.markers[at];for(var aq=0;aq<ar.length&&!an;aq++){if(ar[aq]===ao){an=true;au=at;ap=aq}}}if(!an){return false}if(av.selectedMarkers[au][ap]){return true}U(au,ap,V,av);d3.select(av.markers[au][ap]).attr("opacity",1).attr("visibility","visible");z.selectAll(".areabg").attr("opacity",K).attr("stroke-opacity",K);d3.select(av.areas[au][ap]).attr("opacity",1).attr("visibility","visible");av.selectedMarkers[au][ap]=true;++aj}function w(av,ao){var ap=aa;var an=false,au;for(var at=0;at<av.markers.length&&!an;at++){var ar=av.markers[at];for(var aq=0;aq<ar.length&&!an;aq++){if(ar[aq]===ao){an=true;au=at;ap=aq}}}if(!an){return false}if(!av.selectedMarkers[au][ap]){return true}if(ap===aa){U(au,ap,Y,av)}else{U(au,ap,S.style.marker.stroke,av)}d3.select(av.markers[au][ap]).attr("opacity",K);d3.select(av.areas[au][ap]).attr("visibility","hidden");if(ap!==aa){d3.select(av.markers[au][ap]).attr("visibility","hidden")}av.selectedMarkers[au][ap]=false;--aj}function I(av){var an={data:[],bgAreaData:[],accuVal:[]};var at,aq;var au=[];var ao=[];var ap=new Array(av[0].length);if(S.mode==="percentage"&&X){T(av);X=false}for(at=0;at<ap.length;++at){ap[at]=0}an.bgAreaData=new Array(av.length);for(at=0;at<av.length;++at){an.bgAreaData[at]=[];an.accuVal[at]=new Array(av[at].length);for(aq=0;aq<av[at].length;++aq){an.accuVal[at][aq]=(at>0?an.accuVal[at-1][aq]:0);if(!i.isNoValue(av[at][aq].val)){ap[aq]++;an.accuVal[at][aq]+=(S.mode==="percentage"?Math.abs(av[at][aq].val):av[at][aq].val)}}}for(at=0;at<av.length;++at){for(aq=0;aq<av[at].length;++aq){if(!i.isNoValue(av[at][aq].val)){ao.push({x:aq,y:(at>0?an.accuVal[at-1][aq]:0)});au.push({x:aq,y:an.accuVal[at][aq]})}else{if(ap[aq]>0){if(aq>0&&!i.isNoValue(av[at][aq-1].val)){au.push({x:aq,y:an.accuVal[at][aq]});au=au.concat(ao.reverse());an.bgAreaData[at].push(au);au=[];ao=[]}if(aq<av[at].length-1&&!i.isNoValue(av[at][aq+1].val)){au.push({x:aq,y:an.accuVal[at][aq]})}}else{if(au.length>0){au=au.concat(ao.reverse());an.bgAreaData[at].push(au);au=[];ao=[]}}}}if(au.length>0){au=au.concat(ao.reverse());an.bgAreaData[at].push(au);au=[];ao=[]}}var ar={};for(at=0;at<av.length;++at){an.data[at]=[];for(aq=0;aq<av[at].length;++aq){if(aq>0){if(ap[aq-1]>0){au.push({x:aq-0.5,y:(an.accuVal[at][aq-1]+an.accuVal[at][aq])/2});ao.push({x:aq-0.5,y:(at>0?((an.accuVal[at-1][aq-1]+an.accuVal[at-1][aq])/2):0)})}}au.push({x:aq,y:an.accuVal[at][aq]});ao.push({x:aq,y:(at>0?an.accuVal[at-1][aq]:0)});if(aq<av[0].length-1){if(ap[aq+1]>0){au.push({x:aq+0.5,y:(an.accuVal[at][aq]+an.accuVal[at][aq+1])/2});ao.push({x:aq+0.5,y:(at>0?((an.accuVal[at-1][aq]+an.accuVal[at-1][aq+1])/2):0)})}}au=au.concat(ao.reverse());an.data[at].push(au);au=[];ao=[]}}return an}function B(au){if(!au.data||au.data.length===0){return}var ao=I(au.data);var ar=z.selectAll(".areagroup").data(ao.bgAreaData);ar.enter().append("svg:g").attr("class","areagroup");ar.exit().remove();var ap=(S.orientation==="vertical"?d3.svg.line().x(function(ax,aw){return E(ax.x)+E.rangeBand()/2}).y(function(aw){return au.scale(aw.y)}):d3.svg.line().y(function(ax,aw){return E(ax.x)+E.rangeBand()/2}).x(function(aw){return au.scale(aw.y)}));ar.attr("transform",function(ay,aw){var ax=d3.select(this).selectAll(".areabg").data(ay);ax.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","areabg").attr("opacity",1).attr("stroke-opacity",1);ax.exit().remove();ax.attr("transform",function(aA,az){d3.select(this).attr("d",ap(aA)).attr("stroke",function(){var aB={graphType:"line",fillColor:au.colorPalette[aw%au.colorPalette.length]};return M.register(aB)}).attr("stroke-width",1).attr("fill",function(){var aB={drawingEffect:S.drawingEffect,graphType:"rectangle",direction:S.orientation,fillColor:au.colorPalette[aw%au.colorPalette.length]};return M.register(aB)})})});ap=(S.orientation==="vertical"?d3.svg.line().x(function(ax,aw){return(ax.x+0.5)*E.rangeBand()}).y(function(aw){return au.scale(aw.y)}):d3.svg.line().y(function(ax,aw){return r-(ax.x+0.5)*E.rangeBand()}).x(function(aw){return au.scale(aw.y)}));au.areas=[];ar=ah.selectAll(".area").data(ao.data);ar.enter().append("svg:g").attr("class","area");ar.exit().remove();ar.attr("transform",function(ay,aw){markerArr=[];var ax=d3.select(this).selectAll(".areashape").data(ay);ax.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","areashape");ax.exit().remove();ax.attr("transform",function(az,aA){markerArr.push(d3.select(this).node());d3.select(this).attr("d",ap(ao.data[aw][aA])).attr("stroke",function(){var aB={graphType:"line",fillColor:au.colorPalette[aw%au.colorPalette.length]};return M.register(aB)}).attr("stroke-width",1).attr("visibility","hidden").attr("fill",function(){var aB={drawingEffect:S.drawingEffect,graphType:"rectangle",direction:S.orientation,fillColor:au.colorPalette[aw%au.colorPalette.length]};return M.register(aB)})});au.areas.push(markerArr)});au.selectedMarkers=new Array(au.data.length);au.markers=[];for(var aq=0;aq<au.data.length;++aq){au.selectedMarkers[aq]=[];for(var at=0;at<au.data[0].length;++at){au.selectedMarkers[aq][at]=false}}var an=N.selectAll("g.marker").data(au.data);an.enter().append("svg:g").attr("class","marker");an.exit().remove();var av="hidden";an.attr("transform",function(az,aw){var ay=d3.select(this).selectAll(".datashape").data(az);var ax=ay.enter().append("g").attr("class","datashape");k.createElements(ax,{shape:S.marker.shape,className:"datapoint"});ay.exit().remove();markerArr=[];ay.attr("transform",function(aA,aB){if(i.isNoValue(aA.val)){d3.select(this).remove();markerArr.push(null);return}markerArr.push(d3.select(this).selectAll("path").node());var aC={drawingEffect:S.drawingEffect,graphType:S.marker.shape,fillColor:au.colorPalette[aw%au.colorPalette.length],direction:"vertical",rx:S.marker.size/2,ry:S.marker.size/2,borderWidth:2,borderColor:S.style.marker.stroke,strokeOpacity:0.3,node:d3.select(this).select("path"),visibility:av};k.drawGraph(aC,M);return S.orientation==="vertical"?"translate("+(E(aB)+E.rangeBand()/2)+","+au.scale(ao.accuVal[aw][aB])+")":"translate("+au.scale(ao.accuVal[aw][aB])+","+(E(aB)+E.rangeBand()/2)+")"});au.markers.push(markerArr)})}function ag(aq,an){if(aj===0||!aq.selectedMarkers||aq.selectedMarkers.length===0){return}for(var ao=0;ao<aq.selectedMarkers.length;++ao){for(var ap=0;ap<aq.selectedMarkers[0].length;++ap){if(!aq.selectedMarkers[ao][ap]){continue}d3.select(aq.areas[ao][ap]).attr("visibility","hidden");if(ap===an){U(ao,ap,Y,aq);d3.select(aq.markers[ao][ap]).attr("opacity",K).attr("visibility","visible")}else{U(ao,ap,S.style.marker.stroke,aq);d3.select(aq.markers[ao][ap]).attr("visibility","hidden")}aq.selectedMarkers[ao][ap]=false}}}function ac(){var ao=S.orientation==="vertical"?(d3.event?d3.event.clientX:0)-ak.node().getBoundingClientRect().left:(d3.event?d3.event.clientY:0)-ak.node().getBoundingClientRect().top;var an=ai(ao);ag(L,an);aj=0}function A(ao){x();F.startToInit();if(!ak){ak=ao.append("svg:g")}if(!N){z=ak.append("svg:g").attr("class","areasbg");ah=ak.append("svg:g").attr("class","areas");if(!af){af=ak.append("svg:line")}N=ak.append("svg:g").attr("class","markers datashapesgroup")}if(S.orientation==="vertical"){af.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",r).attr("stroke-width",1).attr("stroke",R).attr("visibility","hidden").attr("stroke-linejoin","round")}else{af.attr("x1",0).attr("y1",0).attr("x2",p).attr("y2",0).attr("stroke-width",1).attr("stroke",R).attr("visibility","hidden").attr("stroke-linejoin","round")}aj=0;u();if(!am){am=ak.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+Q).append("rect")}if(S.orientation==="vertical"){am.attr("x",0).attr("y",0).attr("height",r).attr("width",(t?0:p))}else{am.attr("x",0).attr("y",(t?r:0)).attr("height",(t?0:r)).attr("width",p)}z.attr("clip-path","url(#clip1_"+Q+")").attr("fill","none");N.attr("clip-path","url(#clip1_"+Q+")").attr("fill","none");if(t){Z=true;var aq=0;var an=(S.orientation==="vertical"?p/50:r/50);var ap=setInterval(function(ar){if(aq>=(S.orientation==="vertical"?p:r)){clearInterval(ap);F.initialized();N.attr("clip-path",null)}else{aq+=an;if(S.orientation==="vertical"){am.attr("width",aq)}else{am.attr("height",aq);am.attr("y",r-aq)}}},20)}else{F.initialized();N.attr("clip-path",null);z.attr("clip-path",null)}B(L)}function T(ar){if(ar===null||ar===undefined||ar[0].length===0){return}var aq=0,ap=0;var an=new Array(ar[0].length);var ao=new Array(ar[0].length);for(aq=0;aq<an.length;++aq){an[aq]=0;ao[aq]=0}for(aq=0;aq<ar.length;++aq){for(ap=0;ap<ar[aq].length;++ap){if(!i.isNoValue(ar[aq][ap].val)){an[ap]+=Math.abs(ar[aq][ap].val);if(ar[aq][ap].val===0){++ao[ap]}}}}for(aq=0;aq<ar.length;++aq){for(ap=0;ap<ar[aq].length;++ap){ar[aq][ap].value=ar[aq][ap].val;if(!i.isNoValue(ar[aq][ap].val)){if(an[ap]>0){ar[aq][ap].val=ar[aq][ap].val/an[ap]}else{if(ao[ap]>0){ar[aq][ap].val=1/ao[ap]}}}}}}function u(){z.selectAll(".areabg").attr("opacity",1).attr("stroke-opacity",1);ah.selectAll(".areashape").attr("visibility","hidden");N.selectAll(".datapoint").attr("opacity",1)}function G(){z.selectAll(".areabg").attr("opacity",K).attr("stroke-opacity",K);ah.selectAll(".areashape").attr("visibility","hidden");N.selectAll(".datapoint").attr("opacity",K)}function x(){if(!S.style){S.style={}}var an;an=O.styleManager.query("viz-plot-background");if(an){if(an.fill){Y=an.fill}}if(!S.style.marker){S.style.marker={}}S.style.marker.stroke="transparent";an=O.styleManager.query("viz-plot-hoverline");if(an){if(an.stroke){R=an.stroke}}}W.width=function(an){if(!arguments.length){return p}p=an;v();return W};W.height=function(an){if(!arguments.length){return r}r=an;v();return W};W.afterUIComponentAppear=function(){F.initialized()};W.properties=function(an){if(!arguments.length){return S}g.extend(true,S,an);v();S.marker.size=4;S.marker.shape="circle";t=S.animation.dataLoading;x();q();return W};W.primaryAxisColor=function(){return null};W.dispatch=function(an){if(!arguments.length){return F}F=an;return W};W.data=function(an){if(!arguments.length){return J}allDataIsNaN=true;X=true;J=an;var ao=h(J);L.data=ao.MG1;s=n.dataTransform(ao);v();q();return W};W.dataLabel=function(an){};W.primaryAxisTitle=function(ao){if(!arguments.length){var ar=J.getMeasureValuesGroupDataByIdx(0),aq=[];if(ar){for(var ap=0,an=ar.values.length;ap<an;ap++){if(ar.values[ap].col!==null&&ar.values[ap].col!==undefined){aq.push(ar.values[ap].col)}else{aq.push(e.get("IDS_ISNOVALUE"))}}}return aq.join("/")}return this};W.getColorPalette=function(){if(D.length===0){q()}return D};W.shapePalette=function(){if(!arguments.length){return[S.marker.shape]}return W};W.primaryScale=function(an){if(!arguments.length){return L.scale}L.scale=an;return W};W.categoryScale=function(an){if(!arguments.length){return E}E=an;return W};W.primaryDataRange=function(an){if(!arguments.length){return{min:L.scale.domain()[0],max:L.scale.domain()[1]}}if(an!==null){L.topValue=an.max;L.bottomValue=an.min;if(an.from==="axis"){L.manualRange=true}if(a.isExist(p)&&a.isExist(r)){H(L)}}return W};W.parent=function(){return ak};W.size=function(an,ao){if(arguments.length===0){return{width:W.width(),height:W.height()}}W.width(an).height(ao);return W};W.clear=function(an){ac();if(an===null||an===undefined){u()}else{G()}};W.highlight=function(aq){var ao;if(aq instanceof Array){ao=aq}else{ao=[];ao.push(aq)}for(var ap=0;ap<ao.length;ap++){var an=ao[ap];P(L,an)}};W.unhighlight=function(aq){var ao;if(aq instanceof Array){ao=aq}else{ao=[];ao.push(aq)}for(var ap=0;ap<ao.length;ap++){var an=ao[ap];w(L,an)}};W.hoverOnPoint=function(an){var ar=an.x,aq=an.y;if(S.orientation==="vertical"){if(ar<0||ar>p){return}}else{if(aq<0||aq>r){return}}var ao=ai(S.orientation==="vertical"?ar:aq);if(aa===ao){return}var av=E(ao)+E.rangeBand()/2;al(aa,"hidden",S.style.marker.stroke);al(ao,"visible",Y);aa=ao;if(S.hoverline.visible){af.attr(S.orientation==="vertical"?"x1":"y1",av).attr(S.orientation==="vertical"?"x2":"y2",av);af.attr("visibility","visible")}else{af.attr("visibility","hidden")}if(S.tooltip.enabled){var au={};var ap=ak.node().getTransformToElement(ak.node().ownerSVGElement);if(S.orientation==="vertical"){au.x=E(ao)+E.rangeBand()/2+ap.e;au.y=r/4+ap.f}else{au.x=p*3/4+ap.e;au.y=av+ap.f}var at=ab.generateTooltipData(J,s,ao,D,[S.marker.shape]);at.point=au;at.plotArea={x:ap.e,y:ap.f,width:p,height:r};F.showTooltip(n.formatTooltipData(at))}};W.blurOut=function(){af.attr("visibility","hidden");al(aa,"hidden",S.style.marker.stroke);aa=null;if(S.tooltip.enabled){F.hideTooltip()}};W.dataLabel=function(an){};S=C.props(null);return W}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.area",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.area",name:"area",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of area chart.",isExported:false},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"vertical or horizontal area chart.",isExported:false},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."}},description:"Settings for tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not."}}},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",isExported:false,supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not.",isExported:false},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"4",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 4."}}}},css:{".viz-plot-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_area",name:"IDS_MULTIAREACHART",base:"riv/base/multiple/xy",modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["primary"]}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"vertical",automaticInOutside:false,outsidePosition:"down"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_horizontal_area",name:"IDS_MULTIHORIZONTALAREACHART",base:"viz/multi_area",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{gridline:{visible:true},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the catetory axis of an XY chart.",propertyCategory:"yAxis",properties:{gridline:{visible:false},type:"category",position:"left"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",orientation:"horizontal",automaticInOutside:false,outsidePosition:"left"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{orientation:"horizontal"}}}}}}}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_100_horizontal_area",name:"IDS_MULTIPERCENTAGEHORIZONTALAREACHART",base:"viz/multi_horizontal_area",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_100_area",name:"IDS_MULTIPERCENTAGEAREACHART",base:"viz/multi_area",modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(b){var a={id:"sap.viz.modules.xy.bar.base",name:"bar",base:"sap.viz.modules.xy.base","abstract":true,properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data updating animation of plot area."},resizing:{name:"resizing",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable resize animation of plot area."}},description:"Settings for animation of plot area."}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.util.lassoSelection",version:"4.0.0"},[],function Setup(){return function(){var k={},j={},e=null;var h,q,n,p,b=false,i=null,d=null,c={},m,g,l=null;var o=function(s,r){h=$('<div id="lasso-selection-help" style="position:absolute;pointer-events:none;background:#cccccc;"></div>');m=r&&r.filter?r.filter:".datapoint";d=d3.select(s).select(".main").length>0?d3.select(s).select(".main")[0][0]:s;i=d3.select(d);var t=d.getBBox();l=i.insert("rect","g").attr("width",t.width).attr("height",t.height).attr("x",0).attr("y",0).attr("fill-opacity",0);q=r.lassoStart?r.lassoStart:function(){},n=r.lassoMove?r.lassoMove:function(){},lassoEnd=r.lassoEnd?r.lassoEnd:function(){};i.on("mousedown",o.start);i.on("mousemove",o.move);i.on("mouseup",o.end);return o};function f(s,r){return(s.x<=(r.x+r.width)&&r.x<=(s.x+s.width)&&s.y<=(r.y+r.height)&&r.y<=(s.y+s.height))}var a=function(r,t){c.x=r.x;c.y=r.y;c.height=t.height;c.width=t.width;var s=[];if(g==null){g=i.selectAll(m)}g.filter(function(w,u){var x=this.getBoundingClientRect();var v={x:x.left,y:x.top,width:x.width,height:x.height};if(f(v,c)){s.push(this)}});return s};o.start=function(){e=d.ownerSVGElement.getBoundingClientRect();j.x=d3.event.clientX,j.y=d3.event.clientY;k.x=j.x-e.left,k.y=j.y-e.top;h.css({left:k.x,top:k.y,width:0,height:0});h.insertBefore(d.ownerSVGElement.parentNode);var r=a({x:j.x,y:j.y},{width:0,height:0});q(r);b=true};o.move=function(){if(b){e=d.ownerSVGElement.getBoundingClientRect();var s=k.x,v=k.y,r=d3.event.clientX-e.left,u=d3.event.clientY-e.top;if(s>r){var t=r;r=s;s=t}if(v>u){var t=u;u=v;v=t}h.css({left:s,top:v,width:r-s,height:u-v})}};o.end=function(){h.css({width:0,height:0});h.remove();e=d.ownerSVGElement.getBoundingClientRect();var s=k.x,B=k.y,r=d3.event.clientX-e.left,A=d3.event.clientY-e.top;var z=j.x,u=j.y,x=d3.event.clientX,t=d3.event.clientY;if(s>r){var v=r;r=s;s=v;v=x;x=z;z=v}if(B>A){var v=A;A=B;B=v;v=t;t=u;u=v}if(s===r&&B===A){b=false}else{var w=a({x:z,y:u},{width:r-s,height:A-B});lassoEnd(w);b=false}};return o}});sap.riv.module({qname:"sap.viz.modules.bar",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.modules.datalabel",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,g,i,c,b,j,k,n,e,m,h,d,l){var f=function(G,P){var ar;var al,ak,au,W=[],E=0,s=0,Q=false,ad=false,S=0,M=0,R=null;var o,t,F=false,r=false,ab=Math.floor(Math.random()*10000),I=[],H,ax,v=false,ag=0,af=0,aw=["squareWithRadius"],p,K=new g("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var O=P.effectManager;var ay=[],aj=d3.scale.ordinal(),J=d3.scale.linear(),an=d3.scale.linear();var D=null,ao=[],ai=null,L=true,X=false;var az=0,w,ae,V=[],C;var z=true,ac=true,aq=false,Y=true,N=1000,av=false;var ah=null,aa=null,am=e.newId();var U="normal";var ap=false,q=false,A=false;var x;var Z=function(){aq=p.isRoundCorner;z=p.animation.dataLoading;ac=p.animation.dataUpdating;L=p.tooltip.enabled;if(F&&!r){H=p.primaryValuesColorPalette;ax=p.secondaryValuesColorPalette}else{ax=p.colorPalette;H=p.colorPalette}U=p.drawingEffect;var aE=0;if(!r){az=al.length;aE=W[0].length}else{aE=W.length*W[0].length}I=[];var aD=0;if(v){var aB=0,aA=0,aC=0;for(aD=0;aD<az;aD++){I.push(H[aD%H.length]);aB++;if(aB===ag){aA=0;for(;aC<=(aE-az);aC++){if(aA>=af){aB=0;break}I.push(ax[aC%ax.length]);aA++}}}}else{for(aD=0;aD<aE;aD++){if(aD<az){I.push(H[aD%H.length])}else{if(F&&!r){I.push(ax[(aD-az)%ax.length])}}}}};function at(aB){l.drawBound(aB,o,t);var aC=function(aF){var aE=0;if(aF>=1){aE=1;for(;;){if((aF/10)<1){break}else{aF/=10;aE*=10}}}else{if(aF<1){aE=0.1;for(;;){if((aF*10)>=1){break}else{aF*=10;aE/=10}}}}return aE};var aD=function(aE,aK,aQ){var aM=1;var aN=[];for(var aJ=0;aJ<aE.length;aJ++){for(var aH=0;aH<aE[aJ].length;aH++){var aO={};aO.rectWidth=aK(aE[aJ][aH].val);aO.rectHeight=aQ;aO.imageWidth=aQ;aO.val=aE[aJ][aH].val;aN.push(aO)}}aN.sort(function(aS,aR){return aR.rectWidth-aS.rectWidth});if(aN.length!=0){var aL=aN[0].rectWidth/aN[0].imageWidth;var aI=aN[0].val;var aP=aC(aL/aI);var aG=Math.abs(aP*aI-aL);var aF=Math.abs(aP*10*aI-aL);if(aG<aF&&(aP*aI*aN[0].imageWidth)>=aN[0].rectWidth*0.2){aM=aP}else{aM=aP*10}}return aM};var aA=function(aG,aI,aE,aO){var aL=function(aT,aS){return"defID-"+aE+aS};var aF=function(aT,aS){return"pathID-"+aE+aS};var aK=function(aT,aS){return"url(#"+aF(aT,aS)+")"};var aH=function(aT,aS){return"url(#"+aL(aT,aS)+")"};var aR=function(aT){var aS=ay[aT.valueAxis];return aS(aT.val)};var aP=function(a2){var aS=a2.val;if(a2.val<0){aS=-aS}var aV={number:0,interval:aO};aV.number=aS*aM;var a1=Math.floor(aV.number);var aU=aV.number-a1;var aT=aR(a2);var aX=aO;var a0=aX*aU;var aZ;if(a1==0){aZ=0}else{if(aT>a0){aZ=(aT-a0)/a1}else{aZ=0}}var aY;if(a1<=1){aY=aT/2}else{if(aT>aX){aY=(aT-aX)/(a1-1)}else{aY=aT/(a1+1)}}var aW;if(a1===0){aW=0}else{if(aT>aX){aW=(aT-a0)/a1}else{aW=aT/(a1+1)}}if(aZ>=aX){aV.interval=aZ}else{if(aY<aX&&(a0<=aY)){aV.interval=aY}else{aV.interval=aW}}return aV};var aJ=[];var aQ=function(a2,aV){var aS=d3.select(this);var aW=aR(a2);var a0=aO;var aT=aP(a2);var a1=Math.floor(aT.number);var aX=aT.number-a1;aS.selectAll("image").remove();var aU=0;for(;aU<a1;aU++){aS.append("image").attr("xlink:xlink:href",p.fillMode.imagePalette[aV]).attr("width",a0).attr("height",a0).attr("x",aU*aT.interval)}if(aX){var aY=aU*aT.interval;var aZ=aY+",0 ";aZ+=((aY+a0*aX)+",0 ");aZ+=((aY+a0*aX)+","+a0+" ");aZ+=(aY+","+a0+" ");aS.append("clipPath").attr("id",aF).append("polygon").attr("points",aZ);aS.append("image").attr("xlink:xlink:href",p.fillMode.imagePalette[aV]).attr("width",a0).attr("height",a0).attr("x",aY).attr("clip-path",aK)}};aG.selectAll("defs").remove();var aN=aG.append("defs").append("pattern").attr("id",aL).attr("patternUnits","userSpaceOnUse").attr("width",aR).attr("height",aO);var aM=1;aN.each(function(aT){var aS=ay[aT.valueAxis];aM=aD(W,aS,aO)});aN.each(aQ);aI.attr("fill",aH)};ar=b();if(ay.length===0){return}K.startToInit();aB.each(function(){w=W[0].length;ae=W.length;C=8*(aj.rangeBand())/(9*w+7);var aE=(R=d3.select(this));if(D===null){D=d3.select(this).append("rect").attr("visibility","hidden").attr("width",o).attr("height",aj.rangeBand()-C/2).attr("fill","rgba(133,133,133, 0.2)")}else{D.attr("width",o).attr("height",aj.rangeBand()-C/2).attr("visibility","hidden")}if(ah===null){ah=aE.append("defs").append("clipPath").append("rect").attr("width",o).attr("height",t)}else{ah.attr("width",o).attr("height",t)}if(aa===null){aa=aE.append("defs")}else{if(q||ap||A||!aq){aa.remove();aa=aE.append("defs")}}var aH=Math.log(C)/Math.log(2);if(aH<0){aq=false}var aF;var aG=aE.selectAll("g.datashapesgroup");if(!a.isExist(aG[0][0])){aG=aE.append("g").attr("class","datashapesgroup")}var aI=aG.selectAll("g.bar").data(W),aJ=W.length-1;aI.enter().append("g");aI.attr("class","bar").each(function(aK,aO){var aN,aR=[];var aM=d3.select(this).selectAll("g.datashape").data(aK);aM.enter().append("g").attr("class","datashape").append("rect").attr("class","datapoint");aM.exit().remove();aM.attr("transform",function(aU,aT){var aS;aF=ay[aU.valueAxis];if(aU.val<0){aS=aF(aU.val)}else{aS=aF(0)}var aV=aj(aO)+C*(w-aT-1);aV=aV+C/8*(w-aT-1)+C/2;aR.push(aV);return"translate("+aS+","+aV+")"});var aQ=aM.select("rect.datapoint"),aP=W[0].length-1;aQ.attr("fill",function(aS,aT){aS.fillColor=I[aT%I.length];var aU={drawingEffect:U,fillColor:aS.fillColor,direction:"vertical"};return O.register(aU)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(z&&!av){if(q){aQ.attr("y",function(aT,aS){var aU=aj(aO)-aR[aS]+C*(w-aS-1);aU=aU+C/8*(w-aS-1)+C/2;return aU}).attr("x",function(aS){aF=ay[aS.valueAxis];if(aS.val>0){return 0}else{return aF(0)-aF(aS.val)}}).attr("height",C).attr("width",0).attr("class",function(aT,aS){return"datapoint series-"+aS});if(aq){aQ.attr("clip-path",function(aV,aT){var aU=this.getAttribute("width"),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+am;aa.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("width",aU+aH).attr("height",C).attr("y",aY).attr("x",aS).transition().delay(function(a0,aZ){return(aZ+w*aO)*aL}).attr("x",function(){aF=ay[aV.valueAxis];if(aV.val<0){return 0}else{return 0-aH}}).attr("width",function(){aF=ay[aV.valueAxis];if(aV.val!==" "&&aV.val!==0){var aZ=Math.abs(aF(aV.val)-aF(0));return aZ+aH}else{return 0}});return"url(#"+aX+")"})}var aL=N/(w*ae);aN=aQ.transition();aN.delay(function(aT,aS){return(aS+w*aO)*aL}).attr("x",0).attr("y",0).attr("width",function(aS){aF=ay[aS.valueAxis];if(aS.val!==" "&&aS.val!==0){var aT=Math.abs(aF(aS.val)-aF(0));return aT}else{return 0}}).each("end",function(aT,aS){if(aS===aP&&aO===aJ){B()}})}else{if(ap){if(aq){aQ.attr("clip-path",function(aV,aT){var aU=parseFloat(this.getAttribute("width")),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+am;aa.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("width",aU+aH).attr("height",aW).attr("y",aY).attr("x",aS).transition().duration(N).attr("x",function(){if(aV.val<0){return 0}else{return 0-aH}}).attr("width",function(){aF=ay[aV.valueAxis];if(aV.val!==" "&&aV.val!==0){var aZ=Math.abs(aF(aV.val)-aF(0));return aZ+aH}else{return 0}}).attr("height",C).attr("y",0);return"url(#"+aX+")"})}aN=aQ.transition();aN.duration(N).attr("x",0).attr("y",0).attr("width",function(aT,aS){aF=ay[aT.valueAxis];if(aT.val!==" "&&aT.val!==0){var aU=Math.abs(aF(aT.val)-aF(0));return aU}else{return 0}}).attr("height",C).each("end",function(aT,aS){if(aS===aP&&aO===aJ){B()}})}else{if(A){if(aq){aQ.attr("clip-path",function(aV,aT){var aU=parseFloat(this.getAttribute("width")),aW=this.getAttribute("height"),aS=this.getAttribute("x"),aY=this.getAttribute("y");var aX="roundCorner-clip-"+aT+aO+am;aa.append("clipPath").attr("id",aX).append("rect").attr("rx",aH).attr("ry",aH).attr("x",-aH).attr("width",aU+aH).attr("height",aW).attr("y",aY).transition().duration(N).attr("width",function(){aF=ay[aV.valueAxis];if(aV.val!==" "&&aV.val!==0){var aZ=Math.abs(aF(aV.val)-aF(0));return(aZ+aH)}else{return 0}}).attr("height",C).attr("y",function(){var aZ=aj(aO)+C*(w-aT-1);aZ=aZ+C/8*(w-aT-1)+C/2;return aZ});return"url(#"+aX+")"})}aN=aQ.transition();aN.duration(N).attr("width",function(aS){aF=ay[aS.valueAxis];if(aS.val!==" "&&aS.val!==0){var aT=Math.abs(aF(aS.val)-aF(0));return aT}else{return 0}}).attr("x",0).attr("y",0).each("end",function(aT,aS){if(aS===aP&&aO===aJ){B()}})}else{if(aq){aQ.attr("clip-path",function(aT,aS){var aU="roundCorner-clip-"+aS+aO+am;aa.append("clipPath").attr("id",aU).append("rect").attr("rx",aH).attr("ry",aH).attr("width",function(){aF=ay[aT.valueAxis];if(aT.val!==" "&&aT.val!==0){var aV=Math.abs(aF(aT.val)-aF(0));return(aV+aH)}else{return 0}}).attr("height",C).attr("y",0).attr("x",function(){aF=ay[aT.valueAxis];if(aT.val<0){return 0}else{return 0-aH}});return"url(#"+aU+")"})}}}}}else{aQ.attr("width",function(aS){aF=ay[aS.valueAxis];if(aS.val!==" "&&aS.val!==0){var aT=Math.abs(aF(aS.val)-aF(0));return aT}else{return 0}}).attr("x",0).attr("height",C).attr("y",0);if(aq){aQ.attr("clip-path",function(aT,aS){var aU="roundCorner-clip-"+aS+aO+am;aa.append("clipPath").attr("id",aU).append("rect").attr("rx",aH).attr("ry",aH).attr("width",function(){aF=ay[aT.valueAxis];if(aT.val!==" "&&aT.val!==0){var aV=Math.abs(aF(aT.val)-aF(0));return(aV+aH)}else{return 0}}).attr("height",C).attr("y",0).attr("x",function(){aF=ay[aT.valueAxis];if(aT.val<0){return 0}else{return 0-aH}});return"url(#"+aU+")"})}}if(p.fillMode.image&&!F){aA(aM,aQ,aO,C)}});aI.exit().remove();ap=false,q=false,A=false});if(!z){B()}return at}function B(){K.initialized()}at.afterUIComponentAppear=function(){K.initialized()};at.dataLabel=function(aA){if(!arguments.length){return aA}x=aA};at.hoverOnPoint=function(aA){var aD=aA.x,aB=aA.y;var aE=-1;while(aE<W.length){if(Math.abs(aB-aj.rangeBand()*aE-0.5*aj.rangeBand())<=0.5*aj.rangeBand()){break}aE++}if(aE>(W.length-1)||aE<0){D.attr("visibility","hidden");return}D.attr("y",aj.rangeBand()*aE+C/4).attr("visibility","visible");if(aE!==ai){if(L){ai=aE;var aC=R[0][0].getTransformToElement(R[0][0].ownerSVGElement);var aG=aC.f;var aF=ar.generateTooltipData(au,W,ae-1-aE,I,aw);aF.point={x:d3.event.layerX,y:aj.rangeBand()*aE+0.5*aj.rangeBand()+aG};aF.plotArea={x:aC.e,y:aC.f,width:o,height:t};K.showTooltip(b.formatTooltipData(aF))}}};at.parent=function(){return R};at.highlight=function(aB){if(aB instanceof Array){for(var aC=0,aA=aB.length;aC<aA;aC++){aB[aC].setAttribute("fill-opacity",1)}}else{aB.setAttribute("fill-opacity",1)}};at.unhighlight=function(aB){if(aB instanceof Array){for(var aC=0,aA=aB.length;aC<aA;aC++){aB[aC].setAttribute("fill-opacity",0.2)}}else{aB.setAttribute("fill-opacity",0.2)}};at.clear=function(aA){if(aA==null){R.selectAll(".datapoint").attr("fill-opacity",1)}else{R.selectAll(".datapoint").attr("fill-opacity",0.2)}};at.blurOut=function(){ai=null;D.attr("visibility","hidden");if(L){K.hideTooltip()}};at.width=function(aA){if(!arguments.length){return o}ap=(o===aA)&&!ap?false:true;o=aA;if(a.isExist(o)&&a.isExist(t)&&a.isExist(W)){T()}return at};at.height=function(aA){if(!arguments.length){return t}ap=(t===aA)&&!ap?false:true;t=aA;if(a.isExist(o)&&a.isExist(t)&&a.isExist(W)){T()}return at};at.data=function(aB){if(!arguments.length){return au}au=aB;var aC=i(au);al=aC.MG1;ak=aC.MG2;ag=aC.MG1Number;af=aC.MG2Number||0;v=aC.MNDOnColor&&aC.MNDInner;if(a.isExist(aC.color)){r=true;F=true}else{r=false;if(a.isExist(ak)){F=true}else{F=false}}var aA=u(al,ak,aC.color);if(W.length!==aA.length||aA[0].length!==W[0].length){q=true}else{A=true}W=aA;if(a.isExist(o)&&a.isExist(t)){T()}Z();return at};at.properties=function(aA){if(!arguments.length){return p}h.extend(true,p,aA);Z();return at};var T=function(){var aB=[];ay=[];for(var aA=0;aA<W.length;aA++){aB.push(aA)}aj.domain(aB).rangeBands([t,0]);if(s===0&&E===0){J.domain([0,1]).range([0,o])}else{J.domain([s,E]).range([0,o])}if(a.isExist(ak)||F){if(S===0&&M===0){an.domain(J.domain()).range(J.range())}else{an.domain([M,S]).range([0,o]);if(s===0&&E===0){J.domain(an.domain()).range(an.range())}}if(!ad&&!Q){n.perfectDual(J,an)}else{if(!ad&&Q){n.perfect(an)}else{if(ad&&!Q){n.perfect(J)}}}}else{if(!Q){n.perfect(J)}an.range([0,0])}ay.push(J);ay.push(an)};at.categoryScale=function(aA){if(!arguments.length){return aj}aj=aA;return at};at.primaryScale=function(aA){if(!arguments.length){return J}J=aA;ay[0]=J;return at};at.secondScale=function(aA){if(!arguments.length){return an}an=aA;ay[1]=an;return at};at.primaryAxisColor=function(){if(F&&!r){return I[0]}else{return undefined}};at.secondAxisColor=function(){if(!r){return I[W[0].length-1]}else{return undefined}};at.primaryDataRange=function(aA){if(!arguments.length){return{min:s,max:E}}if(aA!==null){E=aA.max;s=aA.min;if(aA.from==="axis"){Q=true}if(a.isExist(o)&&a.isExist(t)){T()}}return at};at.secondDataRange=function(aA){if(!arguments.length){return{min:M,max:S}}if(aA!==null){S=aA.max;M=aA.min;if(aA.from==="axis"){ad=true}if(a.isExist(o)&&a.isExist(t)){T()}}return at};at.getPreferredSize=function(){};at.dispatch=function(aA){if(!arguments.length){return K}K=aA;return this};at.colorPalette=function(aA){if(!arguments.length){return I}I=aA;return this};at.shapePalette=function(aA){if(!arguments.length){return aw}aw=aA;return this};at.primaryAxisTitle=function(aB){if(!arguments.length){var aE=au.getMeasureValuesGroupDataByIdx(0),aD=[];if(aE){for(var aC=0,aA=aE.values.length;aC<aA;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(d.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};at.secondAxisTitle=function(aB){if(!arguments.length){var aE=au.getMeasureValuesGroupDataByIdx(1),aD=[];if(aE){for(var aC=0,aA=aE.values.length;aC<aA;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(d.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};var u=function(aE,aD,aK){E=s=0;S=M=0;var aI=[];var aB=0;if(aE[0]&&aE[0].length){aB=aE[0].length}else{if(aD[0]&&aD[0].length){aB=aD[0].length}}var aN=[];var aP=0,aF=0;var aM=0,aL=0;for(aM=0;aM<aE.length;aM++){if(r){for(aL=0;aL<aE[aM].length;aL++){if(aK[aL]===0){aP=aE[aM][aL].val;aE[aM][aL].valueAxis=0;if(E<aP){E=aP}if(s>aP){s=aP}az++}else{aF=aE[aM][aL].val;aE[aM][aL].valueAxis=1;if(S<aF){S=aF}if(M>aF){M=aF}}}}else{aP=d3.max(aE[aM],function(aQ){return aQ.val});aF=d3.min(aE[aM],function(aQ){return aQ.val});if(E<aP){E=aP}if(s>aF){s=aF}}aN.push(aE[aM])}if(aD!==undefined){for(aM=0;aM<aD.length;aM++){aP=d3.max(aD[aM],function(aQ){return aQ.val});aF=d3.min(aD[aM],function(aQ){return aQ.val});if(S<aP){S=aP}if(M>aF){M=aF}aN.push(aD[aM])}}for(aL=0;aL<aB;aL++){var aH=[];for(aM=0;aM<aN.length;aM++){if(!r){if(aM<aE.length){aN[aM][aL].valueAxis=0}else{aN[aM][aL].valueAxis=1}}if(j.isNoValue(aN[aM][aL].val)){aN[aM][aL].val=" "}aH.push(aN[aM][aL])}if(v){var aO=[],aC=0,aA=0;var aG=0;for(var aJ=0;aJ<aE.length;aJ++){aO.push(aH[aJ]);aC++;if(aC===ag&&aD!==undefined){aA=0;for(;aG<aD.length;aG++){if(aA>=af){aC=0;break}aO.push(aH[aE.length+aG]);aA++}}}aI.push(aO)}else{aI.push(aH)}}return aI};p=G.props(null);return at};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.bar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.bar",name:"bar",base:"sap.viz.modules.xy.bar.base",properties:{fillMode:{name:"fillMode",supportedValueType:"Object",supportedValues:{image:{name:"image",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled image fill."},imagePalette:{name:"imagePalette",supportedValueType:"StringArray",supportedValues:["image1.png","image2.png","image3.png","image4.png"],defaultValue:["http://www.sap.com/global/ui/images/global/sap-logo.png","http://www.sap.com/global/ui/images/global/sap-logo.png","http://www.sap.com/global/ui/images/global/sap-logo.png","http://www.sap.com/global/ui/images/global/sap-logo.png",],description:"images to fill the bar",}},isExported:true,description:"Settings for tooltip related properties."}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_bar",name:"IDS_MULTIBARCHART",base:"riv/base/multiple/xy",modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"bar",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"horizontal",outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.verticalbar",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,f,h,b,c,l,e,i,g,d,j){var k=function(C,N){var at;var al,ak,av,T=[],A=0,p=0,O=false,Z=false,P=0,I=0,J=null;var m=undefined,q=undefined,X=Math.floor(Math.random()*10000),ab=0,aa=0,B=false,E=[],D,ay,s=false,ag=0,af=0,ax=["squareWithRadius"],n,G=new f("showTooltip","hideTooltip","initialized","startToInit");var M=N.effectManager;var az=[],F=d3.scale.ordinal(),aj=d3.scale.linear(),ao=d3.scale.linear();var z,K,an=[],H=true,ai=null;var aA=0,t,ad,S,ac=[];var u=true,Y=true,aq=false,U=true,L=1000,ar=false,aw=false;var ah,W,am=e.newId();var R="normal";var ap=false,o=false,v=false;au.hoverOnPoint=function(x){var aD=x.x,aB=x.y;var aE=-1;while(aE<T.length){if(Math.abs(aD-F.rangeBand()*aE-0.5*F.rangeBand())<=0.5*F.rangeBand()){break}aE++}if(aE>(T.length-1)||aE<0){z.attr("visibility","hidden");return}z.attr("x",F.rangeBand()*aE+S/4).attr("visibility","visible");if(ai!==aE){if(H){ai=aE;var aC=J[0][0].getTransformToElement(J[0][0].ownerSVGElement);var aG=aC.e;var aF=at.generateTooltipData(av,T,aE,E,ax);aF.point={x:F.rangeBand()*aE+0.5*F.rangeBand()+aG,y:d3.event.layerY};aF.plotArea={x:aC.e,y:aC.f,width:m,height:q};G.showTooltip(b.formatTooltipData(aF))}}};au.parent=function(){return J};au.highlight=function(aB){if(aB instanceof Array){for(var aC=0,x=aB.length;aC<x;aC++){aB[aC].setAttribute("fill-opacity",1)}}else{aB.setAttribute("fill-opacity",1)}};au.unhighlight=function(aB){if(aB instanceof Array){for(var aC=0,x=aB.length;aC<x;aC++){aB[aC].setAttribute("fill-opacity",0.2)}}else{aB.setAttribute("fill-opacity",0.2)}};au.clear=function(x){if(x==null){J.selectAll(".datapoint").attr("fill-opacity",1)}else{J.selectAll(".datapoint").attr("fill-opacity",0.2)}};au.blurOut=function(){z.attr("visibility","hidden");ai=null;if(H){G.hideTooltip()}};var V=function(){aq=n.isRoundCorner;u=n.animation.dataLoading;Y=n.animation.dataUpdating;H=n.tooltip.enabled;R=n.drawingEffect;if(B&&!hasMNDonCategoryAxis){D=n.primaryValuesColorPalette;ay=n.secondaryValuesColorPalette}else{ay=n.colorPalette;D=n.colorPalette}var aE=0;if(!hasMNDonCategoryAxis){aA=al.length;aE=T[0].length}else{aE=T.length*T[0].length}E=[];if(s){var aB=0,x=0,aC=0;for(var aD=0;aD<aA;aD++){E.push(D[aD%D.length]);aB++;if(aB==ag){x=0;for(;aC<=(aE-aA);aC++){if(x>=af){aB=0;break}E.push(ay[aC%ay.length]);x++}}}}else{for(var aD=0;aD<aE;aD++){if(aD<aA){E.push(D[aD%D.length])}else{if(B&&!hasMNDonCategoryAxis){E.push(ay[(aD-aA)%ay.length])}}}}};function au(x){j.drawBound(x,m,q);at=b();if(az.length==0){return}G.startToInit();x.each(function(){t=T[0].length;ad=T.length;S=8*(F.rangeBand())/(9*t+7);var aB=J=d3.select(this);if(z==null){z=aB.append("rect").attr("width",F.rangeBand()-S/2).attr("height",q).attr("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{z.attr("width",F.rangeBand()-S/2).attr("height",q).attr("visibility","hidden")}if(ah==null){ah=aB.append("defs").append("clipPath").append("rect").attr("width",m).attr("height",q)}else{ah.attr("width",m).attr("height",q)}if(W==null){W=aB.append("defs")}else{if(o||ap||v||!aq){W.remove();W=aB.append("defs")}}var aF=Math.log(S)/Math.log(2);if(aF<0){aq=false}var aC;var aE=aB.selectAll("g.datashapesgroup");if(!a.isExist(aE[0][0])){aE=aB.append("g").attr("class","datashapesgroup")}var aG=aE.selectAll("g.bar").data(T),aH=T.length-1,aD=T[0].length-1;aG.enter().append("g");aG.attr("class","bar").each(function(aI,aM){var aP=[],aO=[];var aK=d3.select(this).selectAll("g.datashape").data(aI);aK.enter().append("g").attr("class","datashape").append("rect").attr("class","datapoint");aK.exit().remove();if(ar){aK.each(function(){aO.push(this.getTransformToElement(this.parentNode).f)})}aK.attr("transform",function(aS,aR){var aT;aC=az[aS.valueAxis];if(aS.val>=0){aT=aC(aS.val)}else{aT=aC(0)}var aQ=F(aM)+S*aR;aQ=aQ+S/8*(aR)+S/2;aP.push(aQ);return"translate("+aQ+","+aT+")"});var aN=aK.select("rect.datapoint");aN.attr("fill",function(aR,aQ){aR.fillColor=E[aQ%E.length];var aS={drawingEffect:R,fillColor:aR.fillColor,direction:"horizontal"};return M.register(aS)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(u&&!aw){if(o){aN.attr("width",S).attr("height",0).attr("x",function(aS,aR){var aQ=F(aM)-aP[aR]+S*aR;aQ=aQ+S/8*(aR)+S/2;return aQ}).attr("y",function(aR){aC=az[aR.valueAxis];if(aR.val!==" "&&aR.val!=0&&aR.val>0){var aQ=Math.abs(aC(aR.val)-aC(0));return aQ}else{return 0}});if(aq){aN.attr("clip-path",function(aT,aR){var aS=this.getAttribute("width"),aU=this.getAttribute("height"),aQ=this.getAttribute("x"),aW=this.getAttribute("y");var aV="roundCorner-clip-"+aR+aM+am;W.append("clipPath").attr("id",aV).append("rect").attr("rx",aF).attr("ry",aF).attr("x",0).attr("width",S).attr("y",aU).transition().delay(function(aY,aX){return(aX+t*aM)*aJ}).attr("height",function(){aC=az[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aX=Math.abs(aC(aT.val)-aC(0));return(aX+aF)}else{return 0}}).attr("y",function(){if(aT.val>0){return 0}else{return 0-aF}});return"url(#"+aV+")"})}var aJ=L/(t*ad);aN.transition().delay(function(aR,aQ){return(aQ+t*aM)*aJ}).attr("height",function(aS,aR){aC=az[aS.valueAxis];if(aS.val!==" "&&aS.val!=0){var aQ=Math.abs(aC(aS.val)-aC(0));return aQ}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aR,aQ){if(aQ===aD&&aM===aH){w()}})}else{if(ap){if(aq){aN.attr("clip-path",function(aT,aR){var aS=this.getAttribute("width"),aU=this.getAttribute("height"),aQ=this.getAttribute("x"),aW=this.getAttribute("y");var aV="roundCorner-clip-"+aR+aM+am;W.append("clipPath").attr("id",aV).append("rect").attr("rx",aF).attr("ry",aF).attr("width",aS).attr("x",aQ).attr("height",aU).attr("y",function(){if(aT.val>0){return 0}else{return 0-aF}}).transition().duration(L).attr("width",S).attr("height",function(){aC=az[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aX=Math.abs(aC(aT.val)-aC(0));return(aX+aF)}else{return 0}});return"url(#"+aV+")"})}aN.transition().duration(L).attr("width",S).attr("height",function(aR){aC=az[aR.valueAxis];if(aR.val!==" "&&aR.val!=0){var aQ=Math.abs(aC(aR.val)-aC(0));return aQ}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aR,aQ){if(aQ===aD&&aM===aH){w()}})}else{if(v){var aL=[];aN.attr("y",function(aR,aQ){var aS=aO[aQ]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f;aL.push(aS);return aS});if(aq){aN.attr("clip-path",function(aT,aR){var aS=this.getAttribute("width"),aU=this.getAttribute("height"),aQ=this.getAttribute("x"),aW=this.getAttribute("y");var aV="roundCorner-clip-"+aR+aM+am;W.append("clipPath").attr("id",aV).append("rect").attr("rx",aF).attr("ry",aF).attr("x",aQ).attr("width",S).attr("height",function(){aC=az[aT.valueAxis];var aX=Math.abs(aC(aT.val)-aC(0));if(parseFloat(aU)>aX){return aU}else{return aX}}).attr("y",function(){return aL[aR]}).transition().duration(L).attr("height",function(){aC=az[aT.valueAxis];if(aT.val!==" "&&aT.val!=0){var aX=Math.abs(aC(aT.val)-aC(0));return(aX+aF)}else{return 0}}).attr("y",function(){aC=az[aT.valueAxis];if(aT.val>=0){return 0}else{return 0-aF}});return"url(#"+aV+")"})}aN.transition().duration(L).attr("height",function(aS,aR){aC=az[aS.valueAxis];if(aS.val!==" "&&aS.val!=0){var aQ=Math.abs(aC(aS.val)-aC(0));aS.height=aQ;return aQ}else{return 0}}).attr("y",0).attr("x",0).each("end",function(aR,aQ){if(aQ===aD&&aM===aH){w()}})}else{if(aq){aN.attr("clip-path",function(aR,aQ){var aS="roundCorner-clip-"+aQ+aM+am;W.append("clipPath").attr("id",aS).append("rect").attr("rx",aF).attr("ry",aF).attr("width",S).attr("height",function(){aC=az[aR.valueAxis];if(aR.val!==" "&&aR.val!=0){var aT=Math.abs(aC(aR.val)-aC(0));return(aT+aF)}else{return 0}}).attr("y",function(){aC=az[aR.valueAxis];if(aR.val>=0){return 0}else{return 0-aF}}).attr("x",0);return"url(#"+aS+")"})}}}}}else{aN.attr("width",S).attr("height",function(aR){aC=az[aR.valueAxis];if(aR.val!==" "&&aR.val!=0){var aQ=Math.abs(aC(aR.val)-aC(0));aR.height=aQ;return aQ}else{return 0}}).attr("y",0).attr("x",0);if(aq){aN.attr("clip-path",function(aR,aQ){var aS="roundCorner-clip-"+aQ+aM+am;W.append("clipPath").attr("id",aS).append("rect").attr("rx",aF).attr("ry",aF).attr("width",S).attr("height",function(){aC=az[aR.valueAxis];if(aR.val!==" "&&aR.val!=0){var aT=Math.abs(aC(aR.val)-aC(0));return(aT+aF)}else{return 0}}).attr("y",function(){aC=az[aR.valueAxis];if(aR.val>=0){return 0}else{return 0-aF}}).attr("x",0);return"url(#"+aS+")"})}}});aG.exit().remove();ap=false,v=false,o=false});if(!u){w()}return au}function w(){G.initialized();ar=true}au.afterUIComponentAppear=function(){G.initialized()};function ae(aC,x){var aB=d3.interpolate(q,(x>=aA)?ao(aC.val):aj(aC.val));return function(aD){return aB(aD)}}au.width=function(x){if(!arguments.length){return m}ap=(m===x)&&!ap?false:true;m=x;if(a.isExist(m)&&a.isExist(q)&&a.isExist(T)){Q()}return au};au.height=function(x){if(!arguments.length){return q}ap=(q===x)&&!ap?false:true;q=x;if(a.isExist(m)&&a.isExist(q)&&a.isExist(T)){Q()}return au};au.data=function(aB){if(!arguments.length){return av}av=aB;var aC=h(av);al=aC.MG1;ak=aC.MG2;ag=aC.MG1Number;af=aC.MG2Number||0;s=aC.MNDOnColor&&aC.MNDInner;if(a.isExist(aC.color)){hasMNDonCategoryAxis=true;B=true}else{hasMNDonCategoryAxis=false;if(a.isExist(ak)){B=true}else{B=false}}var x=r(al,ak,aC.color);if(T.length!==x.length||x[0].length!==T[0].length){o=true}else{v=true}T=x;if(a.isExist(m)&&a.isExist(q)){Q()}V();return au};au.properties=function(x){if(!arguments.length){return n}g.extend(true,n,x);V();return au};var Q=function(){var aB=[];for(var x=0;x<T.length;x++){aB.push(x)}az=[];F.domain(aB).rangeBands([0,m]);if(p===0&&A===0){aj.domain([0,1]).range([q,0])}else{aj.domain([p,A]).range([q,0])}if(a.isExist(ak)||B){if(P===0&&I===0){ao.domain(aj.domain()).range(aj.range())}else{ao.domain([I,P]).range([q,0]);if(p===0&&A===0){aj.domain(ao.domain()).range(ao.range())}}if(!Z&&!O){l.perfectDual(aj,ao)}else{if(!Z&&O){l.perfect(ao)}else{if(Z&&!O){l.perfect(aj)}}}}else{if(!O){l.perfect(aj)}ao.range([0,0])}az.push(aj);az.push(ao)};au.categoryScale=function(x){if(!arguments.length){return F}F=x;return au};au.primaryScale=function(x){if(!arguments.length){return aj}aj=x;az[0]=aj;return au};au.secondScale=function(x){if(!arguments.length){return ao}ao=x;az[1]=ao;return au};au.primaryAxisColor=function(){if(B&&!hasMNDonCategoryAxis){return E[0]}else{return undefined}};au.secondAxisColor=function(){if(!hasMNDonCategoryAxis){return E[T[0].length-1]}else{return undefined}};au.primaryDataRange=function(x){if(!arguments.length){return{min:p,max:A}}if(x!==null){A=x.max;p=x.min;if(x.from==="axis"){O=true}if(a.isExist(m)&&a.isExist(q)){Q()}}return au};au.secondDataRange=function(x){if(!arguments.length){return{min:I,max:P}}if(x!==null){P=x.max;I=x.min;if(x.from==="axis"){Z=true}if(a.isExist(m)&&a.isExist(q)){Q()}}return au};au.getPreferredSize=function(){};au.x=function(x){if(!arguments.length){return ab}ab=x;return this};au.y=function(x){if(!arguments.length){return aa}aa=x;return this};au.dispatch=function(x){if(!arguments.length){return G}G=x;return this};au.dataLabel=function(x){};au.eventTarget=function(x){if(x.type=="mousemove"){return au.hoverOnPoint}else{if(x.type=="mouseout"){return blurOut}}};au.colorPalette=function(x){if(!arguments.length){return E}E=x;return this};au.shapePalette=function(x){if(!arguments.length){return ax}ax=x;return this};au.primaryAxisTitle=function(aB){if(!arguments.length){var aE=av.getMeasureValuesGroupDataByIdx(0),aD=[];if(aE){for(var aC=0,x=aE.values.length;aC<x;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(d.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};au.secondAxisTitle=function(aB){if(!arguments.length){var aE=av.getMeasureValuesGroupDataByIdx(1),aD=[];if(aE){for(var aC=0,x=aE.values.length;aC<x;aC++){if(aE.values[aC].col!==null&&aE.values[aC].col!==undefined){aD.push(aE.values[aC].col)}else{aD.push(d.get("IDS_ISNOVALUE"))}}}return aD.join("/")}return this};var r=function(aF,aD,aK){A=p=0;P=I=0;var aI=[];var aB=0;if(aF[0]&&aF[0].length){aB=aF[0].length}else{if(aD[0]&&aD[0].length){aB=aD[0].length}}var aN=[];var aP=aE=0;for(var aM=0;aM<aF.length;aM++){if(hasMNDonCategoryAxis){for(var aL=0;aL<aF[aM].length;aL++){if(aK[aL]==0){aP=aF[aM][aL].val;aF[aM][aL].valueAxis=0;if(A<aP){A=aP}if(p>aP){p=aP}aA++}else{aE=aF[aM][aL].val;aF[aM][aL].valueAxis=1;if(P<aE){P=aE}if(I>aE){I=aE}}}}else{aP=d3.max(aF[aM],function(aQ){return aQ.val});aE=d3.min(aF[aM],function(aQ){return aQ.val});if(A<aP){A=aP}if(p>aE){p=aE}}aN.push(aF[aM])}if(aD!=undefined){for(aM=0;aM<aD.length;aM++){var aP=d3.max(aD[aM],function(aQ){return aQ.val});var aE=d3.min(aD[aM],function(aQ){return aQ.val});if(P<aP){P=aP}if(I>aE){I=aE}aN.push(aD[aM])}}for(var aL=0;aL<aB;aL++){var aH=[];for(aM=0;aM<aN.length;aM++){if(!hasMNDonCategoryAxis){if(aM<aF.length){aN[aM][aL].valueAxis=0}else{aN[aM][aL].valueAxis=1}}if(i.isNoValue(aN[aM][aL].val)){aN[aM][aL].val=" "}aH.push(aN[aM][aL])}if(s){var aO=[],aC=0,x=0;var aG=0;for(var aJ=0;aJ<aF.length;aJ++){aO.push(aH[aJ]);aC++;if(aC==ag&&aD!=undefined){x=0;for(;aG<aD.length;aG++){if(x>=af){aC=0;break}aO.push(aH[aF.length+aG]);x++}}}aI.push(aO)}else{aI.push(aH)}}return aI};n=C.props(null);return au};return k});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.verticalbar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalbar",name:"vertical bar",base:"sap.viz.modules.xy.bar.base",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_column",name:"IDS_MULTIVERTICALBARCHART",base:"viz/multi_bar",modules:{tooltip:{configure:{properties:{chartType:"verticalbar",orientation:"left"}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",outsidePosition:"up"}}},xAxis:{data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.0"}],function Setup(c,b){var a={id:"viz/multi_dual_column",name:"IDS_MULTIDUALVERTICALBARCHART",base:"viz/multi_column",modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main",target:"secondDataRange",sourceModule:"main.plot.plot",source:"secondDataRange"},{targetModule:"main.plot.plot",target:"secondDataRange",sourceModule:"main",source:"secondDataRange"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.yAxis2",target:"scale",sourceModule:"main.plot.plot",source:"secondScale"},{targetModule:"main.plot.yAxis2",target:"title",sourceModule:"main.plot.plot",source:"secondAxisTitle"},{targetModule:"main.plot.yAxis",target:"color",sourceModule:"main.plot.plot",source:"primaryAxisColor"},{targetModule:"main.plot.yAxis2",target:"color",sourceModule:"main.plot.plot",source:"secondAxisColor"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.stackedverticalbar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedverticalbar",name:"stacked vertical bar",base:"sap.viz.modules.verticalbar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked vertical bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_dual_stacked_column",name:"IDS_MULTIDUALSTACKEDVERTICALBARCHART",base:"viz/multi_dual_column",modules:{main:{modules:{plot:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_100_dual_stacked_column",name:"IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_dual_stacked_column",modules:{main:{modules:{plot:{modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.0"}],function Setup(b,a){var c={id:"viz/multi_dual_bar",name:"IDS_MULTIDUALBARCHART",base:"viz/multi_bar",modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main",target:"secondDataRange",sourceModule:"main.plot.plot",source:"secondDataRange"},{targetModule:"main.plot.plot",target:"secondDataRange",sourceModule:"main",source:"secondDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.xAxis2",target:"scale",sourceModule:"main.plot.plot",source:"secondScale"},{targetModule:"main.plot.xAxis2",target:"title",sourceModule:"main.plot.plot",source:"secondAxisTitle"},{targetModule:"main.plot.xAxis",target:"color",sourceModule:"main.plot.plot",source:"primaryAxisColor"},{targetModule:"main.plot.xAxis2",target:"color",sourceModule:"main.plot.plot",source:"secondAxisColor"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.modules.stackedbar",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,c,h,k,b,d,m,f,j,i,e,l){var g=function(I,U){var R=null;var aC,au=[[]],at=[[]],ab=[],u=[],F=0,s=0,V=false,aj=false,Y=0,Q=0,W=null;var n,t,ah=Math.floor(Math.random()*10000),al=0,ak=0,H=false,L=[],K,aF,v=false,ao=0,an=0,aE=["squareWithRadius"],o,N=new h("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var T=U.effectManager;var ar=d3.scale.ordinal(),M=d3.scale.linear(),aw=d3.scale.linear();var D=null,ax=[],G=[],aq=null,ad=false;var w=1,am,X,C,J=[],p=[];var z=true,ai=true,az=false,ae=true,r=false,aD=false,aA=false,P,S=1000;var ap=null,ag=null,av=f.newId();var E="comparison";var aa="normal";var ay=false,q=false,A=false;var af=function(){az=o.isRoundCorner;E=o.mode==="percentage"?"percentage":"comparison";z=o.animation.dataLoading;ai=o.animation.dataUpdating;P=o.tooltip.enabled;if(H&&!r){K=o.primaryValuesColorPalette;aF=o.secondaryValuesColorPalette}else{aF=o.colorPalette;K=o.colorPalette}aa=o.drawingEffect;var aI=au.length;L=[];var aJ,aH;if(v){var aG=0,x=0;for(aJ=0;aJ<ab[0][0].length;aJ++){L.push(K[aJ%K.length]);aG++;if(aG===ao&&H&&a.isExist(ab[0][1])){x=0;for(aH=0;aH<=ab[0][1].length;aH++){if(x>=an){aG=0;break}L.push(aF[aH%aF.length]);x++}}}}else{for(aJ=0;aJ<ab[0].length;aJ++){for(aH=0;aH<ab[0][0].length;aH++){L.push(K[aH%K.length])}if(H&&a.isExist(ab[0][1])){for(aH=0;aH<ab[0][1].length;aH++){L.push(aF[aH%aF.length])}}}}};function aB(x){l.drawBound(x,n,t);if(E==="percentage"){ac()}R=b();if(!a.isExist(M)&&!a.isExist(aw)){return}N.startToInit();x.each(function(){w=(a.isExist(at))?2:1;C=8*(ar.rangeBand())/(9*w+7);X=ab[0][0].length+((a.isExist(ab[0][1]))?ab[0][1].length:0);var aH=8*(ar.rangeBand())/(9*X+7);var aG=(W=d3.select(this));if(D===null){D=aG.append("rect").attr("width",n).attr("height",ar.rangeBand()-C/2).attr("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{D.attr("width",n).attr("height",ar.rangeBand()-C/2).attr("visibility","hidden")}if(ap===null){ap=aG.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",t)}else{ap.attr("width",n).attr("height",t)}if(ag===null){ag=aG.append("defs").attr("id","round-corner-clip"+av)}else{if(q||ay||A||!az){ag.remove();ag=aG.append("defs").attr("id","round-corner-clip"+av)}}var aJ=Math.log(C)/Math.log(2);if(aJ<0){az=false}var aI=aG.selectAll("g.datashapesgroup");if(!a.isExist(aI[0][0])){aI=aG.append("g").attr("class","datashapesgroup")}var aK;aK=aI.selectAll("g.bar").data(ab);aK.enter().append("g");aK.attr("class","bar").each(function(aL,aM){var aN=d3.select(this).selectAll("g.axisGroup").data(aL);aN.enter().append("g");aN.attr("class","axisGroup").each(function(a1,aU){var aY=(aU===0)?M:aw;var aO=(aU===0)?C/2:(C/2+C+C/8);var a2=(aU===0)?ar(aM):(ar(aM)+C/2+C);var aV=(aU===0)?K:aF;var aQ=0,aR=0,a0=0,a3=0;var aX=[],aP=[];var aW=d3.select(this).selectAll("g.datashape").data(a1);aW.enter().append("g").attr("class","datashape").append("rect").attr("class","datapoint");aW.exit().remove();if(aA){aW.each(function(){aP.push(this.getTransformToElement(this.parentNode).e)})}aW.attr("transform",function(a6,a5){var a7=ar(aM)+aO;aX.push(a7);var a4;if(a6.val>=0){aQ=aY(a0);a0+=a1[a5].val;a4=aQ}else{a3+=a1[a5].val;a4=aY(a3)}return"translate("+a4+","+a7+")"});var aZ=aW.select("rect.datapoint");aZ.attr("fill",function(a4,a6){a4.fillColor=aV[a6%aV.length];var a5={drawingEffect:aa,fillColor:a4.fillColor,direction:"vertical"};return T.register(a5)}).attr("shape-rendering","crispEdges").attr("fill-opacity",1);if(z&&!aD){if(q){aZ.attr("height",aH).attr("y",function(a5,a4){var a6=a2-aX[a4]+aH*a4;a6=a6+aH/8*(a4)+aH/2;return a6}).attr("x",function(a4){if(a4.val>0){return 0}else{return aY(0)-aY(a4.val)}}).attr("width",0);if(az){aZ.attr("clip-path",function(a5,a4){if(a4===p[aU][aM]||a4===J[aU][aM]){var a7="roundCorner-clip-"+a4+aM+aU+av;var a6=ag.append("clipPath").attr("id",a7).append("rect").attr("class","roundCorner-clip").attr("rx",aJ).attr("ry",aJ).attr("y",this.y.baseVal.value).attr("height",aH).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(S/2).attr("x",function(){if(a4===p[aU][aM]){return 0}else{return 0-aJ}}).attr("width",function(){return Math.abs(aY(a5.val)-aY(0))+aJ}).transition().delay(S/2).duration(S/2).attr("height",C).attr("y",0);return"url(#"+a7+")"}})}a3=0;aZ.transition().duration(S/2).attr("width",function(a4){return Math.abs(aY(a4.val)-aY(0))}).attr("x",0);aZ.transition().delay(S/2).duration(S/2).attr("height",C).attr("y",0).each("end",function(a5,a4){this.setAttribute("width",Math.abs(aY(a5.val)-aY(0)));if(a4===ab[0][0].length-1&&aM===0){B()}})}else{if(ay){aZ.attr("x",function(a5,a4){return aP[a4]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a4){var a5=Math.abs(aY(a4.val)-aY(0));if(parseFloat(this.width.baseVal.value)>a5){return this.width.baseVal.value}else{return a5}});var aT=aZ.transition();aT.duration(S/2).attr("width",function(a4){return Math.abs(aY(a4.val)-aY(0))}).attr("x",0).attr("height",C).each("end",function(a5,a4){this.setAttribute("width",Math.abs(aY(a5.val)-aY(0)));if(a4===ab[0][0].length-1&&aM===0){B()}});if(az){aT.attr("clip-path",function(a6,a5){if(a5===p[aU][aM]||a5===J[aU][aM]){var a8="roundCorner-clip-"+a5+aM+aU+av;var a4=parseFloat(this.x.baseVal.value);var a7=ag.append("clipPath").attr("id",a8).append("rect").attr("class","roundCorner-clip").attr("rx",aJ).attr("ry",aJ).attr("y",this.y.baseVal.value).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aJ).attr("x",function(){return a4-((a5===p[aU][aM])?0:aJ)}).transition().duration(S/2).attr("x",function(){if(a5===p[aU][aM]){return 0}else{return 0-aJ}}).attr("width",function(){return Math.abs(aY(a6.val)-aY(0))+aJ}).attr("height",C).attr("y",0);return"url(#"+a8+")"}})}}else{if(A){aZ.attr("x",function(a5,a4){return aP[a4]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var aS=aZ.transition();aS.duration(S/2).attr("width",function(a4){return Math.abs(aY(a4.val)-aY(0))}).attr("x",0).each("end",function(a5,a4){this.setAttribute("width",Math.abs(aY(a5.val)-aY(0)));if(a4===ab[0][0].length-1&&aM===0){B()}});if(az){aS.attr("clip-path",function(a6,a5){if(a5===p[aU][aM]||a5===J[aU][aM]){var a8="roundCorner-clip-"+a5+aM+aU+av;var a4=parseFloat(this.x.baseVal.value);var a7=ag.append("clipPath").attr("id",a8).append("rect").attr("class","roundCorner-clip").attr("rx",aJ).attr("ry",aJ).attr("y",this.y.baseVal.value).attr("height",C).attr("width",this.width.baseVal.value+aJ).attr("x",function(){return a4-((a5===p[aU][aM])?0:aJ)}).transition().duration(S/2).attr("x",function(){if(a5===p[aU][aM]){return 0}else{return 0-aJ}}).attr("width",function(){return Math.abs(aY(a6.val)-aY(0))+aJ});return"url(#"+a8+")"}})}}else{if(az){aZ.attr("clip-path",function(a5,a4){if(a4===p[aU][aM]||a4===J[aU][aM]){var a7="roundCorner-clip-"+a4+aM+aU+av;var a6=ag.append("clipPath").attr("id",a7).append("rect").attr("class","roundCorner-clip").attr("rx",aJ).attr("ry",aJ).attr("y",this.y.baseVal.value).attr("height",C).attr("width",function(){return Math.abs(aY(a5.val)-aY(0))+aJ});if(a4===p[aU][aM]){a6.attr("x",0)}else{a6.attr("x",0-aJ)}return"url(#"+a7+")"}})}}}}}else{aZ.attr("y",0).attr("x",0).attr("width",function(a5,a4){var a6=Math.abs(aY(a5.val)-aY(0));return a6}).attr("height",C);if(az){aZ.attr("clip-path",function(a5,a4){if(a4===p[aU][aM]||a4===J[aU][aM]){var a7="roundCorner-clip-"+a4+aM+aU+av;var a6=ag.append("clipPath").attr("id",a7).append("rect").attr("class","roundCorner-clip").attr("rx",aJ).attr("ry",aJ).attr("y",this.y.baseVal.value).attr("height",C).attr("width",function(){return Math.abs(aY(a5.val)-aY(0))+aJ});if(a4===p[aU][aM]){a6.attr("x",0)}else{a6.attr("x",0-aJ)}return"url(#"+a7+")"}})}}});aN.exit().remove()});aK.exit().remove();if(!ai){aD=true}ay=false,A=false,q=false});if(!z){B()}return aB}aB.hoverOnPoint=function(aO){var aN=aO.x,aI=aO.y;var aL=-1;while(aL<ab.length){if(Math.abs(aI-ar.rangeBand()*aL-0.5*ar.rangeBand())<=0.5*ar.rangeBand()){break}aL++}if(aL>(ab.length-1)||aL<0){D.attr("visibility","hidden");return}D.attr("y",ar.rangeBand()*aL+C/4).attr("visibility","visible");if(aL!==aq){if(P){aq=aL;var aJ=W[0][0].getTransformToElement(W[0][0].ownerSVGElement);var x=aJ.f;var aH=1,aG=1,aK=0;var aM=R.generateTooltipData(aC,u,am-1-aL,L,aE);aM.point={x:d3.event.layerX,y:ar.rangeBand()*aL+0.5*ar.rangeBand()+x};aM.plotArea={x:aJ.e,y:aJ.f,width:n,height:t};aM.valueAxis0Count=ab[0][0].length;aM.valueAxis1Count=a.isExist(ab[0][1])?ab[0][1].length:0;N.showTooltip(b.formatTooltipData(aM))}}};aB.blurOut=function(){D.attr("visibility","hidden");aq=null;if(P){N.hideTooltip()}};aB.parent=function(){return W};aB.highlight=function(aG){if(aG instanceof Array){for(var aH=0,x=aG.length;aH<x;aH++){aG[aH].setAttribute("fill-opacity",1)}}else{aG.setAttribute("fill-opacity",1)}};aB.unhighlight=function(aG){if(aG instanceof Array){for(var aH=0,x=aG.length;aH<x;aH++){aG[aH].setAttribute("fill-opacity",0.2)}}else{aG.setAttribute("fill-opacity",0.2)}};aB.clear=function(x){if(x==null){W.selectAll(".datapoint").attr("fill-opacity",1)}else{W.selectAll(".datapoint").attr("fill-opacity",0.2)}};function ac(){for(var aK=0,x=ab.length;aK<x;aK++){for(var aH=0,aJ=ab[aK],aM=u[aK];aH<aJ.length;aH++){var aL=0,aI=0,aG;for(aG=0;aG<aJ[aH].length;aG++){aL+=Math.abs(aJ[aH][aG].val);if(!aJ[aH][aG].isNaN){aI++}}if(aL===0){for(aG=0;aG<aJ[aH].length;aG++){aJ[aH][aG].value=a.isExist(aJ[aH][aG].value)?aJ[aH][aG].value:aJ[aH][aG].val;aJ[aH][aG].val=aJ[aH][aG].isNaN?0:1/aI;if(a.isExist(aM[aH])&&a.isExist(aM[aH][aG])){aM[aH][aG].val=aM[aH][aG].isNaN?" ":1/aI}}}else{for(aG=0;aG<aJ[aH].length;aG++){if(aJ[aH][aG].val<0){aJ[aH][aG].isNegative=true}aJ[aH][aG].value=a.isExist(aJ[aH][aG].value)?aJ[aH][aG].value:aJ[aH][aG].val;aJ[aH][aG].val=Math.abs(aJ[aH][aG].val/aL);if(a.isExist(aM[aH])&&a.isExist(aM[aH][aG])){aM[aH][aG].val=aM[aH][aG].isNaN?" ":aM[aH][aG].val/aL}}}}}}function B(){N.initialized();aA=true}aB.afterUIComponentAppear=function(){N.initialized()};aB.width=function(x){if(!arguments.length){return n}ay=(n===x)&&!ay?false:true;n=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ab)){Z()}return aB};aB.height=function(x){if(!arguments.length){return t}ay=(t===x)&&!ay?false:true;t=x;if(a.isExist(n)&&a.isExist(t)&&a.isExist(ab)){Z()}return aB};aB.data=function(aP){if(!arguments.length){return aC}aC=aP;var aI=k(aC);var aN=aI.MG1;var aK=aI.MG2;ao=aI.MG1Number;an=aI.MG2Number||0;v=aI.MNDOnColor&&aI.MNDInner;u=[];var aJ;if(a.isExist(aI.color)){r=true;H=true;var aO=[],aM=[];var aL=[],aH=[];for(aJ=0;aJ<aN.length;aJ++){aO=[];aM=[];for(var aG=0;aG<aN[aJ].length;aG++){if(aI.color[aG]===0){aO.push(aN[aJ][aG]);aM.push({val:null,hasMNDonCategoryAxis:true})}else{aO.push({val:null,hasMNDonCategoryAxis:true});aM.push(aN[aJ][aG])}}aL.push(aO);aH.push(aM)}aN=aL;aK=aH}else{r=false;if(a.isExist(aK)){if(!q&&(at.length!==aK.length||at[0].length!==aK[0].length)){q=true}H=true}else{H=false}}if(au.length!==aN.length||au[0].length!==aN[0].length){q=true}var x=O(aN,aK,aI.color);if(!q){A=true}ab=x;au=aN;at=aK;if(r){for(aJ=0;aJ<ab.length;aJ++){var aQ=ab[aJ];if(aQ[0][0].hasMNDonCategoryAxis){u.push(aQ[1])}else{u.push(aQ[0])}}}else{u=c.extend(true,{},ab)}if(a.isExist(n)&&a.isExist(t)){Z()}af();return aB};aB.properties=function(x){if(!arguments.length){return o}i.extend(true,o,x);af();return aB};var Z=function(){var aG=[];for(var x=0;x<ab.length;x++){aG.push(x)}ar.domain(aG).rangeBands([t,0]);if(E==="percentage"){M.domain([0,1]).range([0,n]);aw.domain([0,1]).range([0,n])}else{if(s===0&&F===0){M.domain([0,1]).range([0,n])}else{M.domain([s,F]).range([0,n])}if(a.isExist(at)||H){if(Y===0&&Q===0){aw.domain(M.domain()).range(M.range())}else{aw.domain([Q,Y]).range([0,n]);if(s===0&&F===0){M.domain(aw.domain()).range(aw.range())}}}else{if(!V){m.perfect(M)}}}if(!V&&!aj){m.perfectDual(M,aw)}else{if(!V&&aj){m.perfect(M)}else{if(V&&!aj){m.perfect(aw)}}}if(!a.isExist(at)){aw.range([0,0])}};aB.colorPalette=function(x){if(!arguments.length){return L}L=x;return aB};aB.categoryScale=function(x){if(!arguments.length){return ar}ar=x;return aB};aB.primaryDataRange=function(aG){if(!arguments.length){var x,aH;if(E==="percentage"){x=1;aH=0}else{aH=s<0?s:0;x=F}return{min:aH,max:x}}if(aG!==null){F=aG.max;s=aG.min;if(aG.from==="axis"){V=true}if(a.isExist(n)&&a.isExist(t)){Z()}}return aB};aB.secondDataRange=function(aG){if(!arguments.length){var x,aH;if(E==="percentage"){x=1;aH=0}else{aH=Q<0?Q:0;x=Y}return{min:aH,max:x}}if(aG!==null){Y=aG.max;Q=aG.min;if(aG.from==="axis"){aj=true}if(a.isExist(n)&&a.isExist(t)){Z()}}return aB};aB.primaryScale=function(x){if(!arguments.length){return M}M=x;return aB};aB.secondScale=function(x){if(!arguments.length){return aw}aw=x;return aB};aB.primaryAxisColor=function(){if(H&&!r){return L[0]}else{return undefined}};aB.secondAxisColor=function(){if(a.isExist(ab[0][1])&&!r){return aF[ab[0][1].length-1]}else{return undefined}};aB.getPreferredSize=function(){};aB.x=function(x){if(!arguments.length){return al}al=x;return this};aB.y=function(x){if(!arguments.length){return ak}ak=x;return this};aB.dispatch=function(x){if(!arguments.length){return N}N=x;return this};aB.dataLabel=function(x){};aB.primaryAxisTitle=function(aG){if(!arguments.length){var aJ=aC.getMeasureValuesGroupDataByIdx(0),aI=[];if(aJ){for(var aH=0,x=aJ.values.length;aH<x;aH++){if(aJ.values[aH].col!==null&&aJ.values[aH].col!==undefined){aI.push(aJ.values[aH].col)}else{aI.push(e.get("IDS_ISNOVALUE"))}}}return aI.join("/")}return this};aB.secondAxisTitle=function(aG){if(!arguments.length){var aJ=aC.getMeasureValuesGroupDataByIdx(1),aI=[];if(aJ){for(var aH=0,x=aJ.values.length;aH<x;aH++){if(aJ.values[aH].col!==null&&aJ.values[aH].col!==undefined){aI.push(aJ.values[aH].col)}else{aI.push(e.get("IDS_ISNOVALUE"))}}}return aI.join("/")}return this};var O=function(aO,aM,aH){var aL=-1,aK=-1;J=[[],[]],p=[[],[]];F=s=0;Y=Q=0;var aG=[];am=aO[0].length;var aR,x;for(var aI=0;aI<am;aI++){var aP=[],aN=[];var aQ=[];aR=0,x=0;aL=-1,aK=-1;for(var aJ=0;aJ<aO.length;aJ++){if(j.isNoValue(aO[aJ][aI].val)){aO[aJ][aI].val=null;aO[aJ][aI].isNaN=true}else{if(aO[aJ][aI].val>=0){aR+=aO[aJ][aI].val;aL=aJ}else{x+=aO[aJ][aI].val;aK=aJ}}aP.push(aO[aJ][aI])}J[0].push(aL);p[0].push(aK);if(F<aR){F=aR}if(s>x){s=x}aQ.push(aP);if(a.isExist(aM)){aR=0,x=0;aL=-1,aK=-1;for(aJ=0;aJ<aM.length;aJ++){aL=0,aK=-1;if(j.isNoValue(aM[aJ][aI].val)){aM[aJ][aI].val=null;aM[aJ][aI].isNaN=true}else{if(aM[aJ][aI].val>=0){aR+=aM[aJ][aI].val;aL=aJ}else{x+=aM[aJ][aI].val;aK=aJ}}aN.push(aM[aJ][aI])}J[1].push(aL);p[1].push(aK);if(Y<aR){Y=aR}if(Q>x){Q=x}aQ.push(aN)}aG.push(aQ)}return aG};o=I.props(null);return aB};return g});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.stackedbar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.stackedbar",name:"stacked bar",base:"sap.viz.modules.bar",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of stacked bar.",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_dual_stacked_bar",name:"IDS_MULTIDUALSTACKEDBARCHART",base:"viz/multi_dual_bar",modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_100_dual_stacked_bar",name:"IDS_MULTIDUALPERCENTAGESTACKEDBARCHART",base:"viz/multi_dual_stacked_bar",modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_stacked_column",name:"IDS_MULTISTACKEDVERTICALBARCHART",base:"viz/multi_column",modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_100_stacked_column",name:"IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/multi_stacked_column",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_stacked_bar",name:"IDS_MULTISTACKEDBARCHART",base:"viz/multi_bar",modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_100_stacked_bar",name:"IDS_MULTIPERCENTAGESTACKEDBARCHART",base:"viz/multi_stacked_bar",feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,type:"value",showZero:true}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],["0.00%"]]}}}}};a.register(b)});sap.riv.module({qname:"sap.viz.feeds.Radar",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(f,e){var c={id:"regionColor",name:"Region Color",type:e.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},b={id:"regionShape",name:"Region Shape",type:e.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},g={id:"radarAxes",name:"Radar Axes",type:e.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},d={id:"radarAxesValues",name:"Radar Axes Values",type:e.Type.Measure,min:1,max:e.Constraints.INF,mgIndex:1};var a={id:"radar",feeds:[c,b,g,d]};f.register(a)});sap.riv.module({qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.0"},[],function Setup(){var a={sapShapes:function(){return d3.scale.ordinal().range(["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"])}};return a});sap.riv.module({qname:"sap.viz.modules.radar",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.axis",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(h,g,e,c,d,k,m,j,a,l,f,b,i,n){return function(x,H){var G=0,F=0,P={},t={},L,A,w={},I,D,M=d3.scale.linear(),z,o={},J=[],C=[],N,O,B=null,p,r={},u="multiple",s,K=H.effectManager;O=c("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");I={clazz:"spiderweb",node:null,color:k.sap32(),shape:m.sapShapes(),radiusLength:0,radius:d3.scale.linear(),anchor:{x:0,y:0},radians:[],series:[],categories:[],caption:{node:null,name:"category-axis-title",width:0,height:0},labels:{},locked:false,};D={clazz:"valueaxis",anchor:{x:0,y:0},ref:d(a.get("sap.viz.modules.axis"),H),node:null,width:0,height:0};t=x.props(null);css={axisTitle:"viz-axis-title"},w={spacing:{hgap:5,vgap:5},alignment:{horizontal:"center"},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"dataline"},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:"datapoint",css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};p={dataline:{weight:[1,7]},marker:{size:[4,32]}};z={options:$.extend(true,{},t),styles:$.extend(true,{},w),wording:{dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "}};A=function(){var S=I.series,R=arguments[0],Q=arguments[1];I.max=typeof Q!=="undefined"?Q:d3.max(d3.merge(d3.merge(S)),function(T){return T.val});I.min=typeof R!=="undefined"?R:d3.min(d3.merge(d3.merge(S)),function(T){return T.val});if(I.min===I.max){if(I.min===0){I.max=100}if(I.min<0){I.max=0}if(I.min>0){I.min=0}}if(!I.min||I.min==="NaN"){I.min=0}if(!I.max||I.max==="NaN"){I.max=0}};N=function(R,Q){return e.fastMeasure(R,Q["font-size"]||Q.fontSize,Q["font-weight"]||Q.fontWeight,Q["font-family"]||Q.fontFamily)};s=function(){var ag=arguments[0],V=ag.valueaxis,Y=ag.lblW,T=ag.lblH,ae=ag.caption,ad={},ab,S,aa,ac,X=w.spacing.hgap,af=w.spacing.vgap,R=-1,Z=[];(function U(){R++;if(T-1/3*F>0){T=0}if(ae.height-1/3*F>0){ae.height=0}if(ae.width-2/3*G>0){ae.width=0}if(G-F>=0){S=(F-2*(T+2*af)-(ae.height!==0?ae.height+2*af:0))/2;ab=2*S+2*(Y+2*X)+V;if(ab>G){aa=ab-G;S=(F-aa-2*(T+2*af)-(ae.height!==0?ae.height+2*af:0))/2}}else{S=(G-2*(Y+2*X)-V)/2}Z[R]=S;if(typeof Z[R-2]!=="undefined"&&Z[R-2]<=0){return 0}if(Y>S||S<=0){Y=0,T=0;ae.width=0,ae.height=0;S=U();if(V>S){V=0;S=U();if(G>=F){if(S<F/2){S=F/2,af=0}}else{if(S<G/2){S=G/2,X=0}}}}return S})();ac={width:V+2*S+4*X+2*Y,height:2*(T+S)+4*af+(ae.height!==0?ae.height+2*af:0)};I.radiusLength=S;D.width=V;D.anchor.x=0;D.anchor.y=T+2*af;I.caption.width=ae.width;I.caption.height=ae.height;ad.x=V+Y+S+X*2;ad.y=T+S+af*2;ae.x=ad.x;ae.y=ad.y+S+T+2*af+ae.height/2;var W=0,Q=0;if(V){D.ref.gridlineLength(ad.x-V);if(G>F){W=G/2-ac.width/2;D.anchor.x+=W;ad.x+=W;ae.x+=W}}else{if(G>F){W=G/2-ad.x;ad.x+=W;ae.x+=W}}I.caption.node.attr("x",ae.x);I.caption.node.attr("y",ae.y);D.node.attr("transform","translate("+D.anchor.x+","+D.anchor.y+")");I.node.attr("transform","translate("+ad.x+","+ad.y+")");I.pole=ad;I.labels.width=Y;I.labels.height=T};L=function(V,T,U){var S=[],R=[],Q;if(!V.length){return d3.scale.linear().domain([0,U]).range([0,2*Math.PI])}for(Q=0;Q<U;Q++){S.push(Q);R.push(Q/U*2*Math.PI)}for(Q=V.length-1;Q>=0;Q--){R.splice(V[Q].order,1)}return d3.scale.ordinal().domain(S).range(R)};function E(Q){n.drawBound(Q,G,F);O.startToInit();Q.each(function(ak){var X=d3.select(this),ag=z.wording;D.node=null;I.node=null;I.radiusLength=0;B=X;X.select(ag.dot.concat(D.clazz)).remove();X.select(ag.dot.concat(I.clazz)).remove();X.select(ag.dot+I.caption.name).remove();D.node=X.append("g").attr("class",D.clazz);I.node=X.append("g").attr("class",I.clazz+" datashapesgroup");I.caption.node=X.append("text").attr("class",I.caption.name);w.valueaxis.title.css.def=H.styleManager.query(w.valueaxis.title.css.key);w.polaraxis.labels.css.def=H.styleManager.query(w.polaraxis.labels.css.key);var ad,U,aa,ab,ai,ah,ae={},am=I.categories,Y=I.series,S=w.spacing.hgap,T=w.spacing.vgap,ao=I.radians;var W=[];for(ai=0;ai<am.length;ai++){W.push(N(am[ai],w.polaraxis.labels.css.def))}U=d3.max(W,function(ap){return ap.width});aa=d3.max(W,function(ap){return ap.height});M.domain([I.min,I.max]).range([200,0]);j.perfect(M);D.ref.scale(M).properties({label:{visible:true,formatString:t.valueAxis.label.formatString},title:{visible:t.valueAxis.title.visible,text:t.valueAxis.title.text},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}});D.width=t.valueAxis.visible?D.ref.getPreferredSize().width:0;if(D.width>0.5*G){D.width=0}s({valueaxis:D.width,lblW:U,lblH:aa,caption:{width:N(t.polarAxis.title.visible?t.polarAxis.title.text:0,w.polaraxis.labels.css.def).width,height:N(t.polarAxis.title.visible?t.polarAxis.title.text:0,w.polaraxis.labels.css.def).height,}});if(t.polarAxis.title.visible&&I.caption.width&&I.caption.height){I.caption.node.text(t.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle").style("font-family",w.valueaxis.title.css.def["font-family"]).style("font-size",w.valueaxis.title.css.def["font-size"]).style("font-weight",w.valueaxis.title.css.def["font-weight"]).style("fill",w.valueaxis.title.css.def.fill)}M.range([I.radiusLength,0]);j.perfect(M);D.ref.scale(M);if(t.valueAxis.visible&&D.width){D.node.call(D.ref)}var Z=I.node.append("g").attr("class","polaraxes-group").selectAll(w.polaraxis.clazz).data(am);Z.enter().append("g").attr("transform",function(ar,aq){var ap=aq/am.length*360-90;if(ap>-180&&ap<180){ao.push({axisIdx:aq,radian:-1*ap*Math.PI/180})}else{ao.push({axisIdx:aq,radian:(360-ap)*Math.PI/180})}return"rotate("+ap+") translate("+I.radiusLength+")"});Z.append("svg:line").attr("x2",-1*I.radiusLength).style("stroke",K.register({drawingEffect:"normal",fillColor:w.polaraxis.color})).style("stroke-width",w.polaraxis.weight).style("fill","transparent");ao.sort(function(aq,ap){return aq.radian-ap.radian});var aj;if(I.labels.width&&I.labels.height){Z.append("g").attr("class","categoryLabel").append("text").text(function(aq,ap){return aq}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(aq,ap){aj=ap/am.length*360-90;if(aj%90===0){if(aj===-90||aj===270){return"rotate(90) translate(0,"+(-1*(N(aq,w.polaraxis.labels.css.def).height/2+T))+")"}else{if(aj===0){return"translate("+(N(aq,w.polaraxis.labels.css.def).width/2+S)+")"}else{if(aj===180){return"rotate(180) translate("+(-1*(N(aq,w.polaraxis.labels.css.def).width/2+S))+")"}else{return"rotate(-90) translate(0,"+(N(aq,w.polaraxis.labels.css.def).height/2+T)+")"}}}}if((aj>-90&&aj<0)||(aj>0&&aj<90)){return"rotate("+(-1*aj)+") translate("+(N(aq,w.polaraxis.labels.css.def).width/2+S)+",0)"}return"rotate("+(-1*aj)+") translate("+(-1*(N(aq,w.polaraxis.labels.css.def).width/2+S))+",0)"}).style("font-family",w.polaraxis.labels.css.def["font-family"]).style("font-size",w.polaraxis.labels.css.def["font-size"]).style("fill",K.register({drawingEffect:"normal",fillColor:w.polaraxis.labels.css.def.fill}))}if(!I.min&&!I.max){O.initialized();return}M.domain([I.max,I.min]);j.perfect(M);ad=I.categories.length;aj=L([],ad,ad);var af=d3.svg.line.radial().interpolate("linear").radius(M).angle(function(aq,ap){return aj(ap)});var R=M.ticks(M.tickNum),ac=[],V=[];for(ai=0;ai<R.length;ai++){V=[];for(ah=0;ah<am.length;ah++){V.push(R[ai])}ac.push(V)}if(t.polarGrid.visible){I.node.append("g").attr("class","polargrid-group").selectAll("."+w.polargrid.clazz).data(ac).enter().append("path").attr("class",w.polargrid.childClazz).attr("d",function(ap){return af(ap)+"Z"}).style("fill","none").style("stroke",K.register({drawingEffect:"normal",fillColor:w.polargrid.color})).style("stroke-width",w.polargrid.weight)}I.node.append("g").attr("class","dataline-group").selectAll("."+w.line.clazz).data(Y).enter().append("path").attr("class",function(aq,ap){return ag.series.concat(ap+" ").concat(w.line.clazz)}).attr("d",function(ar,aq){if(!ar.length){return}var ap=[];aj=L([],ad,ad);for(var at=0;at<ar.length;at++){ap.push(ar[at].val)}if(ap.length!==I.categories.length){aj=L(E.vacants[aq],ap.length,ad)}return af(ap)+"Z"}).style("fill",function(aq,ap){if(!aq.length){return}if(t.surface.fill.visible){return K.register({drawingEffect:"normal",fillColor:aq[0].color})}}).style("fill-opacity",function(aq,ap){if(t.surface.fill.visible){return t.surface.fill.transparency}return 0}).style("stroke",function(aq,ap){if(!aq.length){return}return K.register({drawingEffect:"normal",fillColor:aq[0].color})}).style("stroke-width",t.line.width>p.dataline.weight[1]||t.line.width<p.dataline.weight[0]?z.options.line.width:t.line.width);var al=I.node.append("g").attr("class","marker-container").selectAll("."+w.marker.clazz).data(Y).enter().append("g");al.attr("class","marker-group").each(function(ap,aq){var au=E.vacants[aq],at=[];$.each(I.categories,function(av,aw){at.push(av/ad*2*Math.PI-0.5*Math.PI)});for(var ar=au.length-1;ar>=0;ar--){at.splice(au[ar].order,1)}d3.select(this).append("g").attr("class","marker-series").selectAll("."+w.marker.clazz).data(ap).enter().append("g").attr("class","datashape").attr("transform",function(ax,aw){var av=M(ax.val)*Math.cos(at[aw]);y=M(ax.val)*Math.sin(at[aw]);return"translate("+av+", "+y+") rotate(0)"}).append("path").attr("class",function(aw,av){return(ag.series+aq+" "+ag.data+aw.order+" "+w.marker.clazz+ag.measureIndex+aw.ctx.path.mi)}).attr("d",function(aw,av){return l.createMarkerData({type:aw.shape,rx:w.marker.size/2,ry:w.marker.size/2,borderWidth:2})}).style("fill",function(aw){var av={drawingEffect:t.drawingEffect,graphType:aw.shape,fillColor:aw.color,direction:"vertical",};return K.register(av)})});var an=I.node.append("g").attr("class","phantom-marker-group").selectAll(".phantom-marker-series").data(E.vacants).enter().append("g");an.attr("class","phantom-marker-series").each(function(ap,aq){d3.select(this).selectAll(".phantom-marker").data(ap).enter().append("path").attr("class",function(at,ar){return(ag.series+aq+" "+ag.data+at.order+" "+ag.measureIndex+at.ctx.path.mi)}).style("fill","none")});O.initialized()})}E.dataLabel=function(Q){};E.data=function(am){if(!arguments.length){return P}P=am,I.series=[],I.categories=[],I.radians=[],C=[],J=[],E.vacants=[];if(!E.caliberated){return E}var ae=P.getAnalysisAxisDataByIdx(0).values,al=P.getMeasureValuesGroupDataByIdx(0).values,ab=P.getAnalysisAxisDataByIdx(1),aa=P.getAnalysisAxisDataByIdx(2),Y=[],ao,ac,an,W=[],Z={aa2:{fed:ab!==null&&ab.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:aa!==null&&aa.values.length?true:false,axesFed:false,hasMND:false}},ah,ag,X;I.mndized=ae[0].type&&ae[0].type.toLowerCase()==="mnd"?true:false;for(ah=0;ah<ae.length;ah++){an=[];for(ag=0;ag<ae[ah].rows.length;ag++){an.push(ae[ah].rows[ag].val)}W.push(an)}ao=W.length,ac=W[0].length;if(ao===1){for(ah=0;ah<ac;ah++){I.categories.push(W[0][ah]===""||W[0][ah]===null?f.get("IDS_ISNOVALUE"):W[0][ah])}}else{var R=[];for(ah=0;ah<ac;ah++){for(ag=0;ag<ao;ag++){R.push(W[ag][ah])}I.categories.push(R.join(z.wording.slash));R=[]}}ac=al[0].rows[0].length;if(I.mndized){if(!Z.aa2.fed&&!Z.aa3.fed){J.push(I.color(0));C.push(I.shape(0))}if(Z.aa2.fed){for(ah=0;ah<ab.values[0].rows.length;ah++){J.push(I.color(ah))}if(!Z.aa3.fed){C.push(I.shape(0))}}if(Z.aa3.fed){for(ah=0;ah<aa.values[0].rows.length;ah++){C.push(I.shape(ah))}if(!Z.aa2.fed){J.push(I.color(0))}}for(ah=0;ah<al.length;ah++){for(ag=0;ag<al[ah].rows.length;ag++){for(X=0;X<ac;X++){al[ah].rows[ag][X].color=J[X]||I.color(0);if(Z.aa2.fed){al[ah].rows[ag][X].shape=C[ag]||I.shape(0)}else{al[ah].rows[ag][X].shape=C[X]||I.shape(0)}}}}var Q,ak=[],aj=[];for(ah=0;ah<al[0].rows.length;ah++){Q=[];for(ag=0;ag<al.length;ag++){Q.push(al[ag].rows[ah])}ak.push(Q)}for(ah=0;ah<ak.length;ah++){for(X=0;X<ac;X++){for(ag=0;ag<ak[ah].length;ag++,V=[]){aj.push(ak[ah][ag][X])}Y.push(aj);aj=[]}}$.each(Y,function(aq,at){var ap=at,au=[];for(var ar=0;ar<ap.length;ar++){ap[ar].order=ar;if(ap[ar].val===null){au.push(ap[ar])}}for(ar=ap.length-1;ar>=0;ar--){if(ap[ar].val===null){ap.splice(ar,1)}}E.vacants.push(au)});if(t.polarAxis.title.text==="Categories"){t.polarAxis.title.text=f.get("IDS_DEFAULTMND")}}else{if(Z.aa2.fed){for(ah=0;ah<ab.values.length;ah++){if(ab.values[ah].type&&ab.values[ah].type.toLowerCase()==="mnd"){Z.aa2.hasMND=true}}if(Z.aa2.hasMND){if(ab.values.length>=2){Z.aa2.axesFed=true}else{Z.aa2.axesFed=false}}else{Z.aa2.axesFed=true}}if(Z.aa3.fed){for(ah=0;ah<aa.values.length;ah++){if(aa.values[ah].type&&aa.values[ah].type.toLowerCase()==="mnd"){Z.aa3.hasMND=true}}if(Z.aa3.hasMND){if(aa.values.length>=2){Z.aa3.axesFed=true}else{Z.aa3.axesFed=false}}else{Z.aa3.axesFed=true}}var S=0,T=0,X,ai=Z.aa2.hasMND&&!Z.aa2.axesFed,U=Z.aa3.hasMND&&!Z.aa3.axesFed,V=[];for(ah=0;ah<al.length;ah++){if(ai){J.push(I.color(ah))}if(U){C.push(I.shape(ah))}for(ag=0;ag<al[ah].rows.length;ag++,V=[]){for(X=0;X<al[ah].rows[ag].length;X++){if(al[ah].rows[ag][X].val===null){V.push(al[ah].rows[ag][X])}al[ah].rows[ag][X].order=X}Y.push(al[ah].rows[ag]);E.vacants.push(V);if(Z.aa2.fed){if(ai){for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].color=I.color(ah)}}else{if(Z.aa2.hasMND&&Z.aa2.axesFed){S++;J.push(I.color(S));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].color=I.color(S)}}else{J.push(I.color(ag));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].color=I.color(ag)}}}}else{J.push(I.color(0));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].color=I.color(0)}}if(Z.aa3.fed){if(U){for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].shape=I.shape(ah)}}else{if(Z.aa3.hasMND&&Z.aa3.axesFed){T++;C.push(I.shape(T));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].shape=I.shape(T)}}else{if(Z.aa2.fed){if(Z.aa2.hasMND){C.push(I.shape(ag));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].shape=I.shape(ag)}}else{for(X=0;X<al[ah].rows[ag].length;X++){C.push(I.shape(X));al[ah].rows[ag][X].shape=I.shape(X)}}}}}}else{C.push(I.shape(0));for(X=0;X<al[ah].rows[ag].length;X++){al[ah].rows[ag][X].shape=I.shape(0)}}}}for(ah=0;ah<Y.length;ah++){for(ag=Y[ah].length-1;ag>=0;ag--){for(var af=0;af<E.vacants[ah].length;af++){if(E.vacants[ah][af].order===ag){Y[ah].splice(ag,1)}}}}if(t.polarAxis.title.text==="Categories"){t.polarAxis.title.text=v(ae)}}if(t.valueAxis.title.text==="Value"){var ad=[];for(ah=0;ah<al.length;ah++){ad.push(al[ah].col===""||al[ah].col===null?f.get("IDS_ISNOVALUE"):al[ah].col)}t.valueAxis.title.text=ad.join(z.wording.and)}I.series=Y;I.feedings=Z;if(!I.locked){A()}return E};function v(R){var S="";for(var Q=0;Q<R.length;Q++){S=S.concat(R[Q].col.val===null?f.get("IDS_ISNOVALUE"):R[Q].col.val+z.wording.slash)}return S.lastIndexOf(z.wording.slash)>0?S.substr(0,S.lastIndexOf(z.wording.slash)):S}E.primaryDataRange=function(Q){if(!arguments.length){return{min:I.min,max:I.max}}I.min=Q.min;I.max=Q.max;A(Q.min,Q.max);I.locked=true;return E};E.colorPalette=function(Q){if(!arguments.length){return J}J=Q;return E};E.shapes=function(Q){if(!arguments.length){return C}C=Q;return E};E.dispatch=function(Q){if(!arguments.length){return O}O=Q;return E};E.properties=function(Q){if(!arguments.length){return t}i.extend(true,t,Q);if(t.colorPalette.length){I.color.range(t.colorPalette)}if(t.shapePalette.length){I.shape.range(t.shapePalette)}w.marker.size=t.marker.size;if(w.marker.size>p.marker.size[1]||w.marker.size<p.marker.size[0]){w.marker.size=6}w.polargrid.color=t.polarGrid.color;E.caliberated=true;E.data(P);return E};E.afterUIComponentAppear=function(){O.initialized()};E.width=function(Q){if(!arguments.length){return G}var R=G===Q?false:true;G=Q;if(g.isEmptyObject(P)&&F){E.data(P)}if(R&&!I.locked){A()}return E};E.height=function(Q){if(!arguments.length){return F}var R=F===Q?false:true;F=Q;if(g.isEmptyObject(P)&&G){E.data(P)}if(R&&!I.locked){A()}return E};E.size=function(Q){if(!arguments.length){return{width:G,height:F}}G=Q;F=Q;if(g.isEmptyObject(P)&&G&&F){E.data(P)}if(G&&F&&I.series.length){A()}return E};E.parent=function(Q){if(!arguments.length){return B}B=Q;return E};E.hoverOnPoint=function(ad){var ae=I.pole,S,R,X=z.wording,U=I.radians,aa={x:ad.x-ae.x,y:ae.y-ad.y};R=Math.sqrt(Math.pow(aa.x,2)+Math.pow(aa.y,2));if(R>I.radiusLength){if(typeof E.last!=="undefined"&&(g.isEmptyObject(r))){o.straight(X.dot+X.data+E.last,true)}if(t.tooltip.enabled){I.prompt()}return}S=Math.atan2(aa.y,aa.x);var W=d3.bisector(function(af){return af.radian}).right,Q=W(U,S),Z,T,ac,Y;if(Q===0){T=U.length-1,ac=0;if(U[T].radian===Math.PI){Z=-1*(Math.PI+Math.abs(U[ac].radian))/2;Y=S>Z?Y=U[ac].axisIdx:Y=U[T].axisIdx}else{Y=U[0].axisIdx}}else{if(Q===U.length){Y=U[U.length-1].axisIdx}else{T=Q-1,ac=Q;Z=(U[T].radian+U[ac].radian)/2;Y=S>Z?Y=U[ac].axisIdx:Y=U[T].axisIdx}}if(typeof E.last!=="undefined"&&E.last!==Y){o.straight(X.dot+X.data+E.last,true)}o.focus(X.dot+X.data+Y,true);if(!g.isEmptyObject(r)){o.dim(X.dot+X.data+Y,true);for(var ab in r){for(var V=0;V<r[ab].length;V++){o.highlight(r[ab])}}}if(t.tooltip.enabled){I.prompt(Y)}E.last=Y};E.clear=function(){if(!arguments[0]){o.straight().bright();r={}}else{o.dim()}};E.highlight=function(Z){if(!I.min&&!I.max){return}var V=Z instanceof Array?Z:[Z],W=/[sS][0-9]+/,Y;u=typeof arguments[1]==="boolean"?"multiple":(typeof arguments[1]==="string"?arguments[1].toLowerCase():typeof arguments[2]==="string"?arguments[2].toLowerCase():"multiple");o.highlight(V);for(var U=0,X=false;U<V.length;U++,X=false){Y=V[U].className.baseVal.match(W)[0];if(r[Y]){for(var T=0;T<r[Y].length;T++){if(r[Y][T]===V[U]){X=true}}if(!X){r[Y].push(V[U])}}else{r[Y]=[];r[Y].push(V[U])}}if(u==="single"){return}var R,Q;for(var S in r){if(r.hasOwnProperty(S)){Q=S.substr(1);R=I.series[Q].length;q(S,r[S],R)}}};function q(Q,R,S){if(R.length===S){o.highlight2(z.wording.dot+Q,true)}else{o.highlight(R)}}E.unhighlight=function(Q){var R=Q instanceof Array?Q:[Q];o.straight(R).dim(R);if(u==="single"){r=[];return}$.each(R,function(S,W){var V=W.className.baseVal.match(/[sS][0-9]+/)[0];for(var U in r){for(var T=0;T<r[U].length;T++){if(r[U][T]===Q){r[U].splice(T,1);break}}}o.straight2(z.wording.dot+V).dim(z.wording.dot+V)})};E.blurOut=function(){O.hideTooltip()};I.prompt=function(){if(typeof arguments[0]==="undefined"){O.hideTooltip();return}var ae,aj={},W,al=arguments[0],ad=z.wording,T={},ag=0,X=I.radiusLength-w.tooltip.radialOffset,U=B[0][0].getTransformToElement(B[0][0].ownerSVGElement),af;for(af=0;af<I.radians.length;af++){if(I.radians[af].axisIdx===al){ag=I.radians[af].radian;break}}T.x=X*Math.cos(ag);T.y=X*Math.sin(ag);orient=ag<=0.5*Math.PI&&ag>-0.5*Math.PI?"left":"right";ae={body:[],plotArea:{x:U.e,y:U.f,width:G,height:F},point:{x:T.x+I.pole.x+U.e,y:T.y<0?Math.abs(T.y)+I.pole.y+U.f:I.pole.y-T.y+U.f,orientation:orient,angle:ag,range:{x:ag===0.5*Math.PI||ag===-0.5*Math.PI?0:Math.abs(T.x),y:ag===0||ag===Math.PI||ag===-1*Math.PI?0:Math.abs(T.y)}},footer:[]};var ab=P.getAnalysisAxisDataByIdx(0).values,Z=I.feedings.aa2.fed?P.getAnalysisAxisDataByIdx(1).values:null,Y=I.feedings.aa3.fed?P.getAnalysisAxisDataByIdx(2).values:null,ak=P.getMeasureValuesGroupDataByIdx(0).values;W=I.node.selectAll("."+ad.data+al);var Q,S,aa,R,af,ac,ai;if(I.mndized){aj={name:I.categories[al]===""||I.categories[al]===null?f.get("IDS_ISNOVALUE"):I.categories[al],val:[]};W.each(function(an){var am={};am.color=an.color;am.shape=an.shape;am.value=an.val!==null?an.val:f.get("IDS_ISNOVALUE");if(!I.feedings.aa2.fed&&!I.feedings.aa3.fed){am.label=null}if(I.feedings.aa2.fed){R=t.multichart?an.ctx.path.dii_a2:an.ctx.path.dii_a1;for(af=0,ai=[];af<Z.length;af++){ai.push(Z[af].rows[R])}Q=ai;if(!I.feedings.aa3.fed){am.label=Q}}if(I.feedings.aa3.fed){R=I.feedings.aa2.fed?an.ctx.path.dii_a2:an.ctx.path.dii_a1;for(af=0,ai=[];af<Y.length;af++){ai.push(Y[af].rows[R])}if(I.feedings.aa2.fed){S=ai;am.label=[];am.label=am.label.concat(Q);am.label=am.label.concat(S)}else{Q=ai;am.label=Q}}aj.val.push(am)});ae.body.push(aj)}else{if(!I.feedings.aa2.axesFed&&!I.feedings.aa3.axesFed){W.each(function(ao){var an={},am={name:ak[ao.ctx.path.mi].col,val:[]};an.color=ao.color;an.shape=ao.shape;an.value=ao.val!==null?ao.val:f.get("IDS_ISNOVALUE");an.label=null;am.val.push(an);ae.body.push(am)})}else{for(var V=0;V<ak.length;V++){aj={name:ak[V].col===null?f.get("IDS_ISNOVALUE"):ak[V].col,val:[]};W.each(function(ap){var an={};an.color=ap.color;an.shape=ap.shape;an.value=ap.val!==null?ap.val:f.get("IDS_ISNOVALUE");var am=d3.select(this)[0][0].className.baseVal.match(/\smi[0-9]+/);if(am!==null){am=am[0]}else{return}ai=[];if(am===(ad.measureIndex+V)){var ao=Z!==null?Z:Y;for(af=0;af<ao.length;af++){if(ap.ctx.path.dii_a2>ao[af].rows.length-1){ap.ctx.path.dii_a2=ao[af].rows.length-1}ai.push(ao[af].rows[ap.ctx.path.dii_a2])}an.label=ai}else{return}aj.val.push(an)});ae.body.push(aj)}}var ah={};for(af=0;af<ab.length;af++){ah={};ah.label=ab[af].col;ah.value=ab[af].rows[al];ae.footer.push(ah)}}O.showTooltip(b.formatTooltipData(ae))};o.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{natural:t.line.width,heavy:"2px"},opacity:{natural:1,low:0.2}};o.dim=function(){var R=z.wording;if(!arguments.length){I.node.selectAll(R.dot+w.line.clazz).attr("opacity",o.params.opacity.low);I.node.selectAll(R.dot+w.marker.clazz).attr("opacity",o.params.opacity.low)}else{if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).attr("opacity",o.params.opacity.low)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).attr("opacity",o.params.opacity.low)}else{I.node.select(arguments[0]).attr("opacity",o.params.opacity.low)}}}return o};o.bright=function(){var R=z.wording;if(!arguments.length){I.node.selectAll(R.dot+w.line.clazz).attr("opacity",o.params.opacity.natural);I.node.selectAll(R.dot+w.marker.clazz).attr("opacity",o.params.opacity.natural)}else{if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).attr("opacity",o.params.opacity.natural)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).attr("opacity",o.params.opacity.natural)}else{I.node.select(arguments[0]).attr("opacity",o.params.opacity.natural)}}}return o};o.straight=function(){var R=z.wording;if(!arguments.length){I.node.selectAll(R.dot+w.marker.clazz).style("stroke",o.params.stroke.invisible)}else{if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).style("stroke",o.params.stroke.invisible)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).style("stroke",o.params.stroke.invisible)}else{I.node.select(arguments[0]).style("stroke",o.params.stroke.invisible)}}}return o};o.straight2=function(){var R=z.wording;if(!arguments.length){I.node.selectAll(R.dot+w.marker.clazz).style("stroke-width",o.params.weight.natural)}else{if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).style("stroke-width",o.params.weight.natural)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).style("stroke-width",o.params.weight.natural)}else{I.node.select(arguments[0]).style("stroke-width",o.params.weight.natural)}}}return o};o.highlight=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).style("stroke",o.params.stroke.heavy).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).style("stroke",o.params.stroke.heavy).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}else{I.node.select(arguments[0]).style("stroke",o.params.stroke.heavy).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}}return o};o.highlight2=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}else{I.node.select(arguments[0]).style("stroke-width",o.params.weight.heavy).attr("opacity",o.params.opacity.natural)}}return o};o.focus=function(){if(!arguments.length){return}if(arguments[0] instanceof Array){for(var Q=0;Q<arguments[0].length;Q++){d3.select(arguments[0][Q]).style("stroke",o.params.stroke.natural).style("stroke-width",o.params.weight.natural)}}else{if(arguments[1]){I.node.selectAll(arguments[0]).style("stroke",o.params.stroke.natural).style("stroke-width",o.params.weight.natural)}else{I.node.select(arguments[0]).style("stroke",o.params.stroke.natural).style("stroke-width",o.params.weight.natural)}}return o};return E}});sap.riv.module({qname:"sap.viz.modules.manifests.Radar",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.radar",version:"4.0.0"},{qname:"sap.viz.feeds.Radar",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.radar",type:b.Module.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of radar.",isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set polar gridline visibility switch."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set polar gridline color."}},description:"Settings for Polar gridline customizations."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set value axis visibility switch."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set value axis title visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set value axis title text."},},description:"Settings for value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},description:"Settings for axis label."}},description:"Settings for value axis at side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set category axis visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set category axis text."}}}},description:"Settings for polar axes customizations."},colorPalette:{name:"colorPalette",defaultValue:b.SAPColor,description:"Set marker color customizations."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape customizations."},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Line weight settings. Range is [1, 7]"}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:"fill",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable fill effect for polar area."},transparency:{name:"transparency",supportedValueType:"Double",defaultValue:0.3,description:"Set alpha value for polar area fill color."},}}},description:"Settings for Surface customizations."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set marker size customization."}},description:"Settings for marker/data point graphics."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set tooltip enablement."}},isExported:false,description:"Settings for tooltip customization."},},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title":{description:"Font style for polar axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}},".viz-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif",fill:"#333333","font-size":"11px","font-weight":"bold"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_radar",name:"IDS_MULTIRADARCHART",base:"riv/base/multiple/xy",modules:{legend:{data:{aa:[3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},configure:{properties:{mergeDataRange:["primary"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{orientation:"vertical",position:"outside",automaticInOutside:false,outsidePosition:"up"},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:"background",properties:{visible:false}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},regionShape:{max:0}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapes"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.modules.controller.rotate",version:"4.0.0"},[],function Setup(){return function(a){var f=null,j=null,k=a.props(null),l=0,d=0,c=false;var i=function(){return i};i.registerEvent=function(){j.on("mousedown.rotate",b).on("mousemove.rotate",e).on("mouseup.rotate",h);$(j.node()).mouseleave(h);var g=f.rotate();l=g.xAngle;d=g.yAngle};function b(){oldX=d3.event.layerX;oldY=d3.event.layerY;c=true}function e(){if(c==true){var g=d3.event.layerX;var m=d3.event.layerY;d+=(oldX-g)/2;if(d>180){d-=360}else{if(d<-180){d+=360}}l+=(m-oldY)/2;if(l>90){l=90}else{if(l<-90){l=-90}}oldX=g;oldY=m;f.rotate({xAngle:l,yAngle:d})}}function h(){c=false}i.module=function(g){if(!arguments.length){return f}f=g;j=f.parent();return i};i.properties=function(g){if(!arguments.length){return k}k=g;return i};return i}});sap.riv.module({qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.controller.rotate",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Base",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.controller.rotate",name:"selection",base:"sap.viz.modules.controller.base",description:"Settings for the interactions of the chart.",properties:{},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"}],function Setup(a,b){function c(){a.apply(this,arguments)}c.prototype=Object.create(a.prototype);c.prototype.transform=function(d){var f=new b(0,0,0).transform(d);var e=new b(this.value(0),this.value(1),this.value(2)).transform(d);this.value(0,e.x-f.x);this.value(1,e.y-f.y);this.value(2,e.z-f.z);return this};return c});sap.riv.module({qname:"sap.viz.modules.threeD.cube",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"}],function Setup(d,b,a,c){return function(){var i,f,j,h,g;function e(m){var n=m.selectAll("g.cube").data(function(t,r){var s=d3.functor(i).apply(this,arguments);var p=d3.functor(f).apply(this,arguments);var q=d3.functor(j).apply(this,arguments);var o=d3.functor(h).apply(this,arguments);var u=d3.functor(g).apply(this,arguments);return[{wv:s,hv:p,dv:q,m:o,data:t,c:u}]});n.exit().remove();n.enter().append("g").attr("class","cube datapoint normal");var l=function(o,p,q){return[[0,0,0],[0,p,0],[0,p,q],[0,0,q],[o,0,0],[o,p,0],[o,p,q],[o,0,q]]};var k=n.selectAll('rect[class|="cube-surface"]').data(function(t){var q=t.wv;var v=t.hv;var o=t.dv;var u=t.c;var x=d3.rgb(u).hsl();var p=x.l;var r=d3.hsl(x.h,x.s,p*1.06).rgb().toString();var s=d3.hsl(x.h,x.s,p*0.94).rgb().toString();var w=new Array({m:a().rotateX(90).translate(0,v,0).transform(t.m),type:"bottom"},{m:a().rotateY(180).translate(0,0,o).transform(t.m),type:"back"},{m:a().rotateY(90).transform(t.m),type:"left"},{type:"front",m:t.m},{m:a().rotateY(-90).translate(q,0,0).transform(t.m),type:"right"},{m:a().rotateX(-90).transform(t.m),type:"top"});w.forEach(function(z){z.normal=new b(0,0,-1).transform(z.m)});w=w.filter(function(z){return z.normal.value(2)<0});w.forEach(function(A){switch(A.type){case"bottom":A.x=0;A.y=0;A.w=q;A.h=o;break;case"back":A.x=-q;A.y=0;A.w=q;A.h=v;break;case"left":A.x=-o;A.y=0;A.w=o;A.h=v;break;case"front":A.x=0;A.y=0;A.w=q;A.h=v;break;case"right":A.x=0;A.y=0;A.w=o;A.h=v;break;case"top":A.x=0;A.y=-o;A.w=q;A.h=o;break}var z=A.normal.value(0);A.fill=z===0?r:(z<0?u:s)});return w});k.exit().remove();k.enter().append("rect").attr("class",function(o){return"cube-surface-"+o.type});k.attr("x",function(o){return o.x}).attr("y",function(o){return o.y}).attr("width",function(o){return o.w}).attr("height",function(o){return o.h}).attr("transform",function(o){if(o.m){return o.m.projection()}}).attr("fill",function(o){return o.fill});n.each(function(s){var q=0;if(s.m){var p=s.m.row(2);q=new d(0,s.hv,0,1).dotProduct(p)}d3.select(this.parentNode).datum().flbpz=q;var o=l(s.wv,s.hv,s.dv),r=[];o.forEach(function(t){r.push(new c(t[0],t[1],t[2]).transform(s.m))});r.sort(function(u,t){return(t.x-u.x)});r.splice(2);r.sort(function(u,t){return(u.y-t.y)});s.rtp=r[0]});m.sort(function(p,o){return d3.descending(p.flbpz,o.flbpz)})}e.width=function(){if(arguments.length===0){return i}i=arguments[0];return e};e.height=function(){if(arguments.length===0){return f}f=arguments[0];return e};e.depth=function(){if(arguments.length===0){return j}j=arguments[0];return e};e.matrix=function(){if(arguments.length===0){return h}h=arguments[0];return e};e.color=function(){if(arguments.length===0){return g}g=arguments[0];return e};return e}});sap.riv.module({qname:"sap.viz.modules.bar3d",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.threeD.cube",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.tooltip",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"}],function Setup(h,l,g,b,i,e,d,f,a,k,c){var j=0.5;return function(s){var G=0,F=0,Q,x=s.props(null),H=i();var M,L=f("initialized","showTooltip","hideTooltip","valueScaleChange","primaryCategoryScaleChange","secondaryCategoryScaleChange");var C=null;var u=null;var z={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var D={"sap.viz.modules.column3d.dimension":{key:"sap.viz.modules.column3d.dimension",values:[{col:{val:""},rows:[]}]}};var o=d3.scale.ordinal(),J=d3.scale.ordinal(),N=d3.scale.linear();var w=b();var I=d3.scale.ordinal();function E(Y){C=Y;var aa=Y.selectAll("style").data([".normal rect{stroke:#FFF; opacity:1} .selected rect{stroke:#000; opacity:1} .deselected rect{stroke:#FFF; opacity:0.4}"]);aa.exit().remove();aa.enter().append("style");aa.text(String);I.range(x.colorPalette);var T=o.rangeBand();var R=J.rangeBand();var X=B();var S=T/(1+2*j);var W=S;var U=S*j;var Z=X?function(ab){return F-N(ab.data.val)}:function(ab){return N(ab.data.val)};w.width(X?S:Z).height(X?Z:S).depth(W).matrix(function(ae){var ac=ae.aa1*T+U;var ab=X?ac:0;var af=X?N(ae.data.val):F-ac;var ad=ae.aa2*R+U;return i().translate(ab,af,ad).transform(H)}).color(function(ab){return I(ab.aa2)});var V=Y.select("g.mainshapesgroup");if(!a.isExist(V[0][0])){V=Y.append("g").attr("class","mainshapesgroup")}var m=V.selectAll("g.datashape").data(M);m.exit().remove();m.enter().append("g").attr("class","datashape");w(m);L.initialized()}E.afterUIComponentAppear=function(){L.initialized()};E.width=function(m){if(!arguments.length){return G}G=m;if(B()){r();p()}else{q()}return E};E.height=function(m){if(!arguments.length){return F}F=m;if(B()){q()}else{r();p()}return E};E.primaryCategoryScale=function(m){if(!arguments.length){return o}o=m;return E};E.secondaryCategoryScale=function(m){if(!arguments.length){return J}J=m;return E};E.valueScale=function(m){if(!arguments.length){return N}N=m;return E};E.data=function(ad){if(!arguments.length){return Q}Q=ad;var ag=h(Q);A(ag,Q);var af=ag.MG1;var Z;var R=af[0].length;var V=new Array(R);for(Z=0;Z<R;Z++){V[Z]=Z}o.domain(V);var T=af.length;var aa=new Array(T);for(Z=0;Z<T;Z++){aa[Z]=Z}J.domain(aa);p();M=[];for(var Z=0,Y=af.length;Z<Y;Z++){var S=af[Z];for(var X=0,U=S.length;X<U;X++){M.push({data:S[X],aa2:Z,aa1:X})}}var ae=d3.extent(M,function(ah){return ah.data.val});var W=ae[0],ac=ae[1];var m=W>=0?0:W;var ab=ac<=0?0:ac;if(m===0&&ab===0){ab=100}N.domain([m,ab]);l.perfect(N);return E};E.properties=function(m){if(!arguments.length){return x}g.extend(true,x,m);r();p();q();return E};E.colorPalette=function(m){if(!arguments.length){return x.colorPalette}x.colorPalette=m;return this};E.matrix=function(m){if(!arguments.length){return H}H=m;return this};E.secondaryCategoryData=function(m){if(!arguments.length){return z}z=m;return this};E.primaryCategoryData=function(m){if(!arguments.length){return D}D=m;return E};E.dispatch=function(m){if(!arguments.length){return L}L=m;return E};E.parent=function(){if(!arguments.length){return C}C=_;return E};E.highlight=function(m){if(m instanceof Array){for(var R=0;R<m.length;R++){var S=m[R].getAttribute("class");S=S.replace("normal","selected");S=S.replace("deselected","selected");m[R].setAttribute("class",S)}}else{var S=m.getAttribute("class");S=S.replace("normal","selected");S=S.replace("deselected","selected");m.setAttribute("class",S)}};E.unhighlight=function(m){if(m instanceof Array){for(var R=0;R<m.length;R++){var S=m[R].getAttribute("class");S=S.replace("selected","deselected");S=S.replace("nomral","deselected");m[R].setAttribute("class",S)}}else{var S=m.getAttribute("class");S=S.replace("selected","deselected");S=S.replace("nomral","deselected");m.setAttribute("class",S)}};E.clear=function(m){if(m==null){C.selectAll(".datapoint").each(function(S){var R=this.getAttribute("class");if(R.indexOf("deselected")!=-1){R=R.replace("deselected","normal")}else{R=R.replace("selected","normal")}this.setAttribute("class",R)})}else{C.selectAll(".datapoint").each(function(S){var R=this.getAttribute("class");R=R.replace("selected","deselected");R=R.replace("normal","deselected");this.setAttribute("class",R)})}};E.mouseover=function(V){if(u===V){return}var R={body:[],footer:[]};var W=V.__data__.data,Y=R.body,ab=R.footer;var ad=W.data.ctx.path;Y.push({name:Q.getMeasureValuesGroupDataByIdx(0).values[ad.mi].col,val:[{value:W.data.val,color:V.__data__.c,shape:"squareWithRadius"}]});var m=Q.getAnalysisAxisDataByIdx(0),U=ad.dii_a1;if(m){for(var X=0,aa=m.values.length;X<aa;X++){ab.push({label:m.values[X].col.val,value:m.values[X].rows[U].val,})}}var ac=Q.getAnalysisAxisDataByIdx(1),S=ad.dii_a2;if(ac){for(var X=0,aa=ac.values.length;X<aa;X++){if(ac.values[X].type==="MND"){continue}ab.push({label:ac.values[X].col.val,value:ac.values[X].rows[S].val,})}}var T=C.node().getTransformToElement(C.node().ownerSVGElement);var Z=V.__data__.rtp;R.point={x:Z.x+T.e,y:Z.y+T.f};R.plotArea={x:T.e,y:T.f,width:G,height:F};u=V;L.showTooltip(c.formatTooltipData(R))};E.mouseout=function(m){u=null;L.hideTooltip()};function B(){return x.direction==="vertical"}function r(){o.rangeBands(B()?[0,G]:[F,0]);L.primaryCategoryScaleChange(o,B()?[0,G]:[F,0])}function p(){J.rangeBands([0,o.rangeBand()*J.domain().length]);L.secondaryCategoryScaleChange(J,[0,o.rangeBand()*J.domain().length])}function q(){N.range(B()?[F,0]:[0,G]);L.valueScaleChange(N,B()?[F,0]:[0,G])}var n=function(R){var m=e.get("IDS_ISNOVALUE");if(R===null||R===undefined){return m}else{return R}};var t=function(R){for(var m=0;m<R.length;++m){R[m].val=n(R[m].val)}return R};var v=function(R){var m={};switch(R.aa){case 0:m.dii_a1=R.dii;break;case 1:m.dii_a2=R.dii;break;case 2:m.dii_a3=R.dii;break}return m};var P=function(U,m){var W,X=[],T,S;var R=O(W,U,T);T=R.feedsLength;var V=O(W,m,S);S=V.feedsLength;z["sap.viz.modules.column3d.dimension"].values[0].rows=V.labels;D["sap.viz.modules.column3d.dimension"].values[0].rows=R.labels};var K=function(U,T){var m=U[0];var R=function(V){var X=m;m=[];for(var Z=0;Z<X.length;Z++){for(var Y=0;Y<V.length;Y++){var ab=(X[Z].val===undefined)?X[Z].val:X[Z].val,aa=(V[Y].val===undefined)?V[Y].val:V[Y].val;var W={path:{}};d.extend(W.path,X[Z].ctx.path,V[Y].ctx.path);m.push({val:ab+T+aa,ctx:W})}}};for(var S=1;S<U.length;S++){R(U[S])}return m};var O=function(Z,aa,S){var W=[],ab=[],R=" / ",m=" - ";var Y,U=false,V,T,X;if(aa&&aa.length>0){for(V=0,X=aa.length;V<X;V++){if(aa[V].type!=="MND"){if(Z===undefined){Z=n(aa[V].col.val)}else{Z=Z+R+n(aa[V].col.val)}ab=aa[V].rows;for(T=0;T<ab.length;T++){if(W[T]===undefined){W[T]={};W[T].val=n(ab[T].val);W[T].ctx={path:v(ab[T].ctx.path)}}else{W[T].val=W[T].val+R+n(ab[T].val)}}}else{Y=V}}S=W.length}if(Y!==undefined){if(W.length>0){if(aa[Y].rows.length>1){if(Y===0){Z=e.get("IDS_DEFAULTMND")+m+Z;W=K([t(aa[Y].rows),W],m);S=S*aa[Y].rows.length}else{if(Y===aa.length-1){Z=Z+m+e.get("IDS_DEFAULTMND");W=K([W,t(aa[Y].rows)],m);S=S*aa[Y].rows.length}}}}else{Z=e.get("IDS_DEFAULTMND");ab=aa[Y].rows;for(T=0;T<ab.length;T++){ab[T].val=n(ab[T].val);W.push(ab[T])}S=ab.length;if(ab.length===1){U=true}}}return{title:Z,labels:W,feedsLength:S,MNDInfo:{MNDIndex:Y,hasOnlyMND:U}}};function A(){var R=null,m=null;var S=Q.getAnalysisAxisDataByIdx(0);if(S){R=S.values}S=Q.getAnalysisAxisDataByIdx(1);if(S){m=S.values}P(R,m)}return E}});sap.riv.module({qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.bar3d",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"}],function Setup(d,c,b){var a={id:"sap.viz.modules.bar3d",name:"3d bar",type:b.Module.Type.Chart,fn:c,properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set color palette."},direction:{name:"direction",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"vertical",description:"Set direction.",isExported:false}},feeds:{id:"xy",configure:{secondaryValues:null}}};d.register(a)});sap.riv.module({qname:"sap.viz.modules.xyzlayout",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"}],function Setup(a,f,d){var e=function(k,j,m){var l=[{x:0,y:0,z:0},{x:0,y:0,z:m},{x:k,y:0,z:0},{x:k,y:0,z:m},{x:0,y:j,z:0},{x:0,y:j,z:m},{x:k,y:j,z:0},{x:k,y:j,z:m}];return l.map(function(n){return new d(n.x,n.y,n.z)})};var c=function(j,k){var q=j[0];q.transform(k);var s=q.x,r=q.y,p=q.x,o=q.y;for(var l=1,n=j.length;l<n;l++){q=j[l];q.transform(k);s=Math.min(s,q.x);r=Math.min(r,q.y);p=Math.max(p,q.x);o=Math.max(o,q.y)}return{x:s,y:r,z:p,w:o}};var b=function(k,l,j,m){return{top:0,left:k.west.size.width,bottom:k.south.size.height>k.east.size.height?k.south.size.height:k.east.size.height,right:k.east.size.height}};var g=function(l,t,r,n){var k=r.z-r.x;var j=r.w-r.y;var m=t-n.bottom-n.top;var s=l-n.left-n.right;var q=s/k;var p=m/j;var o=Math.min(q,p);return{x:o,y:p,z:o}};var h=function(l,u,s,o,n,k,v,w){var j=e(l,u,s);var t=c(j,o);var r={x:t.x,y:t.y,x:t.z,w:t.w};var q=b(w,n,k,v);var p=g(l,u,t,q);return p};var i=function(p){var H={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var Z=p.hgap||H.hgap,L=p.vgap||H.vgap,U=p.padding||H.padding,o=p.bias||"none";var V=p.m_xaxis,G=p.m_yaxis,u=p.m_zaxis,r=p.m_plot,Y=p.m_background;var T=p.size.width,s=p.size.height;var k=p.xAngle,E=p.yAngle;var N={},C=p.prefs;var H={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var Z=p.hgap||H.hgap,L=p.vgap||H.vgap,U=p.padding||H.padding,o=p.bias||"none";var V=p.m_xaxis,G=p.m_yaxis,u=p.m_zaxis,r=p.m_plot,Y=p.m_background;var T=p.size.width,s=p.size.height;var k=p.xAngle,E=p.yAngle;var N={},C=p.prefs;if(!p.finalLayout){F=N.center={};F.bounds={x:0,y:0,width:T,height:s};return N}var ab=C.west.size.width,K=C.west.size.height,ad=C.south.size.width,M=C.south.size.height,X=C.east.size.width,J=C.east.size.height;var Q=f();Q.transform(f().rotateY(E).rotateX(k));var I=e(T,s,X);var ag=c(I,Q);var l=b(C,V,G,u);var aa=g(T,s,ag,l);N.scale=aa;K=s-M;Q.scale(aa.x,aa.y,aa.z);V.scale(aa.x,aa.y,aa.z);G.scale(aa.x,aa.y,aa.z);u.scale(aa.x,aa.y,aa.z);r.scale(aa.x,aa.y,aa.z);I=e(T,s,X);var D=c(I,Q);var j=D.w-D.y;var n=D.z-D.x;var B=(T-n)/2;var z=(s-j)/2+Math.abs(new d(0,0,X).transform(Q).y);var F=N.west={};var v=new d(0,0,0).transform(Q);var A=new d(0,K,0).transform(Q);var w=Math.sqrt(Math.pow(A.y-v.y,2)+Math.pow(A.x-v.x,2));F.bounds={x:v.x-ab,y:v.y-7.5,width:X,height:w};G.rotateY(-90).translate(v.x,v.y,0).transform(f().rotateY(E).rotateX(k));F=N.south={};var q=f().rotateY(E).rotateX(k);var af=new d(0,K,0).transform(Q);var W=new d(0,K,0).transform(q);var R=new d(ad,K,0).transform(q);var P=Math.sqrt(Math.pow(R.y-W.y,2)+Math.pow(R.x-W.x,2));F.bounds={x:af.x,y:af.y,width:P*aa.x,height:M};F.angle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;F.labelAngle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;F.tickAngle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;V.rotateX(-90).transform(f().rotateY(E).rotateX(k)).translate(W.x,W.y,0);F=N.center={};var S=new d(0,0,0).transform(Q);F.bounds={x:S.x,y:S.y,width:ad,height:K-C.west.endPadding};r.transform(f().rotateY(E).rotateX(k)).translate(S.x,S.y,0);F=N.east={};var O=new d(ad,K-C.west.endPadding,0).transform(Q);var x=new d(ad,0,0).transform(q);var ae=new d(ad,0,X).transform(q);var ac=Math.sqrt(Math.pow(ae.y-x.y,2)+Math.pow(ae.x-x.x,2));F.bounds={x:O.x,y:O.y,width:ac*aa.z,height:J};F.angle=Math.atan(q.value(1,2)/q.value(0,2))*180/Math.PI;F.labelAngle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;F.tickAngle=Math.atan(q.value(1,0)/q.value(0,0))*180/Math.PI;u.rotateY(-90).rotateZ(-90).transform(f().rotateY(E).rotateX(k)).translate(x.x,x.y,0);F=N.background={};var t=new d(ab+X,0,0).transform(G);F.bounds={x:t.x,y:t.y,width:ad,height:K-C.west.endPadding};Y.scale(N.scale.x,N.scale.y,N.scale.z).transform(f().rotateY(E).rotateX(k)).translate(t.x,t.y,0);return N};return i});sap.riv.module({qname:"sap.viz.modules.xyzcontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.xyzlayout",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Vector3D",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,g,d,l,k,c,e,i,b,f,j){var h=function(B,I){function U(ae){return k.module.get(ae).execute(I)}var m=0,o=0,n={},Z={},R={},N={},r={},S,A=null;var F=new e("initialized","showTooltip","hideTooltip"),X=0;var q=B.props(null);var p=20,O=50;var V=0;var w=d3.scale.linear();var ad=d3.scale.ordinal();var J=d3.scale.ordinal();var ab=function(aj,ag){var af={},ai,ae,ah;if(ag){if(aj){ai=aj.propertyCategory;ae=n;ah={};ah[ai]=aj.properties;g.extend(true,af,ah,ae)}else{af=n}}else{if(aj){ai=aj.propertyCategory;ae=n[ai];ah=aj.properties;g.extend(true,af,ah,ae)}}return af};var W=function(aj,ag){var ae=R.modules;var af,ai,ah;if(ae[aj]&&N[aj]){ai=ae[aj].configure;if(ag){af=n}else{if(ai){ah=ai.propertyCategory;af=g.extend(true,{},n[ah])}else{af={}}}N[aj].properties(af)}};function t(){if(a.isEmptyObject(R)){d.error("Container configuration missing")}X=0;C("xAxis");C("yAxis");C("zAxis");C("background");var ai=R.modules.plot;if(!ai){return}var aj=N.plot=U(ai.id);var ae=new c(Z);aj.data(ae.getDataAdapter());var ah;if(ai.configure){ah=ab(ai.configure);aj.properties(ah)}if(aj.dispatch){var af=aj.dispatch();if(af.initialized){X++;af.on("initialized.xycontainer",z)}if(af.showTooltip){af.on("showTooltip.xycontainer",ac)}if(af.hideTooltip){af.on("hideTooltip.xycontainer",E)}}var ak=R.modules.dataLabel;if(a.isExist(ak)&&a.isExist(aj.dataLabel)){var ag=N.dataLabel=U(ak.id);aj.dataLabel(ag);ag.plot(aj);if(ak.configure){ah=ab(ak.configure);ag.properties(ah)}}if(N.xAxis&&!r.xAxis){r.xAxis=A.append("g").attr("class","xAxis")}if(N.yAxis&&!r.yAxis){r.yAxis=A.append("g").attr("class","yAxis")}if(N.zAxis&&!r.zAxis){r.zAxis=A.append("g").attr("class","zAxis")}if(N.plot&&!r.plot){r.plot=A.append("g").attr("class","plot")}if(N.background&&!r.background){r.background=A.insert("g",":first-child").attr("class","background")}}function s(ag){if(N[ag]){var af=R.modules[ag];var ae=af.data;if(ae){N[ag].data(Z.createDataAdapterForModule(ae))}}}function C(ah){if(!R.modules[ah]){return}var ag=R.modules[ah],af=N[ah]=U(ag.id);s(ah);var ae=ab(ag.configure);af.properties(ae);if(af.dispatch&&af.dispatch()["initialized"]){X++;af.dispatch().on("initialized.xycontainer",z)}}var G=function(af,ae,ah){var ag=[{x:0,y:0,z:0},{x:0,y:0,z:ah},{x:af,y:0,z:0},{x:af,y:0,z:ah},{x:0,y:ae,z:0},{x:0,y:ae,z:ah},{x:af,y:ae,z:0},{x:af,y:ae,z:ah}];return ag.map(function(ai){return new b(ai.x,ai.y,ai.z)})};var aa=function(ae,af){var ak=ae[0];ak.transform(af);var am=ak.x,al=ak.y,aj=ak.x,ai=ak.y;for(var ag=1,ah=ae.length;ag<ah;ag++){ak=ae[ag];ak.transform(af);am=Math.min(am,ak.x);al=Math.min(al,ak.y);aj=Math.max(aj,ak.x);ai=Math.max(ai,ak.y)}return{x:am,y:al,z:aj,w:ai}};function H(ae){return ae*Math.PI/180}var Y=function(aw,am,ao,at,aq,ae,al,aj,af){var ax=K("south",aw,"xAxis",ad,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ar=Math.abs(H(ax));var ak=K("west",aw,"yAxis",w,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ag=Math.abs(H(ak));var au=K("none",aw,"zAxis",J,ao,0,0,at,aq,ae,am.x0,am.x1,am.y0,am.z0,am.z1);var ap=Math.abs(H(au));var ah=0,an=0,av=0,ai=0;ah=aj.width*Math.cos(ag);if(au<=1&&ax>0&&!(au==1&&ax==91&&p>0)){ah=(ah>al.height*Math.cos(ar))?ah:al.height*Math.cos(ar);av=af.height*Math.cos(ap);ai=(al.height*Math.sin(ar)>af.height*Math.sin(ap))?al.height*Math.sin(ar):af.height*Math.sin(ap)}else{ah=(ah>af.height*Math.cos(ap))?ah:af.height*Math.cos(ap);av=al.height*Math.cos(ar);ai=(al.height*Math.sin(ar)>af.height*Math.sin(ap))?al.height*Math.sin(ar):af.height*Math.sin(ap)}return{top:0,left:ah,bottom:ai,right:av}};var x=function(an,ah,al,ai,ag){var af=al.z-al.x;var ae=al.w-al.y;var am=an/af;var ak=ah/ae;var aj=Math.min(am,ak);return{x:aj,y:ak,z:aj}};var v=function(af,am,ak,ag){var ae=G(af,am,ak);var al=aa(ae,ag);var aj={x:al.x,y:al.y,x:al.z,w:al.w};var ai=Y();var ah=x(af,am,al,ai);return ah};var L=function(ah){var al=new f(0,0,1);var aj=false,am=false,ak=false;var an=new b(0,0,0);var ae=new b(1,0,0);var ap=new b(0,-1,0);var ao=new b(0,0,1);an.transform(ah);ae.transform(ah);ap.transform(ah);ao.transform(ah);var ai=new f(ae.x-an.x,ae.y-an.y,ae.z-an.z),ag=new f(ap.x-an.x,ap.y-an.y,ap.z-an.z),af=new f(ao.x-an.x,ao.y-an.y,ao.z-an.z);if(al.dotProduct(ai)<0){aj=true}if(al.dotProduct(ag)<0){am=true}if(al.dotProduct(af)>0){ak=true}return{isRenderRT:aj,isRenderTP:am,isRenderFT:ak,renderingOrderX:ai,renderingOrderY:ag,renderingOrderz:af}};function M(ap,af,an,ag,al,ai){var ah,ae,ao,am,ak,aj;ao=an+al;if(ap.isRenderFT){ah=af;if(ap.isRenderTP){ak=0}else{ak=ai}}else{ah=af+ag;if(ap.isRenderTP){ak=ai}else{ak=0}}if(ap.isRenderRT){aj=0;if(ap.isRenderTP){ae=af+ag}else{ae=af}}else{aj=ai;if(ap.isRenderTP){ae=af}else{ae=af+ag}}return{x0:ah,x1:ae,y0:ao,z0:ak,z1:aj}}function K(ak,aA,ag,aC,ar,ay,ai,az,al,am,ax,av,ah,ao,an){var aB,at,au,af;var aj,aw,ae,ap,aq;switch(ak){case"south":aB=new b(ay,ah,ao);aq=(0==ao)?-am:am;au=new b(ay,ah,ao+aq);at=new b(ay+az,ah,ao);break;case"north":aB=new b(ay,al-ah,am-ao);aq=(0==ao)?-am:am;au=new b(ay,ah,am-ao+aq);at=new b(ay+az,al-ah,am-ao);break;case"west":aB=new b(ax,ai,an);au=new b(ax-az,ai,an);at=new b(ax,ai-al,an);break;case"east":aB=new b(az-ax,ai+al,am-an);au=new b(az,ai+al,am-an);at=new b(az-ax,ai,am-an);break;default:aB=new b(av,ah,0);aq=(ay==av)?-az:az;au=new b(av+aq,ah,0);at=new b(av,ah,am);break}aB.transform(ar);au.transform(ar);at.transform(ar);if(ak=="west"){ae=0;ap=0}else{af=new f(au.x-aB.x,au.y-aB.y,at.z-aB.z);ae=Math.atan2(af.values[0],af.values[1])*180/Math.PI+90;if(ae>90){ae-=180}else{if(ae<-90){ae+=180}}ae=D(ae);ap=Math.atan2(af.values[1],af.values[0])*180/Math.PI}N[ag].labelAngle(ae).tickAngle(ap);af=new f(at.x-aB.x,at.y-aB.y,at.z-aB.z);r[ag].attr("transform","translate("+aB.x+" "+aB.y+")");aw=Math.atan2(af.values[1],af.values[0])*180/Math.PI+90;if(ak==="none"&&aw==0){aw=-1}N[ag].angle(aw);N[ag].labelAlign("start");aj=(at.x-aB.x)*(at.x-aB.x)+(at.y-aB.y)*(at.y-aB.y);if(aj<0.01){aj=0}if(ak=="west"){N[ag].height(Math.sqrt(aj))}else{N[ag].width(Math.sqrt(aj))}if(aC.rangeBands){aC.rangeBands([0,Math.sqrt(aj)])}else{aC.range([Math.sqrt(aj),0])}return ae}function D(ae){var af=ae%360;if(-271<af&&af<-270){return -271}else{if(-270<=af&&af<-269){return -269}}if(-181<af&&af<-180){return -181}else{if(-180<=af&&af<-179){return -179}else{if(-91<af&&af<-90){return -91}else{if(-90<=af&&af<-89){return -89}else{if(-1<af&&af<0){return -1}else{if(0<=af&&af<1){return 1}else{if(89<af&&af<90){return 89}else{if(90<=af&&af<91){return 91}else{if(179<af&&af<180){return 179}else{if(180<=af&&af<181){return 181}else{if(269<af&&af<270){return 269}else{if(270<=af&&af<271){return 271}else{if(359<af&&af<360){return 359}}}}}}}}}}}}}return Math.round(ae)}function T(at){V++;if(a.isEmptyObject(N)||!m||!o){return}m=m<0?0:m;o=o<0?0:o;if(V%4!=0){N.plot.width(m).height(o)}else{var am=N.xAxis.getPreferredSize();var ak=N.yAxis.getPreferredSize();var af=N.zAxis.getPreferredSize();var aw=am.width,av=ak.height,ae=af.width;var ap=i().rotateY(O).rotateX(p);var az=L(ap);var an=M(az,0,0,aw,av,ae);var aj=G(aw,av,ae);var ai=aa(aj,ap);var ag={x:ai.x,y:ai.y,x:ai.z,w:ai.w};var ao=Y(az,an,ap,aw,av,ae,am,ak,af);var aq=o-ao.bottom-ao.top;var aA=m-ao.left-ao.right;var aB=x(aA,aq,ai,ao);var ah=ap.unit().scale(aB.x,aB.y,aB.z).clone();ap.rotateY(O).rotateX(p);var ay=0,ax=0;var au=0;while(au<10){aj=G(aw,av,ae);ai=aa(aj,ap);ay=0-ai.x+ao.left+(aA-ai.z+ai.x)/2;ax=0-ai.y+ao.top+(aq-ai.w+ai.y)/2;if(ay>0&&ax>0){break}aB=x(aA,aq,ai,ao);ap=ah.clone();ap.scale(aB.x,aB.y,aB.z);ah=ap.clone();ap.rotateY(O).rotateX(p);au++}N.plot.matrix(ap);K("south",az,"xAxis",ad,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);K("west",az,"yAxis",w,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);K("none",az,"zAxis",J,ap,0,0,aw,av,ae,an.x0,an.x1,an.y0,an.z0,an.z1);var ar=r.yAxis.node(),al=ar.getTransformToElement(ar.parentNode);r.yAxis.attr("transform","translate("+(al.e-ak.width)+","+al.f+")");aj=G(aw,av,ae);ai=aa(aj,ap);ar=r.yAxis.node(),al=ar.getTransformToElement(ar.parentNode);r.yAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=r.xAxis.node(),al=ar.getTransformToElement(ar.parentNode);r.xAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=r.zAxis.node(),al=ar.getTransformToElement(ar.parentNode);r.zAxis.attr("transform","translate("+(al.e+ay)+","+(al.f+ax)+")");ar=r.plot.node();r.plot.attr("transform","translate("+(ay)+","+(ax)+")")}}function Q(ae){ae.each(function(af){A=ae;j.drawBound(ae,m,o);if(a.isEmptyObject(N)){t()}P()});return Q}Q.width=function(ae,af){if(!arguments.length){return m}m=ae;T(af);return Q};Q.height=function(ae,af){if(!arguments.length){return o}o=ae;T(af);return Q};Q.size=function(ae){if(!arguments.length){return{width:m,height:o}}o=ae.height;m=ae.width;T();return Q};Q.data=function(af){if(!arguments.length){return Z}Z=af;if(!a.isEmptyObject(N)){var ae=new c(Z);N.plot.data(ae.getDataAdapter());s("xAxis");s("yAxis");s("zAxis")}return Q};Q.properties=function(ae){if(!arguments.length){return q}n=ae;if(!a.isEmptyObject(N)){W("xAxis");W("yAxis");W("zAxis");W("plot");W("datalabel");W("background")}g.extend(true,q,ae.xyzcontainer);p=q&&q.xAngle?q.xAngle:p;O=q&&q.yAngle?q.yAngle:O;return Q};Q.config=function(ae){if(!arguments.length){return R}R=ae;return Q};Q.modules=function(ae){if(!arguments.length){if(a.isEmptyObject(N)){t()}return N}N=ae;return Q};Q.parent=function(ae){if(!arguments.length){return A}A=ae;return Q};Q.rotate=function(ae){if(!arguments.length){return{xAngle:p,yAngle:O}}V=2;p=ae.xAngle;O=ae.yAngle;T();T();P();return Q};Q.dispatch=function(ae){if(!arguments.length){return F}F=ae;return Q};Q.infoForSizeLegend=function(){return{space:S,number:1,plotHeight:N.plot.height()}};Q.yAxis=function(ae){if(!arguments.length){return w}w=ae.copy();return Q};Q.xAxis=function(ae){if(!arguments.length){return ad}ad=ae.copy();return Q};Q.zAxis=function(ae){if(!arguments.length){return J}J=ae.copy();return Q};Q.xAxisScaleChange=function(af,ae){if(ad.rangeBands){ad.rangeBands(ae)}else{ad.range(ae)}};Q.zAxisScaleChange=function(af,ae){J.rangeBands(ae)};Q.yAxisScaleChange=function(af,ae){if(w.rangeBands){w.rangeBands(ae)}else{w.range(ae)}};function P(){for(var ae in r){if(r.hasOwnProperty(ae)){r[ae].datum(N[ae].data()).call(N[ae])}}if(a.isExist(N.dataLabel)){N.dataLabel()}}var u=0;function z(){if(X==++u){u=0;F.initialized()}}function ac(ae){F.showTooltip(ae)}function E(ae){F.hideTooltip(ae)}return Q};return h});sap.riv.module({qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.xyzcontainer",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xyzcontainer",type:b.Module.Type.Container,name:"single container",properties:{xAngle:{name:"xAngle",supportedValueType:"Number",defaultValue:20},yAngle:{name:"yAngle",supportedValueType:"Number",defaultValue:50}},css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYZContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xyz.Bar3D",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.0"}],function Setup(a){return function(d){var f=d==="vertical";var e,g;if(f){e="xAxis";g="yAxis"}else{e="yAxis";g="xAxis"}var c={id:"viz/3d_"+(f?"column":"bar"),name:"IDS_3D_"+(f?"COLUMN":"BAR"),modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},main:{id:"sap.viz.modules.xyzcontainer",controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{propertyCategory:"rotate"}}},modules:{plot:{id:"sap.viz.modules.bar3d",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{direction:d}}},zAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:"zAxis",properties:{type:"category",position:"bottom",forceVerticalFont:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:d}}}},configure:{propertyCategory:"xyzcontainer",properties:{xAngle:20,yAngle:50}}}},dependencies:{attributes:[{targetModule:"main",target:e,sourceModule:"main.plot",source:"primaryCategoryScale"},{targetModule:"main",target:g,sourceModule:"main.plot",source:"valueScale"},{targetModule:"main."+g,target:"scale",sourceModule:"main",source:g},{targetModule:"main."+e,target:"scale",sourceModule:"main",source:e},{targetModule:"main",target:"zAxis",sourceModule:"main.plot",source:"secondaryCategoryScale"},{targetModule:"main.zAxis",target:"scale",sourceModule:"main",source:"zAxis"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"main.zAxis",target:"independentData",sourceModule:"main.plot",source:"secondaryCategoryData"},{targetModule:"main."+e,target:"independentData",sourceModule:"main.plot",source:"primaryCategoryData"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.rotate",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.rotate"},{targetModule:"main",listener:f?"xAxisScaleChange":"yAxisScaleChange",sourceModule:"main.plot",type:"primaryCategoryScaleChange.xyzcontainer"},{targetModule:"main",listener:f?"yAxisScaleChange":"xAxisScaleChange",sourceModule:"main.plot",type:"valueScaleChange.xyzcontainer"},{targetModule:"main",listener:"zAxisScaleChange",sourceModule:"main.plot",type:"secondaryCategoryScaleChange.xyzcontainer"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip.tooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip.tooltip"}]}};var b=c.modules.main.modules;b[e]={id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the value axis of an XYZ chart.",propertyCategory:e,properties:{type:"category",isIndependentMode:true,position:f?"bottom":"left",forceVerticalFont:(f?true:undefined),gridline:{visible:false,showFirstLine:(f?false:true),showLastLine:(f?false:true)},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}};b[g]={id:"sap.viz.modules.axis",configure:{description:"Settings for the category axis of an XYZ chart.",propertyCategory:g,properties:{type:"value",position:(f?"left":"bottom"),forceVerticalFont:(f?undefined:true),shapeRendering:false,gridline:{showFirstLine:(f?true:false),showLastLine:(f?true:false)}}}};a.register(c)}});sap.riv.module({qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.0"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.0"}],function Setup(a){a("horizontal")});sap.riv.module({qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.0"},[{qname:"sap.viz.manifests.xyz.Base3DChart",version:"4.0.0"}],function Setup(a){a("vertical")});sap.riv.module({qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"riv/basehorizontalchart",name:"IDS_BASEHORIZONTALCHART","abstract":true,modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,orientation:"horizontal",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"right"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom"}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}}}}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/horizontal_area",name:"IDS_HORIZONTALAREACHART",base:"riv/basehorizontalchart",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"left",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true},properties:{orientation:"horizontal"}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.xAxis",source:"range"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_horizontal_area",name:"IDS_PERCENTAGEHORIZONTALAREACHART",base:"viz/horizontal_area",modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalline",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"}],function Setup(b){var a={id:"riv/baseverticalchart",name:"IDS_BASEVERTICALCHART","abstract":true,modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",data:{aa:[2]},configure:{propertyCategory:"legend"}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalbar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Area",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/area",name:"IDS_AREACHART",base:"riv/baseverticalchart",modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,outsidePosition:"down",showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.area",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{bStacked:true}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_area",name:"IDS_PERCENTAGEAREACHART",base:"viz/area",modules:{main:{modules:{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"line",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.mekko",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,c,h,k,b,e,m,g,j,i,f,l){var d=function(H,T){var ay,ar=[[]],aq=[[]],ab,v=[],E=0,s=0,W=0,Q=0,U=null;var aa=f.get("IDS_ISNOVALUE");var n,t,ak=0,ai=0,J=[],I,aA=["squareWithRadius"],o=H.props(null),M=new h("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var S=T.effectManager;var aC=d3.scale.ordinal(),u=d3.scale.linear();aC.noEqual=true;var B=null,ao=null;var w=1,am,V,C,K=[],p=[];var z=true,ah=true,av=false,ad=true,r=false,az=false,P=true,R=1000;var an=null,ag=null,at=g.newId();var D="comparison";var Z="normal";var au=false,q=false,A=false,Y=false;var O={"sap.viz.modules.mekko.dimension":{key:"sap.viz.modules.mekko.dimension",values:[{col:{val:""},rows:[]}]}};var G=[],af=[],ap=[];var aj=true,aw=false;var ae=function(){if(D===o.mode){D=o.mode==="percentage"?"percentage":"comparison";Y=false}else{D=o.mode==="percentage"?"percentage":"comparison";Y=true}aj=o.orientation==="horizontal"?true:false;av=o.isRoundCorner;z=o.animation.dataLoading;ah=o.animation.dataUpdating;P=o.tooltip.enabled;I=o.colorPalette;Z=o.drawingEffect;J=[];var aD,x;for(aD=0;aD<ab[0].length;aD++){for(x=0;x<ab[0][0].length;x++){J.push(I[x%I.length])}}};function ax(x){l.drawBound(x,n,t);if(D==="percentage"){ac()}if(D==="comparison"){L()}if(!a.isExist(u)){return}M.startToInit();x.each(function(){w=(a.isExist(aq))?2:1;C=8*(aC.rangeBand())/(9*w+7);V=ab[0][0].length+((a.isExist(ab[0][1]))?ab[0][1].length:0);var aD=ab.length;var aE=(U=d3.select(this));if(B===null){if(aj){B=aE.append("rect").attr("width",n).attr("height",aC.rangeBand()-C/2).attr("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{B=aE.append("rect").attr("width",aC.rangeBand()-C/2).attr("height",t).attr("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}}else{if(aj){B.attr("width",n).attr("height",aC.rangeBand()-C/2).attr("visibility","hidden")}else{B.attr("width",aC.rangeBand()-C/2).attr("height",t).attr("visibility","hidden")}}if(an===null){an=aE.append("defs").append("clipPath").append("rect").attr("width",n).attr("height",t)}else{an.attr("width",n).attr("height",t)}if(ag===null){ag=aE.append("defs").attr("id","round-corner-clip"+at)}else{if(q||au||A){ag.remove();ag=aE.append("defs").attr("id","round-corner-clip"+at)}}var aF=aE.selectAll("g.datashapesgroup");if(!a.isExist(aF[0][0])){aF=aE.append("g").attr("class","datashapesgroup")}var aG;if(z&&!az){aG=aF.selectAll("g.bar").data(ab);aG.enter().append("g");aG.attr("class","bar").each(function(aJ,aK){var aI=aj?8*(G[aD-aK-1]-G[aD-aK])/(9*V+7):8*(G[aK+1]-G[aK])/(9*V+7);var aH=aj?G[aD-aK-1]-G[aD-aK]:G[aK+1]-G[aK];if(aH>1){aH=aH-1}var aL=Math.log(aH)/Math.log(2);if(aL<0){av=false}var aM=d3.select(this).selectAll("g.axisGroup").data(aJ);aM.enter().append("g");aM.attr("class","axisGroup").each(function(aX,aR){var aS=I;var aN=C/2;var aY=aC(aK);var aP=0,aQ=0,aW=0,a0=0;var aU=[],aO=[];var aT=d3.select(this).selectAll("g.datashape").data(aX);aT.enter().append("g").attr("class","datashape");aT.each(function(a2){var a1=d3.select(this).selectAll("rect").data([a2]);a1.enter().append("rect");a1.exit().remove()});aT.exit().remove();if(aw){aT.each(function(){if(a.isExist(this.getTransformToElement(this.parentNode))){aO.push(this.getTransformToElement(this.parentNode).e);aU.push(this.getTransformToElement(this.parentNode).f)}else{aO.push(0);aU.push(0)}})}aT.attr("transform",function(a3,a2){if(aj){var a4=t-G[aD-aK-1];var a1;if(a3.val>=0){aP=u(aW);aW+=a3.val;a1=aP}else{a0+=a3.val;aQ=u(a0);a1=aQ}}else{var a1=G[aK];var a4;if(a3.val>=0){aW+=a3.val;positiveY=u(aW);a4=positiveY}else{negativeY=u(a0);a0+=a3.val;a4=negativeY}}return"translate("+a1+","+a4+")"});var aV=d3.select(this).selectAll("rect");aV.attr("fill",function(a1,a3){a1.fillColor=aS[a3%aS.length];var a2={drawingEffect:Z,fillColor:a1.fillColor,direction:aj?"vertical":"horizontal"};return S.register(a2)}).attr("class","datapoint").attr("fill-opacity",1);if(q){if(aj){aV.attr("height",aI).attr("y",function(a2,a1){return aI*a1}).attr("x",0).attr("width",0);if(av){aV.attr("clip-path",function(a2,a1){if(a1===p[aR][aK]||a1===K[aR][aK]){var a4="roundCorner-clip-"+a1+aK+aR+at;var a3=ag.append("clipPath").attr("id",a4).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("height",aI).attr("width",0).attr("x",this.x.baseVal.value).transition().duration(R/2).attr("x",function(){if(a1===p[aR][aK]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(u(a2.val)-u(0))+aL}).transition().delay(R/2).duration(R/2).attr("height",aH).attr("y",0);return"url(#"+a4+")"}})}a0=0;aV.transition().duration(R/2).attr("width",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("x",0).transition().delay(R/2).duration(R/2).attr("height",function(a2,a1){var a3=G[aD-aK-1]-G[aD-aK];if(a3>1){return G[aD-aK-1]-G[aD-aK]-1}else{return G[aD-aK-1]-G[aD-aK]}}).attr("y",0).attr("width",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}})}else{aV.attr("width",aI).attr("x",function(a2,a1){return aI*a1}).attr("y",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("height",0);if(av){aV.attr("clip-path",function(a2,a1){if(a1===p[aR][aK]||a1===K[aR][aK]){var a4="roundCorner-clip-"+a1+aK+aR+at;var a3=ag.append("clipPath").attr("id",a4).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("y",this.y.baseVal.value).attr("width",aI).attr("height",0).attr("x",this.x.baseVal.value).transition().duration(R/2).attr("y",function(){if(a1===p[aR][aK]){return 0-aL}else{return 0}}).attr("height",function(){return Math.abs(u(a2.val)-u(0))+aL}).transition().delay(R/2).duration(R/2).attr("width",aH).attr("x",0);return"url(#"+a4+")"}})}a0=0;aV.transition().duration(R/2).attr("height",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("y",0).transition().delay(R/2).duration(R/2).attr("width",function(a3,a1){var a2=G[aK+1]-G[aK];if(a2>1){return G[aK+1]-G[aK]-1}else{return G[aK+1]-G[aK]}}).attr("x",0).attr("height",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}})}}else{if(A){aV.attr("x",function(a2,a1){return aO[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("y",function(a2,a1){return aU[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var aZ=aV.transition();if(aj){aZ.duration(R/2).attr("width",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("x",0).attr("height",function(a2,a1){var a3=G[aD-aK-1]-G[aD-aK];if(a3>1){return G[aD-aK-1]-G[aD-aK]-1}else{return G[aD-aK-1]-G[aD-aK]}}).attr("y",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a3,a2){if(a2===p[aR][aK]||a2===K[aR][aK]){var a5="roundCorner-clip-"+a2+aK+aR+at;var a1=parseFloat(this.x.baseVal.value);var a4=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aL).attr("x",function(){return a1-((a2===p[aR][aK])?0:aL)}).attr("y",this.y.baseVal.value).transition().duration(R/2).attr("x",function(){if(a2===p[aR][aK]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(u(a3.val)-u(0))+aL}).attr("height",aH).attr("y",0);return"url(#"+a5+")"}})}}else{aZ.duration(R/2).attr("height",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("y",0).attr("width",function(a3,a1){var a2=G[aK+1]-G[aK];if(a2>1){return G[aK+1]-G[aK]-1}else{return G[aK+1]-G[aK]}}).attr("x",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a2,a1){if(a1===p[aR][aK]||a1===K[aR][aK]){var a5="roundCorner-clip-"+a1+aK+aR+at;var a4=parseFloat(this.y.baseVal.value);var a3=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aL).attr("y",function(){return a4-((a1===p[aR][aK])?aL:0)}).attr("x",this.x.baseVal.value).transition().duration(R/2).attr("y",function(){if(a1===p[aR][aK]){return 0-aL}else{return 0}}).attr("height",function(){return Math.abs(u(a2.val)-u(0))+aL}).attr("width",aH).attr("x",0);return"url(#"+a5+")"}})}}}else{if(au){if(aj){aV.attr("x",function(a2,a1){return aO[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr("width",function(a1){var a2=Math.abs(u(a1.val)-u(0));if(parseFloat(this.width.baseVal.value)>a2){return this.width.baseVal.value}else{return a2}});var aZ=aV.transition();aZ.duration(R/2).attr("width",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("x",0).attr("height",function(a2,a1){var a3=G[aD-aK-1]-G[aD-aK];if(a3>1){return G[aD-aK-1]-G[aD-aK]-1}else{return G[aD-aK-1]-G[aD-aK]}}).attr("y",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a3,a2){if(a2===p[aR][aK]||a2===K[aR][aK]){var a5="roundCorner-clip-"+a2+aK+aR+at;var a1=parseFloat(this.x.baseVal.value);var a4=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aL).attr("x",function(){return a1-((a2===p[aR][aK])?0:aL)}).attr("y",this.y.baseVal.value).transition().duration(R/2).attr("x",function(){if(a2===p[aR][aK]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(u(a3.val)-u(0))+aL}).attr("height",aH).attr("y",0);return"url(#"+a5+")"}})}}else{aV.attr("y",function(a2,a1){return aU[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr("height",function(a2){var a1=Math.abs(u(a2.val)-u(0));if(parseFloat(this.height.baseVal.value)>a1){return this.height.baseVal.value}else{return a1}});var aZ=aV.transition();aZ.duration(R/2).attr("height",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("y",0).attr("width",function(a3,a1){var a2=G[aK+1]-G[aK];if(a2>1){return G[aK+1]-G[aK]-1}else{return G[aK+1]-G[aK]}}).attr("x",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a2,a1){if(a1===p[aR][aK]||a1===K[aR][aK]){var a5="roundCorner-clip-"+a1+aK+aR+at;var a4=parseFloat(this.y.baseVal.value);var a3=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aL).attr("y",function(){return a4-((a1===p[aR][aK])?aL:0)}).attr("x",this.x.baseVal.value).transition().duration(R/2).attr("y",function(){if(a1===p[aR][aK]){return 0-aL}else{return 0}}).attr("height",function(){return Math.abs(u(a2.val)-u(0))+aL}).attr("width",aH).attr("x",0);return"url(#"+a5+")"}})}}}else{if(Y){if(aj){aV.attr("x",function(a2,a1){return aO[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var aZ=aV.transition();aZ.duration(R/2).attr("width",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("x",0).attr("height",function(a2,a1){var a3=G[aD-aK-1]-G[aD-aK];if(a3>1){return G[aD-aK-1]-G[aD-aK]-1}else{return G[aD-aK-1]-G[aD-aK]}}).attr("y",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a3,a2){if(a2===p[aR][aK]||a2===K[aR][aK]){var a5="roundCorner-clip-"+a2+aK+aR+at;var a1=parseFloat(this.x.baseVal.value);var a4=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("height",this.height.baseVal.value).attr("width",this.width.baseVal.value+aL).attr("x",function(){return a1-((a2===p[aR][aK])?0:aL)}).attr("y",this.y.baseVal.value).transition().duration(R/2).attr("x",function(){if(a2===p[aR][aK]){return 0}else{return 0-aL}}).attr("width",function(){return Math.abs(u(a3.val)-u(0))+aL}).attr("height",aH).attr("y",0);return"url(#"+a5+")"}})}}else{aV.attr("y",function(a2,a1){return aU[a1]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var aZ=aV.transition();aZ.duration(R/2).attr("height",function(a2,a1){return Math.abs(u(a2.val)-u(0))}).attr("y",0).attr("width",function(a3,a1){var a2=G[aK+1]-G[aK];if(a2>1){return G[aK+1]-G[aK]-1}else{return G[aK+1]-G[aK]}}).attr("x",0).each("end",function(a2,a1){if(aK===0&&a1===V-1){F()}});if(av){aZ.attr("clip-path",function(a2,a1){if(a1===p[aR][aK]||a1===K[aR][aK]){var a5="roundCorner-clip-"+a1+aK+aR+at;var a4=parseFloat(this.y.baseVal.value);var a3=ag.append("clipPath").attr("id",a5).append("rect").attr("class","roundCorner-clip").attr("rx",aL).attr("ry",aL).attr("width",this.width.baseVal.value).attr("height",this.height.baseVal.value+aL).attr("y",function(){return a4-((a1===p[aR][aK])?aL:0)}).attr("x",this.x.baseVal.value).transition().duration(R/2).attr("y",function(){if(a1===p[aR][aK]){return 0-aL}else{return 0}}).attr("height",function(){return Math.abs(u(a2.val)-u(0))+aL}).attr("width",aH).attr("x",0);return"url(#"+a5+")"}})}}}}}}});aM.exit().remove()});aG.exit().remove();if(!ah){az=true}}else{aG=aE.selectAll("g.bar").data(ab);aG.enter().append("g");aG.attr("class","bar").each(function(aI,aJ){var aH=aj?G[aD-aJ-1]-G[aD-aJ]:G[aJ+1]-G[aJ];if(aH>1){aH=aH-1}var aK=Math.log(aH)/Math.log(2);if(aK<0){av=false}var aL=d3.select(this).selectAll("g.axisGroup").data(aI);aL.enter().append("g");aL.attr("class","axisGroup").each(function(aX,aP){var aQ=I;var aN=0,aO=0,aW=0,aY=0;var aV=0,aU=-1;var aS=[],aM=[];var aR=d3.select(this).selectAll("g.datashape").data(aX);aR.enter().append("g").attr("class","datashape");aR.each(function(a0){var aZ=d3.select(this).selectAll("rect").data([a0]);aZ.enter().append("rect");aZ.exit().remove()});aR.exit().remove();aR.attr("transform",function(a1,a0){if(aj){var a2=t-G[aD-aJ-1];var aZ;if(a1.val>=0){aN=u(aW);aW+=a1.val;aZ=aN}else{aY+=a1.val;aO=u(aY);aZ=aO}}else{var aZ=G[aJ];var a2;if(a1.val>=0){aW+=a1.val;positiveY=u(aW);a2=positiveY}else{negativeY=u(aY);aY+=a1.val;a2=negativeY}}return"translate("+aZ+","+a2+")"});var aT=d3.select(this).selectAll("rect");if(aj){aT.attr("width",function(a0,aZ){return Math.abs(u(a0.val)-u(0))}).attr("x",0).attr("height",function(a0,aZ){var a1=G[aD-aJ-1]-G[aD-aJ];if(a1>1){return G[aD-aJ-1]-G[aD-aJ]-1}else{return G[aD-aJ-1]-G[aD-aJ]}}).attr("y",0).attr("fill",function(aZ,a1){aZ.fillColor=aQ[a1%aQ.length];var a0={drawingEffect:Z,fillColor:aZ.fillColor,direction:"vertical"};return S.register(a0)}).attr("class","datapoint").attr("fill-opacity",1);if(av){aT.attr("clip-path",function(a0,aZ){if(aZ===p[aP][aJ]||aZ===K[aP][aJ]){var a2="roundCorner-clip-"+aZ+aJ+aP+at;var a1=ag.append("clipPath").attr("id",a2).append("rect").attr("class","roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("x",function(){if(aZ===p[aP][aJ]){return 0}else{return 0-aK}}).attr("width",function(){return Math.abs(u(a0.val)-u(0))+aK}).attr("height",aH).attr("y",0);return"url(#"+a2+")"}})}}else{aT.attr("height",function(a0,aZ){return Math.abs(u(a0.val)-u(0))}).attr("x",0).attr("width",function(a1,aZ){var a0=G[aJ+1]-G[aJ];if(a0>1){return G[aJ+1]-G[aJ]-1}else{return G[aJ+1]-G[aJ]}}).attr("y",0).attr("fill",function(aZ,a1){aZ.fillColor=aQ[a1%aQ.length];var a0={drawingEffect:Z,fillColor:aZ.fillColor,direction:"horizontal"};return S.register(a0)}).attr("class","datapoint").attr("fill-opacity",1);if(av){aT.attr("clip-path",function(a0,aZ){if(aZ===p[aP][aJ]||aZ===K[aP][aJ]){var a2="roundCorner-clip-"+aZ+aJ+aP+at;var a1=ag.append("clipPath").attr("id",a2).append("rect").attr("class","roundCorner-clip").attr("rx",aK).attr("ry",aK).attr("y",function(){if(aZ===p[aP][aJ]){return 0-aK}else{return 0}}).attr("height",function(){return Math.abs(u(a0.val)-u(0))+aK}).attr("width",aH).attr("x",0);return"url(#"+a2+")"}})}}});aL.exit().remove()});aG.exit().remove()}au=false,A=false,q=false});if(!z||!ah){F()}return ax}ax.hoverOnPoint=function(aL){var aK=aL.x,aD=aL.y;var aG=0,aH=G.length-1,aF=0;if(aj){while(aG<aH){if(aD>=(t-G[aG])&&aD<(t-G[aG+1])){aF=G[aG]-G[aG+1];break}aG++}}else{while(aG<aH){if(aK>=(G[aG])&&aK<(G[aG+1])){aF=G[aG+1]-G[aG];break}aG++}}if(aG>(ab.length-1)||aG<0){B.attr("visibility","hidden");return}if(aj){B.attr("y",t-G[aG]).attr("visibility","visible").attr("height",aF)}else{B.attr("x",G[aG]).attr("visibility","visible").attr("width",aF)}if(aG!==ao){if(P){ao=aG;var aE=U[0][0].getTransformToElement(U[0][0].ownerSVGElement);var x=aE.f;var aI=aE.e;var aJ=aj?al(am-aG-1):al(aG);aJ.point={x:aj?d3.event.layerX:G[aG]+aF/2+aI,y:aj?t-G[aG]+aF/2+x:d3.event.layerY};aJ.plotArea={x:aE.e,y:aE.f,width:n,height:t};aJ.valueAxis0Count=ab[0][0].length;aJ.valueAxis1Count=a.isExist(ab[0][1])?ab[0][1].length:0;M.showTooltip(b.formatTooltipData(aJ))}}};var al=function(aD){var aK={body:[],footer:[]};var x=ay.getAnalysisAxisDataByIdx(0).values;var aO=ay.getMeasureValuesGroupDataByIdx(0).values;var aM=ay.getMeasureValuesGroupDataByIdx(1).values;if(a.isExist(ay.getAnalysisAxisDataByIdx(1))){var aQ=ay.getAnalysisAxisDataByIdx(1).values}var aS=v[0][0].length;for(var aI=0,aE=aO.length;aI<aE;aI++){var aH={},aR=[];aH.name=aO[aI].col;aH.val=aR;for(var aG=0;aG<aS;aG++){var aL="";if(a.isExist(aQ)){for(var aP=0,aF=aQ.length;aP<aF;aP++){if(aP===0){aL+=aQ[aP].rows[aG].val}else{aL+=" / "+aQ[aP].rows[aG].val}}}aR.push({value:v[aD][0][aG].isNaN?aa:v[aD][0][aG].val,label:aL,shape:"squareWithRadius",color:J[aG]})}aK.body.push(aH)}var aH={},aR=[];aH.name=aM[0].col;aH.val=aR;aR.push({value:a.isExist(rangeSum[aD])?rangeSum[aD]:aa,valueAxis:1});aK.body.push(aH);for(var aI=0,aJ=x.length;aI<aJ;aI++){var aN={};aN.label=x[aI].col.val;aN.value=x[aI].rows[aD].val;aK.footer.push(aN)}return aK};ax.blurOut=function(){B.attr("visibility","hidden");ao=null;if(P){M.hideTooltip()}};ax.parent=function(){return U};ax.highlight=function(aD){if(aD instanceof Array){for(var aE=0,x=aD.length;aE<x;aE++){aD[aE].setAttribute("fill-opacity",1)}}else{aD.setAttribute("fill-opacity",1)}};ax.unhighlight=function(aD){if(aD instanceof Array){for(var aE=0,x=aD.length;aE<x;aE++){aD[aE].setAttribute("fill-opacity",0.2)}}else{aD.setAttribute("fill-opacity",0.2)}};ax.clear=function(x){if(x==null){U.selectAll(".datapoint").attr("fill-opacity",1)}else{U.selectAll(".datapoint").attr("fill-opacity",0.2)}};function ac(){for(var aH=0,x=ab.length;aH<x;aH++){for(var aE=0,aG=ab[aH],aJ=v[aH];aE<aG.length;aE++){var aI=0,aF=0,aD;for(aD=0;aD<aG[aE].length;aD++){aI+=Math.abs(aG[aE][aD].val);if(!aG[aE][aD].isNaN){aF++}}if(aI===0){for(aD=0;aD<aG[aE].length;aD++){aG[aE][aD].value=a.isExist(aG[aE][aD].value)?aG[aE][aD].value:aG[aE][aD].val;aG[aE][aD].val=aG[aE][aD].isNaN?0:1/aF;if(a.isExist(aJ[aE])&&a.isExist(aJ[aE][aD])){aJ[aE][aD].val=aJ[aE][aD].isNaN?" ":1/aF}}}else{for(aD=0;aD<aG[aE].length;aD++){if(aG[aE][aD].val<0){aG[aE][aD].isNegative=true}aG[aE][aD].value=a.isExist(aG[aE][aD].value)?aG[aE][aD].value:aG[aE][aD].val;aG[aE][aD].val=Math.abs(aG[aE][aD].val/aI);if(a.isExist(aJ[aE])&&a.isExist(aJ[aE][aD])){aJ[aE][aD].val=aJ[aE][aD].isNaN?" ":aJ[aE][aD].val/aI}}}}}}function L(){var aF=c.extend(true,{},k(ay));var aE=aF.MG1;var aD=aF.MG2;measureOnAxis1=aF.MG1Number;v=[];var x=N(aE,null,aF.color);ab=x;ar=aE;aq=aD;v=c.extend(true,{},ab)}function F(){M.initialized();aw=true}ax.afterUIComponentAppear=function(){M.initialized()};ax.width=function(x){if(!arguments.length){return n}au=(n===x)&&!au?false:true;n=x;X();return ax};ax.height=function(x){if(!arguments.length){return t}au=(t===x)&&!au?false:true;t=x;X();return ax};ax.data=function(aF){if(!arguments.length){return ay}ay=aF;var aG=c.extend(true,{},k(ay));var aE=aG.MG1;var aD=aG.MG2;measureOnAxis1=aG.MG1Number;v=[];var x=N(aE,null,aG.color);if(ar.length!==aE.length||ar[0].length!==aE[0].length){q=true}else{A=true}ab=x;ar=aE;aq=aD;v=c.extend(true,{},ab);X();ae();return ax};ax.properties=function(x){if(!arguments.length){return o}i.extend(true,o,x);ae();X();return ax};var aB=function(aD){for(var x=0;x<aD.length;x++){if(!j.isNoValue(aD[x])&&aD[x]!=0){return}}for(var x=1;x<aD.length;x++){aD[x]=x*(aj?t/(aD.length-1):n/(aD.length-1))}};var X=function(){if(a.isExist(n)&&a.isExist(t)&&a.isExist(ab)){var aI=[],aG=0,aD=0;G=[],rangeSum=[],G[0]=0;var aH=O["sap.viz.modules.mekko.dimension"].values[0].rows=[];O["sap.viz.modules.mekko.dimension"].values[0].col.val=ay.getMeasureValuesGroupDataByIdx(1).values[0].col;for(var aF=0,x=aq.length;aF<x;aF++){for(var aE=0;aE<aq[aF].length;aE++){if(a.isExist(rangeSum[aE])){rangeSum[aE]+=aq[aF][aE].val}else{rangeSum[aE]=aq[aF][aE].val}}}for(var aF=0,x=rangeSum.length;aF<x;aF++){aI.push(aF);aG+=rangeSum[aF]>0?rangeSum[aF]:(0-rangeSum[aF])}for(var aE=0,x=rangeSum.length;aD+=Math.abs(rangeSum[aE]),aE<x;aE++){aD=parseFloat(aD.toFixed(8));G[aE+1]=aG==0?null:Math.abs(aj?aD/aG*t:aD/aG*n);aH.push({val:a.isExist(rangeSum[aE])?rangeSum[aE]:aa})}aB(G);if(aj){aC.domain(aI).range(G.reverse());if(D==="percentage"){u.domain([0,1]).range([0,n]).nice();m.perfect(u)}else{if(s===0&&E===0){u.domain([0,1]).range([0,n]).nice()}else{u.domain([s,E]).range([0,n]).nice()}m.perfect(u)}}else{aC.domain(aI).range(G);if(D==="percentage"){u.domain([1,0]).range([0,t]).nice();m.perfect(u)}else{if(s===0&&E===0){u.domain([1,0]).range([0,t]).nice()}else{u.domain([E,s]).range([0,t]).nice()}m.perfect(u)}}}};ax.colorPalette=function(x){if(!arguments.length){return J}J=x;return ax};ax.categoryScale=function(x){if(!arguments.length){return aC}aC=x;return ax};ax.dimensionData=function(x){if(!arguments.length){return O}O=x;return ax};ax.secondCategoryScale=function(){if(!arguments.length){return aC}aC=_;return ax};ax.primaryDataRange=function(aD){if(!arguments.length){var x,aE;if(D==="percentage"){x=1;aE=0}else{aE=s<0?s:0;x=E}return{min:aE,max:x}}E=aD.max;s=aD.min;X();return ax};ax.secondDataRange=function(aD){if(!arguments.length){var x,aE;if(D==="percentage"){x=1;aE=0}else{aE=Q<0?Q:0;x=W}return{min:aE,max:x}}W=aD.max;Q=aD.min;X();return ax};ax.primaryScale=function(x){if(!arguments.length){return u}u=x;return ax};ax.primaryAxisColor=function(){return undefined};ax.getPreferredSize=function(){};ax.x=function(x){if(!arguments.length){return ak}ak=x;return this};ax.y=function(x){if(!arguments.length){return ai}ai=x;return this};ax.dispatch=function(x){if(!arguments.length){return M}M=x;return this};ax.dataLabel=function(x){};ax.primaryAxisTitle=function(aD){if(!arguments.length){var aG=ay.getMeasureValuesGroupDataByIdx(0),aF=[];if(aG){for(var aE=0,x=aG.values.length;aE<x;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(f.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};ax.secondAxisTitle=function(aD){if(!arguments.length){var aG=ay.getMeasureValuesGroupDataByIdx(1),aF=[];if(aG){for(var aE=0,x=aG.values.length;aE<x;aE++){if(aG.values[aE].col!==null&&aG.values[aE].col!==undefined){aF.push(aG.values[aE].col)}else{aF.push(f.get("IDS_ISNOVALUE"))}}}return aF.join("/")}return this};var N=function(aL,aJ,aE){var aI=-1,aH=-1;K=[[],[]],p=[[],[]];E=s=0;W=Q=0;var aD=[];am=aL[0].length;var aO,x;for(var aF=0;aF<am;aF++){var aM=[],aK=[];var aN=[];aO=0,x=0;aI=-1,aH=-1;for(var aG=0;aG<aL.length;aG++){if(j.isNoValue(aL[aG][aF].val)){aL[aG][aF].val=0;aL[aG][aF].isNaN=true}else{if(aL[aG][aF].val>=0){aO+=aL[aG][aF].val;aI=aG}else{x+=aL[aG][aF].val;aH=aG}}aM.push(aL[aG][aF])}K[0].push(aI);p[0].push(aH);if(E<aO){E=aO}if(s>x){s=x}aN.push(aM);if(a.isExist(aJ)){aO=0,x=0;aI=-1,aH=-1;for(aG=0;aG<aJ.length;aG++){aI=0,aH=-1;if(j.isNoValue(aJ[aG][aF].val)){aJ[aG][aF].val=0;aJ[aG][aF].isNaN=true}else{if(aJ[aG][aF].val>=0){aO+=aJ[aG][aF].val;aI=aG}else{x+=aJ[aG][aF].val;aH=aG}}aK.push(aJ[aG][aF])}K[1].push(aI);p[1].push(aH);if(W<aO){W=aO}if(Q>x){Q=x}aN.push(aK)}aD.push(aN)}return aD};o=H.props(null);return ax};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.mekko",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.mekko",name:"mekko",base:"sap.viz.modules.xy.bar.base",properties:{mode:{name:"mode",supportedValueType:"List",supportedValues:["comparison","percentage"],defaultValue:"comparison",description:"Set dispaly mode of mekko chart."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["vertical","horizontal"],defaultValue:"horizontal",description:"vertical or horizontal mekko chart."},},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.BarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/bar",name:"IDS_BARCHART",base:"riv/basehorizontalchart",modules:{main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},modules:{plot:{id:"sap.viz.modules.bar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/horizontal_mekko",name:"IDS_HORIZONTALMEKKOCHART",base:"viz/bar",modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"left",label:{hideStrategy:"greedy"}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{isIndependentMode:true,type:"category",position:"right",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"left"}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis2",target:"scale",sourceModule:"main.plot",source:"secondCategoryScale"},{targetModule:"main.xAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.yAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.yAxis2",target:"independentData",sourceModule:"main.plot",source:"dimensionData"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_horizontal_mekko",name:"IDS_PERCENTAGEHORIZONTALMEKKOCHART",base:"viz/horizontal_mekko",modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/column",name:"IDS_VERTICALBARCHART",base:"riv/baseverticalchart",modules:{main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{}}}},modules:{plot:{id:"sap.viz.modules.verticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Mekko",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/mekko",name:"IDS_MEKKOCHART",base:"viz/column",modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{orientation:"vertical"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",properties:{position:"left"}}},xAxis:{id:"sap.viz.modules.axis",configure:{properties:{type:"category",position:"bottom",label:{hideStrategy:"greedy"}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{isIndependentMode:true,type:"category",position:"top",gridline:{visible:false},label:{hideStrategy:"greedy"}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"mekko",orientation:"bottom"}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis2",target:"scale",sourceModule:"main.plot",source:"secondCategoryScale"},{targetModule:"main.yAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.xAxis2",target:"independentData",sourceModule:"main.plot",source:"dimensionData"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_mekko",name:"IDS_PERCENTAGEMEKKOCHART",base:"viz/mekko",modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true}}},plot:{id:"sap.viz.modules.mekko",configure:{propertyCategory:"plotArea",properties:{mode:"percentage"},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.horizontalboxplot",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.horizontalboxplot",name:"horizontal boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalBoxplot",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/horizontal_boxplot",name:"IDS_HORIZONTALBOXPLOTCHART",base:"riv/basehorizontalchart",modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"horizontalboxplot",orientation:"left"}}},main:{modules:{dataLabel:null,yAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.horizontalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}}}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.yAxis",target:"independentData",sourceModule:"main.plot",source:"dimensionData"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.verticalboxplot",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,f,h,c,k,i,e,b,g,j){var d=function(B,P){var L=null,Z=[],ar=[],Y=[],aq=[],n=[],J=[],K=[],C=[],r=[],an=null;var ae={"sap.viz.modules.verticalboxplot.dimension":{key:"sap.viz.modules.verticalboxplot.dimension",values:null}};var m=undefined,q=undefined,F=d3.scale.ordinal(),ai=d3.scale.linear(),ak=d3.scale.ordinal(),z,aa,ah=null,I=true,w={min:0,max:0},O=P.effectManager,V="normal",W=e.get("IDS_ISNOVALUE");var U={},G=new f("showTooltip","hideTooltip","initialized");var D={width:"1",color:"#000000"};var v={width:"0",midLineColor:"#000000"};var l=[],af=[],R=[],T=[],N=[],u=[],E=[];var S=function(){var au=[];for(var at=0;at<Y.length;at++){au.push(at)}F.domain(au).rangeBands([0,m]);ak.domain(ar).rangeBands([0,m]);if(!w||(w.min===0&&w.max===0)){ai.domain([0,1]).range([q,0]).nice()}else{ai.domain([w.min,w.max]).range([q,0]).nice()}k.perfect(ai)};am.dimensionData=function(at){if(!arguments.length){return ae}ae=at;return am};function Q(aw){if(a.isExist(aw)){length=aw.length;var at=false;for(var av=0;av<length;av++){if(aw[av].length>0){if(!at){w=t(aw[av]);at=true}else{var au=t(aw[av]);if(au){if(au.min<w.min){w.min=au.min}if(au.max>w.max){w.max=au.max}}}}}}}function t(au){var at={min:0,max:0};if(a.isExist(au)){au.sort(function(aw,av){return aw.val-av.val});at={min:au[0].val,max:au[au.length-1].val}}return at}function x(){l=[];af=[];R=[];T=[];N=[];u=[];E=[]}function A(){Z=[];ar=[];Y=[];aq=[];n=[];J=[];K=[]}function ac(at){return(at&1)==0}function ad(at,ay,au){var ax=au-ay+1;if(ax<=0){return -1}var av;var aw=at[ay+Math.floor((ax+1)/2)-1].ctx;if(ac(ax)){av=(at[ay+Math.floor((ax+1)/2)-1].val+at[ay+Math.floor((ax+1)/2)].val)/2}else{av=at[ay+Math.floor((ax+1)/2)-1].val}return{ctx:aw,val:av}}function al(au){if(au&&au.length>0){var av=au.length,az={"Maximum:":null,"3rd Quartile:":null,"Median:":null,"1st Quartile:":null,"Minimum:":null};midLine=ad(au,0,av-1);az["Median:"]=midLine;var aD=au[Math.floor(av/2)];au[Math.floor(av/2)]=midLine;var aB=ad(au,0,Math.floor(av/2));au[Math.floor(av/2)]=aD;aD=au[Math.floor((av-1)/2)];au[Math.floor((av-1)/2)]=midLine;var aC=ad(au,Math.floor((av-1)/2),av-1);au[Math.floor((av-1)/2)]=aD;az["3rd Quartile:"]=aC;az["1st Quartile:"]=aB;var aA=aC.val-aB.val;var at=aB.val-1.5*aA;var aE=aC.val+1.5*aA;var ay=0;while(au[ay].val<at){ay++}lowWhisker=au[ay];az["Minimum:"]=lowWhisker;if(lowWhisker){if(aB){if(aB.val!=lowWhisker.val){T.push({pair:[aB,lowWhisker],ctx:[aB.ctx,lowWhisker.ctx],val:[aB.val,lowWhisker.val]})}}}for(var aw=0;aw<ay;aw++){E.push(au[aw])}var ax=av-1;while(au[ax].val>aE){ax--}highWhisker=au[ax];az["Maximum:"]=highWhisker;for(var aw=0;aw<av-ax-1;aw++){E.push(au[ax+1+aw])}if(E.length>0){az["outLiers(s)"]=E.length}if(highWhisker){if(aC){if(aC.val!=highWhisker.val){N.push({pair:[highWhisker,aC],ctx:[highWhisker.ctx,aC.ctx],val:[highWhisker.val,aC.val]})}}}if(aB&&aC&&midLine){if(aB.val==aC.val){u.push({pair:[aB,aB],midLine:null,ctx:[aB.ctx],val:[aB.val]})}else{if(midLine.val==aC.val||midLine.val==aB.val){u.push({pair:[aC,aB],midLine:null,ctx:[aC.ctx,aB.ctx],val:[aC.val,aB.val]})}else{u.push({pair:[aC,midLine],midLine:midLine,ctx:[aC.ctx],val:[aC.val]});u.push({pair:[midLine,aB],midLine:midLine,ctx:[aB.ctx],val:[aB.val]})}}}K.push(az)}}function am(at){at.each(function(){j.drawBound(at,m,q);boxNumber=1,boxGroupNumber=Y.length,aa=8*(F.rangeBand())/(9*boxNumber+7);var au=L=d3.select(this);au.selectAll("g.box").remove();if(z==null){z=au.append("rect").attr("width",F.rangeBand()-aa/2).attr("height",q).style("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{z.attr("width",F.rangeBand()-aa/2).attr("height",q).style("visibility","hidden")}var av=au.selectAll("g.box").data(Y);av.enter().append("g");av.attr("class","box").each(function(ax,aH){if(ax.length==0){K.push({});return}ax=ax.sort(function(aR,aQ){return aR.val-aQ.val});var aM=ax.length,aK=ax[0],aL=ax[aM-1];al(ax);var aJ=d3.select(this).selectAll("circle.outliers").data(E);aJ.enter().append("circle");aJ.attr("cx",function(aR){var aQ=F(aH)+aa;return aQ}).attr("cy",function(aR,aQ){var aS=ai(aR.val);return aS}).attr("r","2").attr("stroke",O.register({drawingEffect:"normal",fillColor:D.color})).attr("stroke-width",D.width).attr("fill","none").attr("class","datapoint outliers");aJ.exit().remove();var aO=d3.select(this).selectAll("rect.quartile").data(u);aO.enter().append("rect");aO.attr("x",function(aR){var aQ=F(aH)+aa/2;return aQ}).attr("y",function(aR,aQ){var aS=ai(aR.pair[0].val);return aS}).attr("width",aa).attr("height",function(aS,aR){var aQ=0;var aT=aS.pair[1].val-aS.pair[0].val;if(aT==0){aQ=1}else{aQ=ai(aS.pair[1].val)-ai(aS.pair[0].val)}return aQ}).attr("shape-rendering","crispEdges").attr("fill",function(aQ){var aR={drawingEffect:V,fillColor:r[aH%r.length],direction:"horizontal"};return O.register(aR)}).attr("stroke-width",v.width).attr("class","datapoint quartile");if(u.length==2){var aC=F(aH)+aa/2;var ay=aC+aa;var aE=midLineYEnd=ai(u[0].midLine.val);var aG=d3.select(this);aG.append("line").attr("x1",aC).attr("y1",aE).attr("x2",ay).attr("y2",midLineYEnd).attr("stroke","#ffffff").attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","midline")}aO.exit().remove();var aD=0,aF=0,aI=0,aN=0;var aw=0,aA=0,az=0,aB=0;var aP=d3.select(this).selectAll("rect.rectlowwhisker").data(T);aP.enter().append("rect");aP.attr("x",function(aR){var aQ=F(aH)+aa/2;aw=aQ;az=aQ+aa;aD=aI=aQ+aa/2;return aQ}).attr("y",function(aQ){var aR=aQ.pair;var aS=ai(aR[0].val);aF=aS;aA=aB=ai(aR[1].val);return aS}).attr("width",aa).attr("height",function(aR){var aQ=ai(aR.pair[1].val)-ai(aR.pair[0].val);aN=ai(aR.pair[1].val);var aS=d3.select(this.parentNode);aS.append("line").attr("x1",aD).attr("y1",aF).attr("x2",aI).attr("y2",aN).attr("stroke",O.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","lineverticallowwhisker");var aS=d3.select(this.parentNode);aS.append("line").attr("x1",aw).attr("y1",aA).attr("x2",az).attr("y2",aB).attr("stroke",function(aT){var aU={drawingEffect:"normal",fillColor:r[aH%r.length]};return O.register(aU)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","linehorizontallowwhisker");return aQ}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","datapoint rectlowwhisker");aP.exit().remove();var aD=0,aF=0,aI=0,aN=0;var aw=0,aA=0,az=0,aB=0;var aP=d3.select(this).selectAll("rect.recthighwhisker").data(N);aP.enter().append("rect");aP.attr("x",function(aR){var aQ=F(aH)+aa/2;aw=aQ;az=aQ+aa;aD=aI=aQ+aa/2;return aQ}).attr("y",function(aQ,aR){var aS=aQ.pair;var aT=ai(aS[0].val);aF=aT;aA=aB=ai(aS[0].val);return aT}).attr("width",aa).attr("height",function(aT,aS){var aQ=ai(aT.pair[1].val)-ai(aT.pair[0].val);aN=aF+aQ;var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aD).attr("y1",aF).attr("x2",aI).attr("y2",aN).attr("stroke",O.register({drawingEffect:"normal",fillColor:"#000000"})).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","lineverticalhighwhisker");var aR=d3.select(this.parentNode);aR.append("line").attr("x1",aw).attr("y1",aA).attr("x2",az).attr("y2",aB).attr("stroke",function(aU){var aV={drawingEffect:"normal",fillColor:r[aH%r.length]};return O.register(aV)}).attr("stroke-width",1).attr("shape-rendering","crispEdges").attr("class","linehorizontalhighwhisker");return aQ}).attr("shape-rendering","crispEdges").attr("fill-opacity","0").attr("stroke-width","0").attr("class","datapoint recthighwhisker");aP.exit().remove();x();G.initialized()});av.exit().remove()});return am}am.width=function(at){if(!arguments.length){return m}m=at;if(a.isExist(m)&&a.isExist(q)&&a.isExist(Y)){S()}return am};am.height=function(at){if(!arguments.length){return q}q=at;if(a.isExist(m)&&a.isExist(q)&&a.isExist(Y)){S()}return am};var ap=function(at){if(at===null||at===undefined){return W}else{return at}};function X(av){var ay={body:[],footer:[]},au=0;if(n){var at={name:null,val:[]};au=av%n.length;at.name=n[au].name;if(n[au].label!=null&&n[au].shape!=null&&r[au]!=null){var ax={shape:null,color:null,label:null,value:null};ax.shape=n[au].shape;ax.color=r[au];ax.label=n[au].label;at.val.push(ax)}if(K){if(K[av]){for(var aw in K[av]){var ax={shape:null,color:null,label:null,value:null};ax.label=aw;if(K[av][aw]){if(aw=="outLiers(s)"){ax.value=K[av][aw]}else{ax.value=K[av][aw].val}}at.val.push(ax)}}}ay.body.push(at)}if(J){au=Math.floor(av/n.length);for(var aw=0;aw<J.length;aw++){if(J[aw].rows.length>0){var az={label:null,value:null};az.label=J[aw].col;az.value=J[aw].rows[au];ay.footer.push(az)}}}return ay}function ag(){if(ae){for(var ax in ae){J=ae[ax].values}}if(aq){var av=aq.values;if(av.length>1){if(av[0].type=="MND"){for(var az=0;az<av[0].rows.length;az++){for(var at=0;at<av[1].rows.length;at++){var ay={name:null,shape:null,color:null,label:null};ay.name=av[0].rows[az];var aw=[];for(var aA=1;aA<av.length;aA++){aw.push(av[aA].rows[at])}ay.label=aw;n.push(ay)}}}else{if(av[av.length-1].type=="MND"){for(var at=0;at<av[0].rows.length;at++){var aw=[];for(var aA=0;aA<av.length-1;aA++){aw.push(av[aA].rows[at])}for(var az=0;az<av[av.length-1].rows.length;az++){var ay={name:null,shape:null,color:null,label:null};ay.label=aw;ay.name=av[av.length-1].rows[az];n.push(ay)}}}}}else{for(var at=0;at<av[0].rows.length;at++){var ay={name:null,shape:null,color:null,label:null};ay.name=av[0].rows[at];n.push(ay)}}}for(var au=0;au<n.length;au++){n[au].shape="squareWithRadius"}}function ao(aw,ay,az){if(aw){var ax=aw.getAttribute("class");if(ax.indexOf("recthighwhisker")==-1&&ax.indexOf("rectlowwhisker")==-1&&ax.indexOf("linehorizontalhighwhisker")==-1&&ax.indexOf("lineverticalhighwhisker")==-1&&ax.indexOf("linehorizontallowwhisker")==-1&&ax.indexOf("lineverticallowwhisker")==-1){aw.setAttribute(ay,az)}else{if(ax.indexOf("recthighwhisker")!=-1){var av=aw.parentNode.querySelectorAll("line");if(av){for(var au=0,aA=av.length;au<aA;au++){var at=av[au].getAttribute("class");if(at.indexOf("linehorizontalhighwhisker")!=-1||at.indexOf("lineverticalhighwhisker")!=-1){av[au].setAttribute(ay,az)}}}}else{if(ax.indexOf("rectlowwhisker")!=-1){var av=aw.parentNode.querySelectorAll("line");if(av){for(var au=0,aA=av.length;au<aA;au++){var at=av[au].getAttribute("class");if(at.indexOf("linehorizontallowwhisker")!=-1||at.indexOf("lineverticallowwhisker")!=-1){av[au].setAttribute(ay,az)}}}}}}}}am.parent=function(){return L};am.highlight=function(at){if(at instanceof Array){for(var au=0,aw=at.length;au<aw;au++){var av=at[au];ao(av,"opacity",1)}}else{ao(at,"opacity",1)}};am.unhighlight=function(au){if(au instanceof Array){for(var av=0,at=au.length;av<at;av++){var aw=au[av];ao(aw,"opacity",0.2)}}else{ao(au,"opacity",0.2)}};am.clear=function(at){if(at==null){L.selectAll(".datapoint").attr("opacity",1);L.selectAll(".lineverticallowwhisker").attr("opacity",1);L.selectAll(".lineverticalhighwhisker").attr("opacity",1);L.selectAll(".linehorizontallowwhisker").attr("opacity",1);L.selectAll(".linehorizontalhighwhisker").attr("opacity",1)}else{L.selectAll(".datapoint").attr("opacity",0.2);L.selectAll(".lineverticallowwhisker").attr("opacity",0.2);L.selectAll(".lineverticalhighwhisker").attr("opacity",0.2);L.selectAll(".linehorizontallowwhisker").attr("opacity",0.2);L.selectAll(".linehorizontalhighwhisker").attr("opacity",0.2)}L.selectAll(".recthighwhisker").attr("opacity",0);L.selectAll(".rectlowwhisker").attr("opacity",0)};am.hoverOnPoint=function(at){var aw=at.x,au=at.y;var ax=-1;while(ax<Y.length){if(Math.abs(aw-F.rangeBand()*ax-0.5*F.rangeBand())<=0.5*F.rangeBand()){break}ax++}if(ax>(Y.length-1)||ax<0){z.style("visibility","hidden");return}z.attr("x",F.rangeBand()*ax+aa/4).style("visibility","visible");if(ah!==ax){if(I){ah=ax;var av=L[0][0].getTransformToElement(L[0][0].ownerSVGElement);var az=av.e;var ay=X(ax);ay.point={x:F.rangeBand()*ax+0.5*F.rangeBand()+az,y:d3.event.layerY};ay.plotArea={x:av.e,y:av.f,width:m,height:q};G.showTooltip(b.formatTooltipData(ay))}}};am.blurOut=function(){z.style("visibility","hidden");ah=null;if(I){G.hideTooltip()}};function aj(aw,ay,au,at,av){if(aw&&ay<=au&&au<aw.length){var ax=subEnd=pos=ay;while(pos<=au){while(((pos+1)<=au)&&(aw[pos+1].val==aw[pos].val)){subEnd++;pos++}at.push({val:aw[ax],parentGroupIndex:av,start:ax,end:subEnd});pos++;ax=subEnd=pos}}}function H(aA){var az=[];if(aA){var aw=Z.length;var aB=aw>0?Z[aw-1].val:null;if(aB){for(var ax=0,ay=aB.length;ax<ay;ax++){var av=aB[ax];var at=av.start;var au=av.end;aj(aA,at,au,az,ax)}}else{aj(aA,0,aA.length-1,az,null)}}return az}function s(av){if(av){var ax=av.getAnalysisAxisDataByIdx(0);aq=av.getAnalysisAxisDataByIdx(1);if(ax){var at=ax.values.length;if(at==1){Z.push({col:ax.values[0].col.val,val:[]})}else{for(var au=0;au<at-1;au++){var aw=ax.values[au].rows;Z.push({col:ax.values[au].col.val,val:H(aw)})}}}}}function M(ay,au){var at=Z.length,aw=0,av=0,ax=Z[at-1].val;while(ax[av].start!=ay){av++}while(ax[av].end!=au){aw++;av++}aw++;return aw}function p(){if(Z){var aE=Z.length,av=null;av=Z[aE-1].val;if(av.length==0){ar.push(0);ar.push(1)}else{for(var aC=0,au=av.length;aC<au;aC++){ar.push(aC)}}if(av.length==0){ae["sap.viz.modules.verticalboxplot.dimension"].values=[{col:{val:Z[aE-1].col},rows:[]}]}else{var aG=[];for(var aA=0;aA<aE;aA++){var aB={col:{val:""},rows:[]};aB.col.val=Z[aA].col;var az=Z[aA].val;for(var ay=0,aF=az.length;ay<aF;ay++){var at=az[ay].start,ax=az[ay].end,aD=M(at,ax);for(var aw=0;aw<aD;aw++){aB.rows.push({val:ap(az[ay].val.val),info:az[ay].val.info})}}aG.push(aB)}ae["sap.viz.modules.verticalboxplot.dimension"].values=aG}}}function o(au){r=[];if(C.length>0){for(var at=0;at<au;++at){r.push(C[at%C.length])}}}function ab(){I=U.tooltip.enabled;C=U.colorPalette;V=U.drawingEffect}am.data=function(aD){if(!arguments.length){return an}A();ab();an=aD;var aA=h(an);s(an);dataMG1=aA.MG1;var aC=dataMG1.length;var av=Z[Z.length-1].val;if(av.length!=0){for(var aB=0,au=av.length;aB<au;aB++){var at=av[aB].start,ay=av[aB].end;for(var az=0;az<aC;az++){var aF=[],ax=at,aE=ay;for(;ax<=aE;ax++){if(!i.isNoValue(dataMG1[az][ax].val)){aF.push(dataMG1[az][ax])}}Y.push(aF)}}}else{for(var az=0;az<aC;az++){var aF=[];for(var aw=0;aw<dataMG1[az].length;aw++){if(!i.isNoValue(dataMG1[az][aw].val)){aF.push(dataMG1[az][aw])}}Y.push(aF)}}Q(Y);p();if(a.isExist(m)&&a.isExist(q)){S()}ag();o(n.length);return am};am.primaryAxisTitle=function(au){if(!arguments.length){var ax=an.getMeasureValuesGroupDataByIdx(0),aw=[];if(ax){for(var av=0,at=ax.values.length;av<at;av++){if(ax.values[av].col!==null&&ax.values[av].col!==undefined){aw.push(ax.values[av].col)}else{aw.push(e.get("IDS_ISNOVALUE"))}}}return aw.join("/")}return this};am.secondAxisTitle=function(au){if(!arguments.length){var ax=an.getMeasureValuesGroupDataByIdx(1),aw=[];if(ax){for(var av=0,at=ax.values.length;av<at;av++){if(ax.values[av].col!==null&&ax.values[av].col!==undefined){aw.push(ax.values[av].col)}else{aw.push(e.get("IDS_ISNOVALUE"))}}}return aw.join("/")}return this};am.properties=function(at){if(!arguments.length){return U}g.extend(true,U,at);ab();o(n.length);return am};am.categoryScale=function(at){if(!arguments.length){return ak}ak=at;return am};am.primaryScale=function(at){if(!arguments.length){return ai}ai=at;return am};am.colorPalette=function(at){if(!arguments.length){return C}C=at;return am};am.dispatch=function(at){if(!arguments.length){return G}G=at;return this};U=B.props(null);return am};return d});sap.riv.module({qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.verticalboxplot",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.verticalboxplot",name:"vertical boxplot",base:"sap.viz.modules.xy.base",properties:{primaryValuesColorPalette:null,secondaryValuesColorPalette:null,tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},feeds:{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBoxplot",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/boxplot",name:"IDS_VERTICALBOXPLOTCHART",base:"riv/baseverticalchart",modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"verticalboxplot",orientation:"left"}}},main:{modules:{dataLabel:null,xAxis:{id:"sap.viz.modules.axis",configure:{properties:{isIndependentMode:true}}},plot:{id:"sap.viz.modules.verticalboxplot",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}}}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"independentData",sourceModule:"main.plot",source:"dimensionData"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.combination",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(e,k,c,i,a,b,j,n,m,h,g,d,l){var f=function(z,H){function r(Z){l.drawBound(Z,p,A);T=n();Z.each(function(aa){if(aa!==undefined){P(aa)}F=d3.select(this);u()});return r}r.afterUIComponentAppear=function(){o.initialized()};r.width=function(Z){if(!arguments.length){return p}p=Z;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.height=function(Z){if(!arguments.length){return A}A=Z;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.size=function(Z){if(!arguments.length){return{width:p,height:A}}p=Z.width;A=Z.height;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.properties=function(Z){if(!arguments.length){return R()}Y(g.extend(true,R(),Z));P(w,true);return r};r.dataLabel=function(Z){};r.data=function(Z){if(!arguments.length){return w}P(Z);return r};r.primaryAxisTitle=function(aa){if(!arguments.length){var ad=w.getMeasureValuesGroupDataByIdx(0),ac=[];if(ad){for(var ab=0,Z=ad.values.length;ab<Z;ab++){if(ad.values[ab].col!==null&&ad.values[ab].col!==undefined){ac.push(ad.values[ab].col)}else{ac.push(d.get("IDS_ISNOVALUE"))}}}return ac.join("/")}return this};r.secondAxisTitle=function(aa){if(!arguments.length){var ad=w.getMeasureValuesGroupDataByIdx(1),ac=[];if(ad){for(var ab=0,Z=ad.values.length;ab<Z;ab++){if(ad.values[ab].col!==null&&ad.values[ab].col!==undefined){ac.push(ad.values[ab].col)}else{ac.push(d.get("IDS_ISNOVALUE"))}}}return ac.join("/")}return this};r.dispatch=function(Z){if(!arguments.length){return o}o=Z;return r};r.primaryScale=function(Z){if(!arguments.length){return K.scale}K.scale=Z;return r};r.secondaryScale=function(Z){if(!arguments.length){return J.scale}J.scale=Z;return r};r.categoryScale=function(Z){if(!arguments.length){return M}M=Z;return r};r.primaryDataRange=function(Z){if(!arguments.length){return{min:K.scale.domain()[0],max:K.scale.domain()[1]}}if(Z!==null){K.topValue=Z.max;K.bottomValue=Z.min;if(Z.from==="axis"){K.manualRange=true}if(a.isExist(p)&&a.isExist(A)){D(K,K.scale)}}return r};r.secondDataRange=function(Z){if(!arguments.length){return{min:J.scale.domain()[0],max:J.scale.domain()[1]}}if(Z!==null){J.topValue=Z.max;J.bottomValue=Z.min;if(Z.from==="axis"){J.manualRange=true}if(a.isExist(p)&&a.isExist(A)){D(J,J.scale)}}return r};r.primaryAxisColor=function(){if(!O.MNDOnCategory){return O.primaryValuesColorPalette[0]}else{return null}};r.secondAxisColor=function(){if(!O.MNDOnCategory){return O.secondaryValuesColorPalette[0]}else{return null}};r.colorPalette=function(Z){if(!arguments.length){return V}return r};r.shapePalette=function(Z){if(!arguments.length){return N}return r};r.parent=function(){return F};r.clear=function(Z){for(var aa in C){if(Z===undefined){C[aa].module.clear()}else{C[aa].module.clear("grayall")}}};r.highlight=function(ae){var ad,ab;var aa;if(ae instanceof Array){aa=ae}else{aa=[];aa.push(ae)}if(aa.length===0){return}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].highlightArray=[]}}for(ad=0;ad<aa.length;ad++){var ac=aa[ad];for(ab in C){if(C.hasOwnProperty(ab)){var Z=C[ab].dataPointElements;if(s(Z,ac)){C[ab].highlightArray.push(ac);break}}}}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].module.highlight(C[ad].highlightArray)}}};r.unhighlight=function(ae){var ad,ab;var aa;if(ae instanceof Array){aa=ae}else{aa=[];aa.push(ae)}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].unhighlightArray=[]}}for(ad=0;ad<aa.length;ad++){var ac=aa[ad];for(ab in C){if(C.hasOwnProperty(ab)){var Z=C[ab].dataPointElements;if(s(Z,ac)){C[ab].unhighlightArray.push(ac);break}}}}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].module.unhighlight(C[ad].unhighlightArray)}}};r.hoverOnPoint=function(Z){var ac;if(O.tooltip.enabled){var ae=Z.x,ad=Z.y;if(ae<0||ae>p){return}var aa=X(ae);if(L===aa){return}L=aa;var af=T.generateTooltipData(w,I,aa,V,N);var ab=F.node().getTransformToElement(F.node().ownerSVGElement);af.point={x:M.rangeBand()*(aa+0.5)+ab.e,y:A/4+ab.f};o.showTooltip(n.formatTooltipData(af))}for(ac in C){if(C.hasOwnProperty(ac)){C[ac].module.hoverOnPoint(Z)}}return true};r.blurOut=function(){var Z;if(O.tooltip.enabled){o.hideTooltip();L=-1}for(Z in C){if(C.hasOwnProperty(Z)){C[Z].module.blurOut()}}return true};var M=d3.scale.ordinal(),K={scale:d3.scale.linear()},J={scale:d3.scale.linear()};var T;var o=new e("showTooltip","hideTooltip","initialized","startToInit");var p,A;var O={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var S=H.effectManager;var w,I;var F;var V,N;var C;var L=-1;var x=function(Z){this.mtype=Z};x.prototype.initialized=function(){G.initialized(this.mtype)};x.prototype.startToInit=function(){o.startToInit()};var G={initialized:function(aa){var Z;if(C[aa]){C[aa].isCompleteAnimation=true}for(Z in C){if(!C[Z].isCompleteAnimation){return true}}o.initialized();return true}};function W(){C={}}function P(ag,an){var ap,ao,ah,ad;if((ag===null)||(ag===undefined)||(!an&&(w===ag))){return}W();w=ag;var aj=i(w);O.MNDInner=aj.MNDInner;K.data=aj.MG1;J.data=aj.MG2;I=n.dataTransform(aj);if(aj.color){var aa=aj.MG1;var af=[];var ae=[];for(ap=0;ap<aa.length;ap++){var Z=[];var ar=[];var aq=aa[ap];for(ao=0;ao<aq.length;ao++){if(aj.color[ao]===0){Z.push(aq[ao])}else{if(aj.color[ao]===1){ar.push(aq[ao])}}}af.push(Z);ae.push(ar)}K.data=af;J.data=ae}if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}if(aj.hasMND&&!aj.MNDOnColor){ah=O.dataShape.primaryAxis[0];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={}}C[ah].data=w;O.MNDOnCategory=true}else{O.MNDOnCategory=false;var am=w.getAnalysisAxisDataByIdx(0);var ak=w.getAnalysisAxisDataByIdx(1);var ac=w.getMeasureValuesGroupDataByIdx(0);var ab=w.getMeasureValuesGroupDataByIdx(1);for(ap=0;ap<ac.values.length;ap++){ah=O.dataShape.primaryAxis[ap];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={m1Num:0,m2Num:0}}ad=C[ah];ad.m1Num++;if(ad.data===undefined){ad.data=new j();ad.data.addAnalysisAxis(am);ad.data.addAnalysisAxis(ak);ad.data.addMeasureValuesGroup({index:ac.index,values:[]});if(ab){ad.data.addMeasureValuesGroup({index:ab.index,values:[]})}}var al=ad.data.getMeasureValuesGroupDataByIdx(0);al.values.push(ac.values[ap])}if(ab){for(ap=0;ap<ab.values.length;ap++){ah=O.dataShape.secondAxis[ap];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={m1Num:0,m2Num:0}}ad=C[ah];ad.m2Num++;if(ad.data===undefined){ad.data=new j();ad.data.addAnalysisAxis(am);ad.data.addAnalysisAxis(ak);ad.data.addMeasureValuesGroup({index:ac.index,values:[]});if(ab){ad.data.addMeasureValuesGroup({index:ab.index,values:[]})}}var ai=ad.data.getMeasureValuesGroupDataByIdx(1);ai.values.push(ab.values[ap])}}}v()}function v(){var ae,ad,ac,ab,al;if(w===undefined){return}var aj=w.getMeasureValuesGroupDataByIdx(0);var ah=w.getMeasureValuesGroupDataByIdx(1);var ai;var aa;if(ah&&!O.MNDOnCategory){ai=O.primaryValuesColorPalette}else{ai=O.colorPalette}aa=O.secondaryValuesColorPalette;V=[];N=[];for(ae in C){if(C.hasOwnProperty(ae)){C[ae].colorPaletteY1=[];C[ae].currentM1Index=-1;if(ah){C[ae].colorPaletteY2=[];C[ae].currentM2Index=-1}}}if(O.MNDOnCategory){ab=O.dataShape.primaryAxis[0];var am=aj.values[0].rows.length;for(ad=0;ad<am;ad++){C[ab].colorPaletteY1.push(ai[(ad)%ai.length]);N.push(B(ab));V.push(ai[(ad)%ai.length])}}else{var ak=aj.values.length;var ag=0;if(ah){ag=ah.values.length}var af=ak+ag;var Z=aj.values[0].rows.length;for(ae=0;ae<ak;ae++){ab=O.dataShape.primaryAxis[ae];if(ab===undefined){ab=O.defaultShape}al=C[ab];al.currentM1Index++;for(ad=0;ad<Z;ad++){if(O.MNDInner){ac=ai[(ae+ad*ak)%ai.length];al.colorPaletteY1[al.currentM1Index+ad*al.m1Num]=ac;N[ae+ad*af]=B(ab);V[ae+ad*af]=ac}else{ac=ai[(ae*Z+ad)%ai.length];C[ab].colorPaletteY1.push(ac);N.push(B(ab));V.push(ac)}}}if(ah){for(ae=0;ae<ag;ae++){ab=O.dataShape.secondAxis[ae];if(ab===undefined){ab=O.defaultShape}al=C[ab];al.currentM2Index++;for(ad=0;ad<Z;ad++){if(O.MNDInner){ac=aa[(ae+ad*ag)%aa.length];al.colorPaletteY2[al.currentM2Index+ad*al.m2Num]=ac;N[ak+ae+ad*af]=B(ab);V[ak+ae+ad*af]=ac}else{ac=aa[(ae*Z+ad)%aa.length];C[ab].colorPaletteY2.push(ac);N.push(B(ab));V.push(ac)}}}}}}function q(aa,Z){return(O.priorityMap[Z]-O.priorityMap[aa])}function E(){var ac=[],aa;for(aa in C){if(C.hasOwnProperty(aa)){ac.push(aa)}}ac.sort(q);F.selectAll(".module").remove();var Z=F.selectAll(".module").data(ac);Z.enter().append("svg:g").attr("class","module");Z.exit().remove();Z.each(function(ad){C[ad].d3root=d3.select(this)});for(aa in C){if(C.hasOwnProperty(aa)){C[aa].module=Q(aa);var ab={colorPalette:C[aa].colorPaletteY1,primaryValuesColorPalette:C[aa].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:O.animation.dataLoading},drawingEffect:O.drawingEffect};if(C[aa].colorPaletteY2){ab.secondaryValuesColorPalette=C[aa].colorPaletteY2}switch(aa){case"line":ab.hoverline={visible:false};b.extend(ab,O.line);break;case"bar":ab.animation.dataUpdating=O.animation.dataLoading;b.extend(ab,O.bar);break;default:break}C[aa].props=ab;C[aa].module.dispatch(new x(aa))}}}function u(){var aa;E();for(aa in C){if(C.hasOwnProperty(aa)){var Z=C[aa];Z.module.width(p).height(A).data(Z.data).properties(Z.props).primaryScale(K.scale).categoryScale(M);var ab=w.getMeasureValuesGroupDataByIdx(1);if(ab){switch(aa){case"bar":Z.module.secondScale(J.scale);break;case"line":Z.module.secondaryScale(J.scale);break;default:break}}Z.d3root.call(Z.module);Z.dataPointElements=[];Z.d3root.selectAll(".datapoint").each(function(){Z.dataPointElements.push(this)})}}}function X(aa){var Z=aa/M.rangeBand();Z=Math.floor(Z);return Z}function t(){var ab=[];var Z=0;if(O.MNDOnCategory){if(K.data&&K.data.length>0){Z+=K.data[0].length}if(J.data&&J.data.length>0){Z+=J.data[0].length}}else{if(K.data&&K.data.length>0){Z=K.data[0].length}else{Z=J.data[0].length}}for(var aa=0;aa<Z;aa++){ab.push(aa)}M.domain(ab).rangeBands([0,p]);D(K,K.scale);D(J,J.scale);if(K.data&&K.data.length>0&&J.data&&J.data.length>0){if(K.scale.domain().length===0&&J.scale.domain().length===0){K.scale.domain([0,1]).range([A,0]);J.scale.domain([0,1]).range([A,0])}else{if(K.scale.domain().length===0&&J.scale.domain().length!==0){K.scale.domain(J.scale.domain()).range(J.scale.range())}else{if(K.scale.domain().length!==0&&J.scale.domain().length===0){J.scale.domain(K.scale.domain()).range(K.scale.range())}}}if(!K.manualRange&&!J.manualRange){m.perfectDual(K.scale,J.scale)}else{if(!K.manualRange){m.perfect(K.scale)}else{if(!J.manualRange){m.perfect(J.scale)}}}}else{if(K.data&&K.data.length>0&&!K.manualRange){if(K.scale.domain().length===0){K.scale.domain([0,1]).range([A,0])}m.perfect(K.scale)}else{if(J.data&&J.data.length>0&&!J.manualRange){if(J.scale.domain().length===0){J.scale.domain([0,1]).range([A,0])}m.perfect(J.scale)}}}}function D(aa,ab){if(aa.data&&aa.data.length>0){if(aa.topValue===undefined){var Z=U(aa);if(!Z||(Z.min===0&&Z.max===0)){ab.domain([]).range([])}else{ab.domain([Z.min,Z.max]).range([A,0])}}else{ab.domain([aa.bottomValue,aa.topValue]).range([A,0])}}else{ab.domain([0,0]).range(0,0)}}function R(){var Z={};Z.tooltip={enabled:O.tooltip.enabled};Z.primaryValuesColorPalette=O.primaryValuesColorPalette;Z.secondaryValuesColorPalette=O.secondaryValuesColorPalette;Z.colorPalette=O.colorPalette;Z.drawingEffect=O.drawingEffect;Z.animation={dataLoading:O.animation.dataLoading};Z.dataShape={};b.extend(true,Z.dataShape,O.dataShape);Z.bar={};b.extend(true,Z.bar,O.bar);Z.line={};b.extend(true,Z.line,O.line);return Z}function Y(Z){O.tooltip={enabled:Z.tooltip.enabled};O.primaryValuesColorPalette=Z.primaryValuesColorPalette;O.secondaryValuesColorPalette=Z.secondaryValuesColorPalette;O.drawingEffect=Z.drawingEffect;O.colorPalette=Z.colorPalette;O.animation={dataLoading:Z.animation.dataLoading};O.dataShape={};b.extend(true,O.dataShape,Z.dataShape);O.bar={};b.extend(true,O.bar,Z.bar);O.line={};b.extend(true,O.line,Z.line);return O}function Q(aa){var Z;switch(aa){case"bar":Z=k.module.get("sap.viz.modules.verticalbar");break;case"line":Z=k.module.get("sap.viz.modules.line");break;default:break}return Z.fn(Z,H)}function B(aa){var Z;switch(aa){case"line":Z=O.line.marker.shape;break;case"bar":Z="squareWithRadius";break;default:break}return Z}function s(aa,Z){for(var ab=0;ab<aa.length;ab++){if(aa[ab]===Z){return true}}return false}function U(ab){if(!ab.data||ab.data.length===0){return null}var aa={min:null,max:null};aa.max=d3.max(ab.data,function(ac){return d3.max(ac,function(ad){return ad.val})});aa.min=d3.min(ab.data,function(ac){return d3.min(ac,function(ad){return ad.val})});if(h.isNoValue(aa.max)){return null}if(aa.min>=0){aa.min=0;aa.max+=aa.max*5/A}else{if(aa.max<=0){aa.max=0;aa.min+=aa.min*5/A}else{var Z=(aa.max-aa.min)*5/A;aa.min-=Z;aa.max+=Z}}return aa}Y(z.props(null));return r};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.combination",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(d,b,c){var a={base:"sap.viz.modules.xy.base",id:"sap.viz.modules.combination",name:"combination",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data loading animation of plot area."}},description:"Settings for animation of plot area."},dataShape:{name:"dataShape",supportedValueType:"Object",supportedValues:{primaryAxis:{name:"primaryAxis",supportedValueType:"StringArray",supportedValues:["bar","line"],defaultValue:["bar","line","line"],description:"Set shape of measure index1 data."},secondAxis:{name:"secondAxis",supportedValueType:"StringArray",supportedValues:["line","line"],defaultValue:["line","line","line"],description:"Set shape of measure index2 data.",isExported:false}},description:"Set shape of measure data."},bar:{name:"bar",supportedValueType:"Object",supportedValues:{isRoundCorner:{name:"isRoundCorner",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable round corner of bar."}},description:"Settings for bar properties."},line:{name:"line",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},marker:{name:"marker",description:"Set marker/data point graphics settings.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set to show marker or not."},shape:{name:"shape",supportedValueType:"StringArray",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},description:"Settings for line properties."}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalcombination",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(e,k,c,i,a,b,j,n,m,h,g,d,l){var f=function(z,H){function r(Z){T=n();l.drawBound(Z,p,A);Z.each(function(aa){if(aa!==undefined){P(aa)}F=d3.select(this);u()});return r}r.width=function(Z){if(!arguments.length){return p}p=Z;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.height=function(Z){if(!arguments.length){return A}A=Z;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.afterUIComponentAppear=function(){o.initialized()};r.size=function(Z){if(!arguments.length){return{width:p,height:A}}p=Z.width;A=Z.height;if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}return r};r.properties=function(Z){if(!arguments.length){return R()}Y(g.extend(true,R(),Z));P(w,true);return r};r.dataLabel=function(Z){};r.data=function(Z){if(!arguments.length){return w}P(Z);return r};r.primaryAxisTitle=function(aa){if(!arguments.length){var ad=w.getMeasureValuesGroupDataByIdx(0),ac=[];if(ad){for(var ab=0,Z=ad.values.length;ab<Z;ab++){if(ad.values[ab].col!==null&&ad.values[ab].col!==undefined){ac.push(ad.values[ab].col)}else{ac.push(d.get("IDS_ISNOVALUE"))}}}return ac.join("/")}return this};r.secondAxisTitle=function(aa){if(!arguments.length){var ad=w.getMeasureValuesGroupDataByIdx(1),ac=[];if(ad){for(var ab=0,Z=ad.values.length;ab<Z;ab++){if(ad.values[ab].col!==null&&ad.values[ab].col!==undefined){ac.push(ad.values[ab].col)}else{ac.push(d.get("IDS_ISNOVALUE"))}}}return ac.join("/")}return this};r.dispatch=function(Z){if(!arguments.length){return o}o=Z;return r};r.primaryScale=function(Z){if(!arguments.length){return K.scale}K.scale=Z;return r};r.secondaryScale=function(Z){if(!arguments.length){return J.scale}J.scale=Z;return r};r.categoryScale=function(Z){if(!arguments.length){return M}M=Z;return r};r.primaryDataRange=function(Z){if(!arguments.length){return{min:K.scale.domain()[0],max:K.scale.domain()[1]}}if(Z!==null){K.topValue=Z.max;K.bottomValue=Z.min;if(Z.from==="axis"){K.manualRange=true}if(a.isExist(p)&&a.isExist(A)){D(K,K.scale)}}return r};r.secondDataRange=function(Z){if(!arguments.length){return{min:J.scale.domain()[0],max:J.scale.domain()[1]}}if(Z!==null){J.topValue=Z.max;J.bottomValue=Z.min;if(Z.from==="axis"){J.manualRange=true}if(a.isExist(p)&&a.isExist(A)){D(J,J.scale)}}return r};r.primaryAxisColor=function(){if(!O.MNDOnCategory){return O.primaryValuesColorPalette[0]}else{return null}};r.secondAxisColor=function(){if(!O.MNDOnCategory){return O.secondaryValuesColorPalette[0]}else{return null}};r.colorPalette=function(Z){if(!arguments.length){return V}return r};r.shapePalette=function(Z){if(!arguments.length){return N}return r};r.parent=function(){return F};r.clear=function(Z){for(var aa in C){if(Z===undefined){C[aa].module.clear()}else{C[aa].module.clear("grayall")}}};r.highlight=function(ae){var ad,ab;var aa;if(ae instanceof Array){aa=ae}else{aa=[];aa.push(ae)}if(aa.length===0){return}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].highlightArray=[]}}for(ad=0;ad<aa.length;ad++){var ac=aa[ad];for(ab in C){if(C.hasOwnProperty(ab)){var Z=C[ab].dataPointElements;if(s(Z,ac)){C[ab].highlightArray.push(ac);break}}}}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].module.highlight(C[ad].highlightArray)}}};r.unhighlight=function(ae){var ad,ab;var aa;if(ae instanceof Array){aa=ae}else{aa=[];aa.push(ae)}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].unhighlightArray=[]}}for(ad=0;ad<aa.length;ad++){var ac=aa[ad];for(ab in C){if(C.hasOwnProperty(ab)){var Z=C[ab].dataPointElements;if(s(Z,ac)){C[ab].unhighlightArray.push(ac);break}}}}for(ad in C){if(C.hasOwnProperty(ad)){C[ad].module.unhighlight(C[ad].unhighlightArray)}}};r.hoverOnPoint=function(Z){var ac;if(O.tooltip.enabled){var ae=Z.x,ad=Z.y;if(ad<0||ad>A){return}var aa=X(ad);if(L===aa){return}L=aa;var af=T.generateTooltipData(w,I,aa,V,N);var ab=F.node().getTransformToElement(F.node().ownerSVGElement);af.point={y:(A-M.rangeBand()*(aa+0.5))+ab.f,x:p*3/4+ab.e};o.showTooltip(n.formatTooltipData(af))}for(ac in C){if(C.hasOwnProperty(ac)){C[ac].module.hoverOnPoint(Z)}}return true};r.blurOut=function(){var Z;if(O.tooltip.enabled){o.hideTooltip();L=-1}for(Z in C){if(C.hasOwnProperty(Z)){C[Z].module.blurOut()}}return true};var M=d3.scale.ordinal(),K={scale:d3.scale.linear()},J={scale:d3.scale.linear()};var T;var o=new e("showTooltip","hideTooltip","initialized","startToInit");var p,A;var O={priorityMap:{bar:5,line:0},defaultShape:"line",MNDOnCategory:false,MNDInner:false};var S=H.effectManager;var w,I;var F;var V,N;var C;var L=-1;var x=function(Z){this.mtype=Z};x.prototype.initialized=function(){G.initialized(this.mtype)};x.prototype.startToInit=function(){o.startToInit()};var G={initialized:function(aa){var Z;if(C[aa]){C[aa].isCompleteAnimation=true}for(Z in C){if(!C[Z].isCompleteAnimation){return true}}o.initialized();return true}};function W(){C={}}function P(ag,an){var ap,ao,ah,ad;if((ag===null)||(ag===undefined)||(!an&&(w===ag))){return}W();w=ag;var aj=i(w);O.MNDInner=aj.MNDInner;K.data=aj.MG1;J.data=aj.MG2;I=n.dataTransform(aj);if(aj.color){var aa=aj.MG1;var af=[];var ae=[];for(ap=0;ap<aa.length;ap++){var Z=[];var ar=[];var aq=aa[ap];for(ao=0;ao<aq.length;ao++){if(aj.color[ao]===0){Z.push(aq[ao])}else{if(aj.color[ao]===1){ar.push(aq[ao])}}}af.push(Z);ae.push(ar)}K.data=af;J.data=ae}if(a.isExist(p)&&a.isExist(A)&&a.isExist(w)){t()}if(aj.hasMND&&!aj.MNDOnColor){ah=O.dataShape.primaryAxis[0];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={}}C[ah].data=w;O.MNDOnCategory=true}else{O.MNDOnCategory=false;var am=w.getAnalysisAxisDataByIdx(0);var ak=w.getAnalysisAxisDataByIdx(1);var ac=w.getMeasureValuesGroupDataByIdx(0);var ab=w.getMeasureValuesGroupDataByIdx(1);for(ap=0;ap<ac.values.length;ap++){ah=O.dataShape.primaryAxis[ap];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={m1Num:0,m2Num:0}}ad=C[ah];ad.m1Num++;if(ad.data===undefined){ad.data=new j();ad.data.addAnalysisAxis(am);ad.data.addAnalysisAxis(ak);ad.data.addMeasureValuesGroup({index:ac.index,values:[]});if(ab){ad.data.addMeasureValuesGroup({index:ab.index,values:[]})}}var al=ad.data.getMeasureValuesGroupDataByIdx(0);al.values.push(ac.values[ap])}if(ab){for(ap=0;ap<ab.values.length;ap++){ah=O.dataShape.secondAxis[ap];if(ah===undefined){ah=O.defaultShape}if(C[ah]===undefined){C[ah]={m1Num:0,m2Num:0}}ad=C[ah];ad.m2Num++;if(ad.data===undefined){ad.data=new j();ad.data.addAnalysisAxis(am);ad.data.addAnalysisAxis(ak);ad.data.addMeasureValuesGroup({index:ac.index,values:[]});if(ab){ad.data.addMeasureValuesGroup({index:ab.index,values:[]})}}var ai=ad.data.getMeasureValuesGroupDataByIdx(1);ai.values.push(ab.values[ap])}}}v()}function v(){var ae,ad,ac,ab,al;if(w===undefined){return}var aj=w.getMeasureValuesGroupDataByIdx(0);var ah=w.getMeasureValuesGroupDataByIdx(1);var ai;var aa;if(ah&&!O.MNDOnCategory){ai=O.primaryValuesColorPalette}else{ai=O.colorPalette}aa=O.secondaryValuesColorPalette;V=[];N=[];for(ae in C){if(C.hasOwnProperty(ae)){C[ae].colorPaletteY1=[];C[ae].currentM1Index=-1;if(ah){C[ae].colorPaletteY2=[];C[ae].currentM2Index=-1}}}if(O.MNDOnCategory){ab=O.dataShape.primaryAxis[0];var am=aj.values[0].rows.length;for(ad=0;ad<am;ad++){C[ab].colorPaletteY1.push(ai[(ad)%ai.length]);N.push(B(ab));V.push(ai[(ad)%ai.length])}}else{var ak=aj.values.length;var ag=0;if(ah){ag=ah.values.length}var af=ak+ag;var Z=aj.values[0].rows.length;for(ae=0;ae<ak;ae++){ab=O.dataShape.primaryAxis[ae];if(ab===undefined){ab=O.defaultShape}al=C[ab];al.currentM1Index++;for(ad=0;ad<Z;ad++){if(O.MNDInner){ac=ai[(ae+ad*ak)%ai.length];al.colorPaletteY1[al.currentM1Index+ad*al.m1Num]=ac;N[ae+ad*af]=B(ab);V[ae+ad*af]=ac}else{ac=ai[(ae*Z+ad)%ai.length];C[ab].colorPaletteY1.push(ac);N.push(B(ab));V.push(ac)}}}if(ah){for(ae=0;ae<ag;ae++){ab=O.dataShape.secondAxis[ae];if(ab===undefined){ab=O.defaultShape}al=C[ab];al.currentM2Index++;for(ad=0;ad<Z;ad++){if(O.MNDInner){ac=aa[(ae+ad*ag)%aa.length];al.colorPaletteY2[al.currentM2Index+ad*al.m2Num]=ac;N[ak+ae+ad*af]=B(ab);V[ak+ae+ad*af]=ac}else{ac=aa[(ae*Z+ad)%aa.length];C[ab].colorPaletteY2.push(ac);N.push(B(ab));V.push(ac)}}}}}}function q(aa,Z){return(O.priorityMap[Z]-O.priorityMap[aa])}function E(){var ac=[],aa;for(aa in C){if(C.hasOwnProperty(aa)){ac.push(aa)}}ac.sort(q);F.selectAll(".module").remove();var Z=F.selectAll(".module").data(ac);Z.enter().append("svg:g").attr("class","module");Z.exit().remove();Z.each(function(ad){C[ad].d3root=d3.select(this)});for(aa in C){if(C.hasOwnProperty(aa)){C[aa].module=Q(aa);var ab={colorPalette:C[aa].colorPaletteY1,primaryValuesColorPalette:C[aa].colorPaletteY1,tooltip:{enabled:false},animation:{dataLoading:O.animation.dataLoading},drawingEffect:O.drawingEffect};if(C[aa].colorPaletteY2){ab.secondaryValuesColorPalette=C[aa].colorPaletteY2}switch(aa){case"line":ab.hoverline={visible:false};b.extend(ab,O.line);break;case"bar":ab.animation.dataUpdating=O.animation.dataLoading;b.extend(ab,O.bar);break;default:break}C[aa].props=ab;C[aa].module.dispatch(new x(aa))}}}function u(){var aa;E();for(aa in C){if(C.hasOwnProperty(aa)){var Z=C[aa];Z.module.width(p).height(A).data(Z.data).properties(Z.props).primaryScale(K.scale).categoryScale(M);var ab=w.getMeasureValuesGroupDataByIdx(1);if(ab){switch(aa){case"bar":Z.module.secondScale(J.scale);break;case"line":Z.module.secondaryScale(J.scale);break;default:break}}Z.d3root.call(Z.module);Z.dataPointElements=[];Z.d3root.selectAll(".datapoint").each(function(){Z.dataPointElements.push(this)})}}}function X(ab){var Z=M.domain().length;var aa=ab/M.rangeBand();aa=Math.floor(aa);return Z-1-aa}function t(){var ab=[];var Z=0;if(O.MNDOnCategory){if(K.data&&K.data.length>0){Z+=K.data[0].length}if(J.data&&J.data.length>0){Z+=J.data[0].length}}else{if(K.data&&K.data.length>0){Z=K.data[0].length}else{Z=J.data[0].length}}for(var aa=0;aa<Z;aa++){ab.push(aa)}M.domain(ab).rangeBands([A,0]);D(K,K.scale);D(J,J.scale);if(K.data&&K.data.length>0&&J.data&&J.data.length>0){if(K.scale.domain().length===0&&J.scale.domain().length===0){K.scale.domain([0,1]).range([0,p]);J.scale.domain([0,1]).range([0,p])}else{if(K.scale.domain().length===0&&J.scale.domain().length!==0){K.scale.domain(J.scale.domain()).range(J.scale.range())}else{if(K.scale.domain().length!==0&&J.scale.domain().length===0){J.scale.domain(K.scale.domain()).range(K.scale.range())}}}if(!K.manualRange&&!J.manualRange){m.perfectDual(K.scale,J.scale)}else{if(!K.manualRange){m.perfect(K.scale)}else{if(!J.manualRange){m.perfect(J.scale)}}}}else{if(K.data&&K.data.length>0&&!K.manualRange){if(K.scale.domain().length===0){K.scale.domain([0,1]).range([0,p])}m.perfect(K.scale)}else{if(J.data&&J.data.length>0&&!J.manualRange){if(J.scale.domain().length===0){J.scale.domain([0,1]).range([0,p])}m.perfect(J.scale)}}}}function D(aa,ab){if(aa.data&&aa.data.length>0){if(aa.topValue===undefined){var Z=U(aa);if(!Z||(Z.min===0&&Z.max===0)){ab.domain([]).range([])}else{ab.domain([Z.min,Z.max]).range([0,p])}}else{ab.domain([aa.bottomValue,aa.topValue]).range([0,p])}}else{ab.domain([0,0]).range(0,0)}}function R(){var Z={};Z.tooltip={enabled:O.tooltip.enabled};Z.primaryValuesColorPalette=O.primaryValuesColorPalette;Z.secondaryValuesColorPalette=O.secondaryValuesColorPalette;Z.colorPalette=O.colorPalette;Z.drawingEffect=O.drawingEffect;Z.animation={dataLoading:O.animation.dataLoading};Z.dataShape={};b.extend(true,Z.dataShape,O.dataShape);Z.bar={};b.extend(true,Z.bar,O.bar);Z.line={};b.extend(true,Z.line,O.line);return Z}function Y(Z){O.tooltip={enabled:Z.tooltip.enabled};O.primaryValuesColorPalette=Z.primaryValuesColorPalette;O.secondaryValuesColorPalette=Z.secondaryValuesColorPalette;O.drawingEffect=Z.drawingEffect;O.colorPalette=Z.colorPalette;O.animation={dataLoading:Z.animation.dataLoading};O.dataShape={};b.extend(true,O.dataShape,Z.dataShape);O.bar={};b.extend(true,O.bar,Z.bar);O.line={};b.extend(true,O.line,Z.line);return O}function Q(aa){var Z;switch(aa){case"bar":Z=k.module.get("sap.viz.modules.bar");break;case"line":Z=k.module.get("sap.viz.modules.horizontalline");break;default:break}return Z.fn(Z,H)}function B(aa){var Z;switch(aa){case"line":Z=O.line.marker.shape;break;case"bar":Z="squareWithRadius";break;default:break}return Z}function s(aa,Z){for(var ab=0;ab<aa.length;ab++){if(aa[ab]===Z){return true}}return false}function U(ab){if(!ab.data||ab.data.length===0){return null}var aa={min:null,max:null};aa.max=d3.max(ab.data,function(ac){return d3.max(ac,function(ad){return ad.val})});aa.min=d3.min(ab.data,function(ac){return d3.min(ac,function(ad){return ad.val})});if(h.isNoValue(aa.max)){return null}if(aa.min>=0){aa.min=0;aa.max+=aa.max*5/p}else{if(aa.max<=0){aa.max=0;aa.min+=aa.min*5/p}else{var Z=(aa.max-aa.min)*5/p;aa.min-=Z;aa.max+=Z}}return aa}Y(z.props(null));return r};return f});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.horizontalcombination",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.0"}],function Setup(c,b){var a={base:"sap.viz.modules.combination",id:"sap.viz.modules.horizontalcombination",name:"horizontalcombination",fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.line",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(f,h,a,o,c,l,i,e,k,n,j,d,g,b,m){return function(H,T){var p,r;var O=null,X;var V=d.newId();var t=null;var ag;var ab="#FFFFFF";var W="#cccccc";var Z="#333333";var J=d3.scale.ordinal();var aj;var af;var an;var S,s,B;var K=new f("showTooltip","hideTooltip","initialized","startToInit");var G;var aa;var N;var R=T.effectManager;var Q={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var x={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var I=[];var ae="axis1";var ad="axis2";var ac=false;var u=true;var am=0;var ap;var P=0.4;function C(aq){m.drawBound(aq,p,r);ag=n();E(aq);return C}function ai(at){var ar={min:null,max:null};if(!at.data||at.data.length===0){return}ar.max=Number(d3.max(at.data,function(au){return d3.max(au,function(av){return av.val})}));ar.min=Number(d3.min(at.data,function(au){return d3.min(au,function(av){return av.val})}));if(i.isNoValue(ar.max)){return null}if(ar.min>=0){ar.min=0;ar.max+=ar.max*5/r}else{if(ar.max<=0){ar.max=0;ar.min+=ar.min*5/r}else{var aq=(ar.max-ar.min)*5/r;ar.min-=aq;ar.max+=aq}}return ar}function q(){I=[];var av=0,au=0;if(x.data&&x.data.length>0){Q.colorPalette=X.primaryValuesColorPalette}else{Q.colorPalette=X.colorPalette}x.colorPalette=X.secondaryValuesColorPalette;if(G&&aa&&N){var ay=O.getMeasureValuesGroupDataByIdx(0);var ax=O.getMeasureValuesGroupDataByIdx(1);var aw=0,at=0,ar=0,aq=0;if(ay&&ay.values.length>0){aw=ay.values.length;aq=ay.values[0].rows.length}if(ax&&ax.values.length>0){at=ax.values.length;aq=ax.values[0].rows.length}for(av=0;av<aq;av++){for(au=0;au<aw;au++){I.push(Q.colorPalette[av*aw+au%Q.colorPalette.length])}for(au=0;au<at;au++){I.push(x.colorPalette[av*at+au%x.colorPalette.length])}}}else{for(av=0;av<Q.data.length;++av){I.push(Q.colorPalette[av%Q.colorPalette.length])}if(x.data&&x.data.length>0){for(av=0;av<x.data.length;++av){I.push(x.colorPalette[av%x.colorPalette.length])}}}}function M(ar){if(ar.data&&ar.data.length>0){if(ar.topValue===null||ar.topValue===undefined){var aq=ai(ar);if(!aq||(aq.min===0&&aq.max===0)){ar.scale.domain([]).range([])}else{ar.scale.domain([aq.min,aq.max]).range([r,0])}}else{ar.scale.domain([ar.bottomValue,ar.topValue]).range([r,0])}}else{ar.scale.domain([0,0]).range([0,0])}return ar.scale}function w(){var at=[];var aq=0;if(Q.data.length!==0){aq=Q.data[0].length}else{aq=x.data[0].length}for(var ar=0;ar<aq;ar++){at.push(ar)}J.domain(at).rangeBands([0,p]);M(Q);M(x);if(Q.data&&Q.data.length>0&&x.data&&x.data.length>0){if(Q.scale.domain().length===0&&x.scale.domain().length===0){Q.scale.domain([0,1]).range([r,0]);x.scale.domain([0,1]).range([r,0])}else{if(Q.scale.domain().length===0&&x.scale.domain().length!==0){Q.scale.domain(x.scale.domain()).range(x.scale.range())}else{if(Q.scale.domain().length!==0&&x.scale.domain().length===0){x.scale.domain(Q.scale.domain()).range(Q.scale.range())}}}if(!Q.manualRange&&!x.manualRange){o.perfectDual(Q.scale,x.scale)}else{if(!Q.manualRange){o.perfect(Q.scale)}else{if(!x.manualRange){o.perfect(x.scale)}}}}else{if(Q.data&&Q.data.length>0&&!Q.manualRange){if(Q.scale.domain().length===0){Q.scale.domain([0,1]).range([r,0])}o.perfect(Q.scale)}else{if(x.data&&x.data.length>0&&!x.manualRange){if(x.scale.domain().length===0){x.scale.domain([0,1]).range([r,0])}o.perfect(x.scale)}}}}function ao(ar,at,au){if(ar===undefined||ar===null){return}var aq=0;for(aq=0;aq<Q.data.length;++aq){if(!Q.selectedMarkers[aq][ar]){Y(aq,ar,au,Q);if(!X.marker.visible){if(am>0){d3.select(Q.markers[aq][ar]).attr("opacity",P).attr("visibility",at)}else{d3.select(Q.markers[aq][ar]).attr("opacity",1).attr("visibility",at)}}}}if(!x.data){return}for(aq=0;aq<x.data.length;++aq){if(!x.selectedMarkers[aq][ar]){Y(aq,ar,au,x);if(!X.marker.visible){if(am>0){d3.select(x.markers[aq][ar]).attr("opacity",P).attr("visibility",at)}else{d3.select(x.markers[aq][ar]).attr("opacity",1).attr("visibility",at)}}}}}function Y(ar,aq,au,at){d3.select(at.markers[ar][aq]).attr("stroke",au)}function al(at){var ar=at/J.rangeBand();ar=Math.floor(ar);var aq=0;if(Q.data.length!==0){aq=Q.data[0].length}else{aq=x.data[0].length}if(ar>aq-1){ar=aq-1}if(ar<0){ar=0}return ar}function U(ay,ar){var aq=false,ax,at;for(var aw=0;aw<ay.markers.length&&!aq;aw++){var av=ay.markers[aw];for(var au=0;au<av.length&&!aq;au++){if(av[au]===ar){aq=true;ax=aw;at=au}}}if(!aq){return false}if(ay.selectedMarkers[ax][at]){return true}Y(ax,at,Z,ay);d3.select(ay.markers[ax][at]).attr("opacity",1).attr("visibility","visible");ay.selectedMarkers[ax][at]=true;if(at>0&&ay.selectedMarkers[ax][at-1]){ay.highLines[ax][at-1].attr("visibility","visible")}if(at<ay.highLines[0].length&&ay.selectedMarkers[ax][at+1]){ay.highLines[ax][at].attr("visibility","visible")}++am}function A(ay,ar){var at=af;var aq=false,ax;for(var aw=0;aw<ay.markers.length&&!aq;aw++){var av=ay.markers[aw];for(var au=0;au<av.length&&!aq;au++){if(av[au]===ar){aq=true;ax=aw;at=au}}}if(!aq){return false}if(!ay.selectedMarkers[ax][at]){return true}if(at===af){Y(ax,at,ab,ay)}else{Y(ax,at,X.style.marker.stroke,ay)}d3.select(ay.markers[ax][at]).attr("opacity",P);if(!X.marker.visible&&at!==af){d3.select(ay.markers[ax][at]).attr("visibility","hidden")}ay.selectedMarkers[ax][at]=false;if(at>0&&ay.selectedMarkers[ax][at-1]){ay.highLines[ax][at-1].attr("visibility","hidden")}if(at<ay.highLines[0].length&&ay.selectedMarkers[ax][at+1]){ay.highLines[ax][at].attr("visibility","hidden")}--am}function z(ay){var ar={data:[],color:[]};var aq=[];var at;var ax;for(var aw=0;aw<ay.length;++aw){var av=0;for(var au=0;au<ay[aw].length;++au){if(i.isNoValue(ay[aw][au].val)){if(au>av){aq=[];for(at=av;at<au;at++){ax=ay[aw][at];ax.x=at;aq.push(ax)}ar.data.push(aq);ar.color.push(aw)}av=au+1}}if(av<ay[aw].length){aq=[];for(at=av;at<ay[aw].length;at++){ax=ay[aw][at];ax.x=at;aq.push(ax)}ar.data.push(aq);ar.color.push(aw)}}return ar}function F(aq,ax){if(!aq.data||aq.data.length===0){return}var av=s.select("g."+ax);if(av.empty()){av=s.append("svg:g").attr("class",ax)}aq.selectedMarkers=new Array(aq.data.length);aq.markers=[];var aC=z(aq.data);var aA=av.selectAll(".lines").data(aC.data);aA.enter().append("path").attr("class","lines").attr("stroke-width",X.width).attr("stroke-linejoin","round");aA.exit().remove();aA.attr("stroke-width",X.width);var aB=d3.svg.line().x(function(aE,aD){return J(aE.x)+J.rangeBand()/2}).y(function(aD){return aq.scale(aD.val)});aA.attr("transform",function(aE,aD){d3.select(this).attr("d",aB(aE)).attr("stroke",function(){var aF={graphType:"line",fillColor:aq.colorPalette[aC.color[aD]%aq.colorPalette.length]};return R.register(aF)})});var ar=B.selectAll("g."+ax);if(ar.empty()){ar=B.append("svg:g").attr("class",ax)}var at=ar.selectAll("g").data(aq.data);at.enter().append("g");at.exit().remove();aq.highLines=[];at.attr("transform",function(aF,aE){d3.select(this).selectAll(".lightLine").remove();aq.highLines.push([]);for(var aD=1;aD<aF.length;++aD){if(i.isNoValue(aF[aD].val)||i.isNoValue(aF[aD-1].val)){aq.highLines[aE].push(null)}else{aq.highLines[aE].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",J(aD-1)+J.rangeBand()/2).attr("y1",aq.scale(aF[aD-1].val)).attr("x2",J(aD)+J.rangeBand()/2).attr("y2",aq.scale(aF[aD].val)).attr("stroke-width",X.width).attr("stroke",aq.colorPalette[aE%aq.colorPalette.length]).attr("visibility","hidden"))}}});for(var aw=0;aw<aq.data.length;++aw){aq.selectedMarkers[aw]=[];for(var ay=0;ay<aq.data[0].length;++ay){aq.selectedMarkers[aw][ay]=false}}var az=S.select("g."+ax);if(az.empty()){az=S.append("svg:g").attr("class",ax)}at=az.selectAll("g.marker").data(aq.data);at.enter().append("svg:g").attr("class","marker");at.exit().remove();var au="hidden";if(X&&X.marker&&X.marker.visible){au="visible"}at.attr("transform",function(aH,aE){var aG=d3.select(this).selectAll(".datashape").data(aH);var aF=aG.enter().append("g").attr("class","datashape");k.createElements(aF,{shape:X.marker.shape,className:"datapoint"});aG.exit().remove();var aD=[];aG.attr("transform",function(aI,aJ){if(i.isNoValue(aI.val)){d3.select(this).remove();aD.push(null);return}aD.push(d3.select(this).selectAll("path").node());var aK={drawingEffect:X.drawingEffect,graphType:X.marker.shape,fillColor:aq.colorPalette[aE%aq.colorPalette.length],direction:"vertical",rx:X.marker.size/2,ry:X.marker.size/2,borderWidth:2,borderColor:X.style.marker.stroke,node:d3.select(this).select("path"),visibility:au};k.drawGraph(aK,R);return"translate("+(J(aJ)+J.rangeBand()/2)+","+aq.scale(aI.val)+")"});aq.markers.push(aD)})}function ak(au,aq){if(am===0||!au.selectedMarkers||au.selectedMarkers.length===0){return}for(var ar=0;ar<au.selectedMarkers.length;++ar){for(var at=0;at<au.selectedMarkers[0].length;++at){if(!au.selectedMarkers[ar][at]){continue}if(at===aq){Y(ar,at,ab,au);if(!X.marker.visible){d3.select(au.markers[ar][at]).attr("opacity",P).attr("visibility","visible")}}else{Y(ar,at,X.style.marker.stroke,au);if(!X.marker.visible){d3.select(au.markers[ar][at]).attr("visibility","hidden")}}au.selectedMarkers[ar][at]=false}}}function ah(){var ar=(d3.event?d3.event.clientX:0)-an.node().getBoundingClientRect().left;var aq=al(ar);ak(Q,aq);ak(x,aq);am=0}function E(ar){D();K.startToInit();if(!an){an=ar.append("svg:g")}if(!aj){aj=an.append("svg:line")}aj.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",r).attr("stroke-width",1).attr("stroke",W).attr("visibility","hidden").attr("stroke-linejoin","round");if(!s){s=an.append("svg:g").attr("class","datalines");B=an.append("svg:g").attr("class","lightLines");S=an.append("svg:g").attr("class","markers datashapesgroup")}am=0;v();if(!ap){ap=an.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+V).append("rect")}ap.attr("x",0).attr("y",0).attr("height",r).attr("width",(u?0:p));S.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");s.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");B.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");if(u){ac=true;var au=0;var aq=p/50;var at=setInterval(function(av){if(au>=p){clearInterval(at);K.initialized()}else{au+=aq;ap.attr("width",au)}},20)}else{K.initialized();ap.attr("width",p)}F(Q,ae);F(x,ad)}function v(){B.selectAll("g."+ae).selectAll(".lightLine").attr("visibility","hidden");B.selectAll("g."+ad).selectAll(".lightLine").attr("visibility","hidden");s.attr("opacity",1);if(b.isIE()){s.selectAll(".lines").attr("visibility","visible")}S.selectAll("g."+ae).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);S.selectAll("g."+ad).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function L(){B.selectAll("g."+ae).selectAll(".lightLine").attr("visibility","hidden");B.selectAll("g."+ad).selectAll(".lightLine").attr("visibility","hidden");s.attr("opacity",P);if(b.isIE()){s.selectAll(".lines").attr("visibility","visible")}S.selectAll("g."+ae).selectAll("g.marker").selectAll(".datapoint").attr("opacity",P);S.selectAll("g."+ad).selectAll("g.marker").selectAll(".datapoint").attr("opacity",P)}function D(){if(!X.style){X.style={}}var aq;aq=T.styleManager.query("viz-plot-background");if(aq){if(aq.fill){ab=aq.fill}}if(!X.style.marker){X.style.marker={}}X.style.marker.stroke="transparent";aq=T.styleManager.query("viz-plot-hoverline");if(aq){if(aq.stroke){W=aq.stroke}}}C.afterUIComponentAppear=function(){K.initialized()};C.width=function(aq){if(!arguments.length){return p}p=aq;if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}return C};C.height=function(aq){if(!arguments.length){return r}r=aq;if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}return C};C.properties=function(aq){if(!arguments.length){return X}g.extend(true,X,aq);if(X.marker.size<4||X.marker.size>32){X.marker.size=6}if(X.width<1||X.width>7){X.width=2}u=X.animation.dataLoading;D();q();return C};C.primaryAxisColor=function(){if(x.data&&x.data.length>0){return R.register({graphType:"line",fillColor:Q.colorPalette[0]})}else{return null}};C.secondAxisColor=function(){return R.register({graphType:"line",fillColor:x.colorPalette[0]})};C.dispatch=function(aq){if(!arguments.length){return K}K=aq;return C};C.data=function(aq){if(!arguments.length){return O}O=aq;var ar=h(O);Q.data=ar.MG1;x.data=ar.MG2;G=ar.hasMND;aa=ar.MNDOnColor;N=ar.MNDInner;t=n.dataTransform(ar);if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}q();return C};C.dataLabel=function(aq){};C.primaryAxisTitle=function(ar){if(!arguments.length){var av=O.getMeasureValuesGroupDataByIdx(0),au=[];if(av){for(var at=0,aq=av.values.length;at<aq;at++){if(av.values[at].col!==null&&av.values[at].col!==undefined){au.push(av.values[at].col)}else{au.push(e.get("IDS_ISNOVALUE"))}}}return au.join("/")}return this};C.secondAxisTitle=function(ar){if(!arguments.length){var av=O.getMeasureValuesGroupDataByIdx(1),au=[];if(av){for(var at=0,aq=av.values.length;at<aq;at++){if(av.values[at].col!==null&&av.values[at].col!==undefined){au.push(av.values[at].col)}else{au.push(e.get("IDS_ISNOVALUE"))}}}return au.join("/")}return this};C.getColorPalette=function(){if(I.length===0){q()}return I};C.shapePalette=function(){if(!arguments.length){return[X.marker.shape]}return C};C.primaryScale=function(aq){if(!arguments.length){return Q.scale}Q.scale=aq;return C};C.secondaryScale=function(aq){if(!arguments.length){return x.scale}x.scale=aq;return C};C.categoryScale=function(aq){if(!arguments.length){return J}J=aq;return C};C.primaryDataRange=function(aq){if(!arguments.length){return{min:Q.scale.domain()[0],max:Q.scale.domain()[1]}}if(aq!==null){Q.topValue=aq.max;Q.bottomValue=aq.min;if(aq.from==="axis"){Q.manualRange=true}if(a.isExist(p)&&a.isExist(r)){M(Q)}}return C};C.secondDataRange=function(aq){if(!arguments.length){return{min:x.scale.domain()[0],max:x.scale.domain()[1]}}if(aq!==null){x.topValue=aq.max;x.bottomValue=aq.min;if(aq.from==="axis"){x.manualRange=true}if(a.isExist(p)&&a.isExist(r)){M(x)}}return C};C.parent=function(){return an};C.size=function(aq,ar){if(arguments.length===0){return{width:C.width(),height:C.height()}}C.width(aq).height(ar);return C};C.clear=function(aq){ah();if(aq===null||aq===undefined){v()}else{L()}};C.highlight=function(au){var ar;if(au instanceof Array){ar=au}else{ar=[];ar.push(au)}for(var at=0;at<ar.length;at++){var aq=ar[at];if(!U(Q,aq)){U(x,aq)}}};C.unhighlight=function(au){var ar;if(au instanceof Array){ar=au}else{ar=[];ar.push(au)}for(var at=0;at<ar.length;at++){var aq=ar[at];if(!A(Q,aq)){A(x,aq)}}};C.hoverOnPoint=function(aq){var av=aq.x,au=aq.y;if(av<0||av>p){return}var ar=al(av);if(af===ar){return}var ay=J(ar)+J.rangeBand()/2;ao(af,"hidden",X.style.marker.stroke);ao(ar,"visible",ab);af=ar;if(X.hoverline.visible){aj.attr("x1",ay).attr("x2",ay);aj.attr("visibility","visible")}else{aj.attr("visibility","hidden")}if(X.tooltip.enabled){var ax={};var at=an.node().getTransformToElement(an.node().ownerSVGElement);ax.x=J(ar)+J.rangeBand()/2+at.e;ax.y=r/4+at.f;var aw=ag.generateTooltipData(O,t,ar,I,[X.marker.shape]);aw.point=ax;aw.plotArea={x:at.e,y:at.f,width:p,height:r};K.showTooltip(n.formatTooltipData(aw))}};C.blurOut=function(){aj.attr("visibility","hidden");ao(af,"hidden",X.style.marker.stroke);af=null;if(X.tooltip.enabled){K.hideTooltip()}};X=H.props(null);return C}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.line",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Base",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.line",name:"line",base:"sap.viz.modules.xy.base",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."},width:{name:"width",supportedValueType:"PositiveInt",defaultValue:2,min:"1",max:"7",description:"Set width of line, range[1,7]. When beyond the range, the line width is default size 2."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enable/disable data loading animation of plot area."}},description:"Settings for tooltip related properties."},hoverline:{name:"hoverline",supportedValueType:"Object",description:"Settings for hoverline properties.",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set to enabled/disabled hoverline or not.",},},},marker:{name:"marker",description:"Settings for marker/data point graphics",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set show marker or not."},shape:{name:"shape",supportedValueType:"List",supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],defaultValue:"circle",description:"Set marker shapes for chart."},size:{name:"size",supportedValueType:"PositiveInt",defaultValue:"6",min:"4",max:"32",description:"Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6."}}}},css:{".viz-plot-hoverline":{description:"Define style for hoverline in line.",value:{stroke:"#cccccc"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.horizontalline",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(f,h,a,o,c,l,i,e,k,n,j,d,g,b,m){return function(H,T){var p,r;var O=null,X;var V=d.newId();var t=null;var ag;var ab="#FFFFFF";var W="gray";var Z="#333333";var J=d3.scale.ordinal();var aj;var af;var an;var S,s,C;var K=new f("showTooltip","hideTooltip","initialized","startToInit");var G;var aa;var N;var R=T.effectManager;var Q={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var x={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var I=[];var ae="axis1";var ad="axis2";var ac=false;var u=true;var am=0;var ap;var P=0.4;function B(aq){m.drawBound(aq,p,r);ag=n();E(aq);return B}function ai(at){var ar={min:null,max:null};if(!at.data||at.data.length===0){return null}ar.max=Number(d3.max(at.data,function(au){return d3.max(au,function(av){return av.val})}));ar.min=Number(d3.min(at.data,function(au){return d3.min(au,function(av){return av.val})}));if(i.isNoValue(ar.max)){return null}if(ar.min>=0){ar.min=0;ar.max+=ar.max*5/p}else{if(ar.max<=0){ar.max=0;ar.min+=ar.min*5/p}else{var aq=(ar.max-ar.min)*5/p;ar.min-=aq;ar.max+=aq}}return ar}function q(){I=[];var av=0,au=0;if(x.data&&x.data.length>0){Q.colorPalette=X.primaryValuesColorPalette}else{Q.colorPalette=X.colorPalette}x.colorPalette=X.secondaryValuesColorPalette;if(G&&aa&&N){var ay=O.getMeasureValuesGroupDataByIdx(0);var ax=O.getMeasureValuesGroupDataByIdx(1);var aw=0,at=0,ar=0,aq=0;if(ay&&ay.values.length>0){aw=ay.values.length;aq=ay.values[0].rows.length}if(ax&&ax.values.length>0){at=ax.values.length;aq=ax.values[0].rows.length}for(av=0;av<aq;av++){for(au=0;au<aw;au++){I.push(Q.colorPalette[av*aw+au%Q.colorPalette.length])}for(au=0;au<at;au++){I.push(x.colorPalette[av*at+au%x.colorPalette.length])}}}else{for(av=0;av<Q.data.length;++av){I.push(Q.colorPalette[av%Q.colorPalette.length])}if(x.data&&x.data.length>0){for(av=0;av<x.data.length;++av){I.push(x.colorPalette[av%x.colorPalette.length])}}}}function M(ar){if(ar.data&&ar.data.length>0){if(ar.topValue===null||ar.topValue===undefined){var aq=ai(ar);if(!aq||(aq.min===0&&aq.max===0)){ar.scale.domain([]).range([])}else{ar.scale.domain([aq.min,aq.max]).range([0,p])}}else{ar.scale.domain([ar.bottomValue,ar.topValue]).range([0,p])}}else{ar.scale.domain([0,0]).range([0,0])}return ar.scale}function w(){var at=[];var aq=0;if(Q.data.length!==0){aq=Q.data[0].length}else{aq=x.data[0].length}for(var ar=0;ar<aq;ar++){at.push(ar)}J.domain(at).rangeBands([r,0]);M(Q);M(x);if(Q.data&&Q.data.length>0&&x.data&&x.data.length>0){if(Q.scale.domain().length===0&&x.scale.domain().length===0){Q.scale.domain([0,1]).range([0,p]);x.scale.domain([0,1]).range([0,p])}else{if(Q.scale.domain().length===0&&x.scale.domain().length!==0){Q.scale.domain(x.scale.domain()).range(x.scale.range())}else{if(Q.scale.domain().length!==0&&x.scale.domain().length===0){x.scale.domain(Q.scale.domain()).range(Q.scale.range())}}}if(!Q.manualRange&&!x.manualRange){o.perfectDual(Q.scale,x.scale)}else{if(!Q.manualRange){o.perfect(Q.scale)}else{if(!x.manualRange){o.perfect(x.scale)}}}}else{if(Q.data&&Q.data.length>0&&!Q.manualRange){if(Q.scale.domain().length===0){Q.scale.domain([0,1]).range([0,p])}o.perfect(Q.scale)}else{if(x.data&&x.data.length>0&&!x.manualRange){if(x.scale.domain().length===0){x.scale.domain([0,1]).range([0,p])}o.perfect(x.scale)}}}}function ao(ar,at,au){if(ar===undefined||ar===null){return}var aq=0;for(aq=0;aq<Q.data.length;++aq){if(!Q.selectedMarkers[aq][ar]){Y(aq,ar,au,Q);if(!X.marker.visible){if(am>0){d3.select(Q.markers[aq][ar]).attr("opacity",P).attr("visibility",at)}else{d3.select(Q.markers[aq][ar]).attr("opacity",1).attr("visibility",at)}}}}if(!x.data){return}for(aq=0;aq<x.data.length;++aq){if(!x.selectedMarkers[aq][ar]){Y(aq,ar,au,x);if(!X.marker.visible){if(am>0){d3.select(x.markers[aq][ar]).attr("opacity",P).attr("visibility",at)}else{d3.select(x.markers[aq][ar]).attr("opacity",1).attr("visibility",at)}}}}}function Y(ar,aq,au,at){d3.select(at.markers[ar][aq]).attr("stroke",au)}function al(at){var ar=at/J.rangeBand();ar=Math.floor(ar);var aq=0;if(Q.data.length!==0){aq=Q.data[0].length}else{aq=x.data[0].length}if(ar>aq-1){ar=aq-1}if(ar<0){ar=0}return aq-1-ar}function U(ay,ar){var aq=false,ax,at;for(var aw=0;aw<ay.markers.length&&!aq;aw++){var av=ay.markers[aw];for(var au=0;au<av.length&&!aq;au++){if(av[au]===ar){aq=true;ax=aw;at=au}}}if(!aq){return false}if(ay.selectedMarkers[ax][at]){return true}Y(ax,at,Z,ay);d3.select(ay.markers[ax][at]).attr("opacity",1).attr("visibility","visible");ay.selectedMarkers[ax][at]=true;if(at>0&&ay.selectedMarkers[ax][at-1]){ay.highLines[ax][at-1].attr("visibility","visible")}if(at<ay.highLines[0].length&&ay.selectedMarkers[ax][at+1]){ay.highLines[ax][at].attr("visibility","visible")}++am}function A(ay,ar){var at=af;var aq=false,ax;for(var aw=0;aw<ay.markers.length&&!aq;aw++){var av=ay.markers[aw];for(var au=0;au<av.length&&!aq;au++){if(av[au]===ar){aq=true;ax=aw;at=au}}}if(!aq){return false}if(!ay.selectedMarkers[ax][at]){return true}if(at===af){Y(ax,at,ab,ay)}else{Y(ax,at,X.style.marker.stroke,ay)}d3.select(ay.markers[ax][at]).attr("opacity",P);if(!X.marker.visible&&at!==af){d3.select(ay.markers[ax][at]).attr("visibility","hidden")}ay.selectedMarkers[ax][at]=false;if(at>0&&ay.selectedMarkers[ax][at-1]){ay.highLines[ax][at-1].attr("visibility","hidden")}if(at<ay.highLines[0].length&&ay.selectedMarkers[ax][at+1]){ay.highLines[ax][at].attr("visibility","hidden")}--am}function z(ay){var ar={data:[],color:[]};var aq=[],ax,at;for(var aw=0;aw<ay.length;++aw){var av=0;for(var au=0;au<ay[aw].length;++au){if(i.isNoValue(ay[aw][au].val)){if(au>av){aq=[];for(at=av;at<au;at++){ax=ay[aw][at];ax.x=at;aq.push(ax)}ar.data.push(aq);ar.color.push(aw)}av=au+1}}if(av<ay[aw].length){aq=[];for(at=av;at<ay[aw].length;at++){ax=ay[aw][at];ax.x=at;aq.push(ax)}ar.data.push(aq);ar.color.push(aw)}}return ar}function F(aq,ax){if(!aq.data||aq.data.length===0){return}var av=s.select("g."+ax);if(av.empty()){av=s.append("svg:g").attr("class",ax)}aq.selectedMarkers=new Array(aq.data.length);aq.markers=[];var aC=z(aq.data);var aA=av.selectAll(".lines").data(aC.data);aA.enter().append("path").attr("class","lines").attr("stroke-width",X.width).attr("stroke-linejoin","round");aA.exit().remove();aA.attr("stroke-width",X.width);var aB=d3.svg.line().y(function(aE,aD){return J(aE.x)+J.rangeBand()/2}).x(function(aD){return aq.scale(aD.val)});aA.attr("transform",function(aE,aD){d3.select(this).attr("d",aB(aE)).attr("stroke",function(){var aF={graphType:"line",fillColor:aq.colorPalette[aC.color[aD]%aq.colorPalette.length]};return R.register(aF)})});var ar=C.selectAll("g."+ax);if(ar.empty()){ar=C.append("svg:g").attr("class",ax)}var at=ar.selectAll("g").data(aq.data);at.enter().append("g");at.exit().remove();aq.highLines=[];at.attr("transform",function(aF,aE){d3.select(this).selectAll(".lightLine").remove();aq.highLines.push([]);for(var aD=1;aD<aF.length;++aD){if(i.isNoValue(aF[aD].val)||i.isNoValue(aF[aD-1].val)){aq.highLines[aE].push(null)}else{aq.highLines[aE].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",aq.scale(aF[aD-1].val)).attr("y1",J(aD-1)+J.rangeBand()/2).attr("x2",aq.scale(aF[aD].val)).attr("y2",J(aD)+J.rangeBand()/2).attr("stroke-width",X.width).attr("stroke",aq.colorPalette[aE%aq.colorPalette.length]).attr("visibility","hidden"))}}});for(var aw=0;aw<aq.data.length;++aw){aq.selectedMarkers[aw]=[];for(var ay=0;ay<aq.data[0].length;++ay){aq.selectedMarkers[aw][ay]=false}}var az=S.select("g."+ax);if(az.empty()){az=S.append("svg:g").attr("class",ax)}at=az.selectAll("g.marker").data(aq.data);at.enter().append("svg:g").attr("class","marker");at.exit().remove();var au="hidden";if(X&&X.marker&&X.marker.visible){au="visible"}at.attr("transform",function(aH,aE){var aG=d3.select(this).selectAll(".datashape").data(aH);var aF=aG.enter().append("g").attr("class","datashape");k.createElements(aF,{shape:X.marker.shape,className:"datapoint"});aG.exit().remove();var aD=[];aG.attr("transform",function(aI,aJ){if(i.isNoValue(aI.val)){d3.select(this).remove();aD.push(null);return}aD.push(d3.select(this).selectAll("path").node());var aK={drawingEffect:X.drawingEffect,graphType:X.marker.shape,fillColor:aq.colorPalette[aE%aq.colorPalette.length],direction:"vertical",rx:X.marker.size/2,ry:X.marker.size/2,borderWidth:2,borderColor:X.style.marker.stroke,node:d3.select(this).select("path"),visibility:au};k.drawGraph(aK,R);return"translate("+aq.scale(aI.val)+","+(J(aJ)+J.rangeBand()/2)+")"});aq.markers.push(aD)})}function ak(au,aq){if(am===0||!au.selectedMarkers||au.selectedMarkers.length===0){return}for(var ar=0;ar<au.selectedMarkers.length;++ar){for(var at=0;at<au.selectedMarkers[0].length;++at){if(!au.selectedMarkers[ar][at]){continue}if(at===aq){Y(ar,at,ab,au);if(!X.marker.visible){d3.select(au.markers[ar][at]).attr("opacity",P).attr("visibility","visible")}}else{Y(ar,at,X.style.marker.stroke,au);if(!X.marker.visible){d3.select(au.markers[ar][at]).attr("visibility","hidden")}}au.selectedMarkers[ar][at]=false}}}function ah(){var ar=(d3.event?d3.event.clientY:0)-an.node().getBoundingClientRect().top;var aq=al(ar);ak(Q,aq);ak(x,aq);am=0}function E(ar){D();K.startToInit();if(!an){an=ar.append("svg:g")}if(!aj){aj=an.append("svg:line")}aj.attr("x1",0).attr("y1",0).attr("x2",p).attr("y2",0).attr("stroke-width",1).attr("stroke",W).attr("visibility","hidden").attr("stroke-linejoin","round");if(!s){s=an.append("svg:g").attr("class","datalines");C=an.append("svg:g").attr("class","lightLines");S=an.append("svg:g").attr("class","markers datashapesgroup")}if(!ap){ap=an.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+V).append("rect")}ap.attr("x",0).attr("y",(u?r:0)).attr("height",(u?0:r)).attr("width",p);am=0;v();S.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");s.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");C.attr("clip-path","url(#clip1_"+V+")").attr("fill","none");if(u){ac=true;var au=0;var aq=r/50;var at=setInterval(function(av){if(au>=r){clearInterval(at);K.initialized()}else{au+=aq;ap.attr("height",au);ap.attr("y",r-au)}},20)}else{K.initialized()}F(Q,ae);F(x,ad)}function v(){C.selectAll("g."+ae).selectAll(".lightLine").attr("visibility","hidden");C.selectAll("g."+ad).selectAll(".lightLine").attr("visibility","hidden");s.attr("opacity",1);if(b.isIE()){s.selectAll(".lines").attr("visibility","visible")}S.selectAll("g."+ae).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);S.selectAll("g."+ad).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function L(){C.selectAll("g."+ae).selectAll(".lightLine").attr("visibility","hidden");C.selectAll("g."+ad).selectAll(".lightLine").attr("visibility","hidden");s.attr("opacity",P);if(b.isIE()){s.selectAll(".lines").attr("visibility","visible")}S.selectAll("g."+ae).selectAll("g.marker").selectAll(".datapoint").attr("opacity",P);S.selectAll("g."+ad).selectAll("g.marker").selectAll(".datapoint").attr("opacity",P)}function D(){if(!X.style){X.style={}}var aq;aq=T.styleManager.query("viz-plot-background");if(aq){if(aq.fill){ab=aq.fill}}if(!X.style.marker){X.style.marker={}}X.style.marker.stroke="transparent";aq=T.styleManager.query("viz-plot-hoverline");if(aq){if(aq.stroke){W=aq.stroke}}}B.afterUIComponentAppear=function(){K.initialized()};B.width=function(aq){if(!arguments.length){return p}p=aq;if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}return B};B.height=function(aq){if(!arguments.length){return r}r=aq;if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}return B};B.properties=function(aq){if(!arguments.length){return X}g.extend(true,X,aq);if(X.marker.size<4||X.marker.size>32){X.marker.size=6}if(X.width<1||X.width>7){X.width=2}u=X.animation.dataLoading;D();q();return B};B.primaryAxisColor=function(){if(x.data&&x.data.length>0){return R.register({graphType:"line",fillColor:Q.colorPalette[0]})}else{return null}};B.secondAxisColor=function(){return R.register({graphType:"line",fillColor:x.colorPalette[0]})};B.dispatch=function(aq){if(!arguments.length){return K}K=aq;return B};B.data=function(aq){if(!arguments.length){return O}O=aq;var ar=h(O);Q.data=ar.MG1;x.data=ar.MG2;G=ar.hasMND;aa=ar.MNDOnColor;N=ar.MNDInner;t=n.dataTransform(ar);if(a.isExist(p)&&a.isExist(r)&&a.isExist(O)){w()}q();return B};B.primaryAxisTitle=function(ar){if(!arguments.length){var av=O.getMeasureValuesGroupDataByIdx(0),au=[];if(av){for(var at=0,aq=av.values.length;at<aq;at++){if(av.values[at].col!==null&&av.values[at].col!==undefined){au.push(av.values[at].col)}else{au.push(e.get("IDS_ISNOVALUE"))}}}return au.join("/")}return this};B.secondAxisTitle=function(ar){if(!arguments.length){var av=O.getMeasureValuesGroupDataByIdx(1),au=[];if(av){for(var at=0,aq=av.values.length;at<aq;at++){if(av.values[at].col!==null&&av.values[at].col!==undefined){au.push(av.values[at].col)}else{au.push(e.get("IDS_ISNOVALUE"))}}}return au.join("/")}return this};B.getColorPalette=function(){if(I.length===0){q()}return I};B.shapePalette=function(aq){if(!arguments.length){return[X.marker.shape]}return B};B.primaryScale=function(aq){if(!arguments.length){return Q.scale}Q.scale=aq;return B};B.secondaryScale=function(aq){if(!arguments.length){return x.scale}x.scale=aq;return B};B.categoryScale=function(aq){if(!arguments.length){return J}J=aq;return B};B.primaryDataRange=function(aq){if(!arguments.length){return{min:Q.scale.domain()[0],max:Q.scale.domain()[1]}}if(aq!==null){Q.topValue=aq.max;Q.bottomValue=aq.min;if(aq.from==="axis"){Q.manualRange=true}if(a.isExist(p)&&a.isExist(r)){M(Q)}}return B};B.secondDataRange=function(aq){if(!arguments.length){return{min:x.scale.domain()[0],max:x.scale.domain()[1]}}if(aq!==null){x.topValue=aq.max;x.bottomValue=aq.min;if(aq.from==="axis"){x.manualRange=true}if(a.isExist(p)&&a.isExist(r)){M(x)}}return B};B.parent=function(){return an};B.dataLabel=function(aq){};B.size=function(aq,ar){if(arguments.length===0){return{width:B.width(),height:B.height()}}B.width(aq).height(ar);return B};B.clear=function(aq){ah();if(aq===null||aq===undefined){v()}else{L()}};B.highlight=function(au){var ar;if(au instanceof Array){ar=au}else{ar=[];ar.push(au)}for(var at=0;at<ar.length;at++){var aq=ar[at];if(!U(Q,aq)){U(x,aq)}}};B.unhighlight=function(au){var ar;if(au instanceof Array){ar=au}else{ar=[];ar.push(au)}for(var at=0;at<ar.length;at++){var aq=ar[at];if(!A(Q,aq)){A(x,aq)}}};B.hoverOnPoint=function(aq){var av=aq.x,au=aq.y;if(au<0||au>r){return}var ar=al(au);if(af===ar){return}var ax=J(ar)+J.rangeBand()/2;ao(af,"hidden",X.style.marker.stroke);ao(ar,"visible",ab);af=ar;if(X.hoverline.visible){aj.attr("y1",ax).attr("y2",ax);aj.attr("visibility","visible")}else{aj.attr("visibility","hidden")}if(X.tooltip.enabled){var ay={};var at=an.node().getTransformToElement(an.node().ownerSVGElement);ay.x=p*3/4+at.e;ay.y=ax+at.f;var aw=ag.generateTooltipData(O,t,ar,I,[X.marker.shape]);aw.point=ay;aw.plotArea={x:at.e,y:at.f,width:p,height:r};K.showTooltip(n.formatTooltipData(aw))}};B.blurOut=function(){aj.attr("visibility","hidden");ao(af,"hidden",X.style.marker.stroke);af=null;if(X.tooltip.enabled){K.hideTooltip()}};X=H.props(null);return B}});sap.riv.module({qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.horizontalline",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.horizontalline",name:"horizontalline",base:"sap.viz.modules.line",fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Bar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"}],function Setup(b){var a={base:"riv/basehorizontalchart",id:"viz/horizontal_combination",name:"IDS_HORIZONTALCOMBINATIONCHART",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"selectability"}}},modules:{plot:{id:"sap.viz.modules.horizontalcombination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalCombination",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_horizontal_combination",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",base:"viz/horizontal_combination",modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis2",target:"scale",sourceModule:"main.plot",source:"secondaryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.xAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.VerticalBar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"}],function Setup(b){var a={base:"riv/baseverticalchart",id:"viz/combination",name:"IDS_COMBINATIONCHART",modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{plot:{id:"sap.viz.modules.combination",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside"}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Combination",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_combination",name:"IDS_DUALCOMBINATIONCHART",base:"viz/combination",modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.plot",target:"secondDataRange",sourceModule:"main.yAxis2",source:"range"},{targetModule:"main.yAxis2",target:"scale",sourceModule:"main.plot",source:"secondaryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.yAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.yAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.yAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.LineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/line",name:"IDS_LINECHART",base:"riv/baseverticalchart",modules:{tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_line",name:"IDS_DIUALLINECHART",base:"viz/line",modules:{main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.plot",target:"secondDataRange",sourceModule:"main.yAxis2",source:"range"},{targetModule:"main.yAxis2",target:"scale",sourceModule:"main.plot",source:"secondaryScale"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.yAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.yAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.yAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/horizontal_line",name:"IDS_HORIZONTALLINECHART",base:"riv/basehorizontalchart",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_horizontal_line",name:"IDS_DUALHORIZONTALLINECHART",base:"viz/horizontal_line",modules:{main:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"getColorPalette"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis2",target:"scale",sourceModule:"main.plot",source:"secondaryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.xAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.xAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapePalette"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.modules.stackedwaterfall",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.MNDHandler",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,d,f,c,g,k,b,e,j,i){var h=function(u,G){var I,l,n,Z,H,q,A,P,V,B,p,S,T=false,t=true,X=false,r=false,Q=null,C,s,w,m,z=new d("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var L=c.get("IDS_ISNOVALUE"),v=b.sap32().range(),W=["squareWithRadius"],E=1200,D;var F=G.effectManager,K="normal";var Y=d3.scale.ordinal(),o=d3.scale.linear();var U=function(aa){i.drawBound(aa,l,n);if(!a.isExist(o)){return}aa.each(function(){S=O();var ag=S.barSize;var af=0;var ac=E/P;D=d3.select(this);if(p===undefined){p=D.append("rect").style("visibility","hidden").attr("fill","rgba(133,133,133, 0.2)")}else{p.style("visibility","hidden")}if(I.isHorizontal===false){p.attr("width",Y.rangeBand()-S.barGap).attr("height",n)}else{p.attr("height",Y.rangeBand()-S.barGap).attr("width",l)}if(T===true){D.selectAll("g.waterfallgroup").remove();D.selectAll("g.datashapesgroup").remove()}var ae=D.selectAll("g.datashapesgroup");if(ae.empty()){ae=D.append("g").attr("class","datashapesgroup")}var ad=ae.selectAll("g.waterfallgroup").data(H);ad.enter().append("g").attr("class","waterfallgroup");ad.exit().remove();var ab=true;if(t){ab=I.animation.dataLoading}else{if(r){ab=I.animation.dataUpdating}else{if(X){ab=I.animation.resizing}}}ad.each(function(aj,ah){var al=Y(ah)+S.barGap;var ai=d3.select(this).selectAll("g.datashape").data(function(){return aj.items});var ak=ai.enter().append("g").attr("class","datashape");ak.append("rect").attr("class","datapoint").attr("fill-opacity",1);if(!ab){ai.exit().remove();ai.each(function(ap,an){var ao=d3.select(this);var am=ao.selectAll("rect");if(I.isHorizontal===false){ao.attr("transform",function(){var aq=(ap.val>0)?o(af+ap.after):o(af+ap.before);return"translate("+al+","+aq+")"});am.attr("fill",function(){var aq={drawingEffect:K,fillColor:v[an%v.length],direction:"horizontal"};return F.register(aq)}).attr("width",ag).attr("height",function(){return Math.abs(o(ap.after)-o(ap.before))})}else{ao.attr("transform",function(){var aq=(ap.val>0)?o(af+ap.before):o(af+ap.after);return"translate("+aq+","+al+")"});am.attr("fill",function(){var aq={drawingEffect:K,fillColor:v[an%v.length],direction:"vertical"};return F.register(aq)}).attr("height",ag).attr("width",function(){return Math.abs(o(ap.after)-o(ap.before))})}});z.initialized()}else{if(I.isHorizontal===false){ak.selectAll("rect").attr("height",0);ak.attr("transform",function(am){var an=o(af+am.before);return"translate("+al+","+an+")"})}else{ak.selectAll("rect").attr("width",0);ak.attr("transform",function(an){var am=o(af+an.before);return"translate("+am+","+al+")"})}ai.exit().transition().duration(ac).attr("height",0).attr("width",0).remove();ai.each(function(ao,an){var am=d3.select(this).selectAll("rect");if(I.isHorizontal===false){d3.select(this).transition().duration(ac).delay(function(){return ah*ac}).attr("transform",function(){var ap=(ao.val>0)?o(af+ao.after):o(af+ao.before);return"translate("+al+","+ap+")"});am.attr("fill",function(){var ap={drawingEffect:K,fillColor:v[an%v.length],direction:"horizontal"};return F.register(ap)}).attr("width",ag).transition().duration(ac).delay(function(){return ah*ac}).attr("height",function(){return Math.abs(o(ao.after)-o(ao.before))}).each("end",function(){if(ah===P-1&&an===aj.items.length-1){z.initialized()}})}else{d3.select(this).transition().duration(ac).delay(function(){return ah*ac}).attr("transform",function(){var ap=(ao.val>0)?o(af+ao.before):o(af+ao.after);return"translate("+ap+","+al+")"});am.attr("fill",function(){var ap={drawingEffect:K,fillColor:v[an%v.length],direction:"vertical"};return F.register(ap)}).attr("height",ag).transition().duration(ac).delay(function(){return ah*ac}).attr("width",function(){return Math.abs(o(ao.after)-o(ao.before))}).each("end",function(){if(ah===P-1&&an===aj.items.length-1){z.initialized()}})}})}});t=false;X=false;r=false})};U.afterUIComponentAppear=function(){z.initialized()};U.hoverOnPoint=function(ab){var ae=ab.x,ac=ab.y;var aa;if(I.isHorizontal===false){aa=ae}else{aa=ac}var af=-1;var ah=H.length;while(af<ah){if(Math.abs(aa-Y.rangeBand()*af-0.5*Y.rangeBand())<=0.5*Y.rangeBand()){break}af++}if(af>(ah-1)||af<0){p.style("visibility","hidden");return}if(I.isHorizontal===false){p.attr("x",Y.rangeBand()*af+S.barGap/2)}else{p.attr("y",Y.rangeBand()*af+S.barGap/2)}p.style("visibility","visible");if(Q!==af){if(B){Q=af;var ad=D.node().getTransformToElement(D.node().ownerSVGElement);var ag=M(af);if(I.isHorizontal===false){ag.point={x:Y.rangeBand()*af+0.5*Y.rangeBand()+ad.e,y:d3.event.layerY}}else{ag.point={x:d3.event.layerY,y:Y.rangeBand()*af+0.5*Y.rangeBand()+ad.f}}z.showTooltip(j.formatTooltipData(ag))}}};U.blurOut=function(){p.style("visibility","hidden");Q=null;if(B){z.hideTooltip()}};U.highlight=function(ab){if(ab instanceof Array){for(var ac=0,aa=ab.length;ac<aa;ac++){ab[ac].setAttribute("fill-opacity",1)}}else{ab.setAttribute("fill-opacity",1)}};U.unhighlight=function(ab){if(ab instanceof Array){for(var ac=0,aa=ab.length;ac<aa;ac++){ab[ac].setAttribute("fill-opacity",0.2)}}else{ab.setAttribute("fill-opacity",0.2)}};U.clear=function(aa){if(aa===undefined){D.selectAll(".datapoint").attr("fill-opacity",1)}else{D.selectAll(".datapoint").attr("fill-opacity",0.2)}};U.parent=function(){return D};U.data=function(aa){if(!arguments.length){return Z}Z=aa;R(aa);if(a.isExist(l)&&a.isExist(n)){J()}return U};U.properties=function(aa){if(!arguments.length){return I}e.extend(true,I,aa);v=I.colorPalette;K=I.drawingEffect;B=I.tooltip.enabled;if(w!==I.isShowTotal||m!==I.subtotal.visible){w=I.isShowTotal;m=I.subtotal.visible;R(Z)}return U};U.width=function(aa){if(!arguments.length){return l}X=(!X&&(aa===l))?false:true;l=aa;J();return U};U.height=function(aa){if(!arguments.length){return n}X=(!X&&(aa===n))?false:true;n=aa;J();return U};U.primaryAxisTitle=function(ab){if(!arguments.length){var ae=Z.getMeasureValuesGroupDataByIdx(0),ad=[];if(ae){for(var ac=0,aa=ae.values.length;ac<aa;ac++){if(ae.values[ac].col!==null&&ae.values[ac].col!==undefined){ad.push(ae.values[ac].col)}else{ad.push(c.get("IDS_ISNOVALUE"))}}}return ad.join("/")}return U};U.secondAxisTitle=function(ab){if(!arguments.length){var ae=Z.getMeasureValuesGroupDataByIdx(1),ad=[];if(ae){for(var ac=0,aa=ae.values.length;ac<aa;ac++){if(ae.values[ac].col!==null&&ae.values[ac].col!==undefined){ad.push(ae.values[ac].col)}else{ad.push(c.get("IDS_ISNOVALUE"))}}}return ad.join("/")}return U};U.categoryScale=function(aa){if(!arguments.length){return Y}Y=aa;return U};U.primaryScale=function(aa){if(!arguments.length){return o}o=aa;return U};U.colorPalette=function(aa){if(!arguments.length){return v}v=aa;return this};U.dispatch=function(aa){if(!arguments.length){return z}z=aa;return U};U.dataLabel=function(aa){return U};U.dimensionData=function(aa){if(!arguments.length){return C}C=aa};var O=function(){var ac=2*(Y.rangeBand())/3;var ab=ac/2;var af=I.barGap;var ad=ab,ae=ac;if(af!==undefined){var aa=Y.rangeBand()-af;if(!(af<5||aa<0)){ae=aa;ad=af}}return{barSize:ae,barGap:ad/2}};var M=function(af){var ae={name:null,val:[]};var ac=Z.getAnalysisAxisDataByIdx(0);var ab=Z.getAnalysisAxisDataByIdx(1);ae.name=Z.getMeasureValuesGroupDataByIdx(0).values[0].col;var aj,ai=s.values[0].rows,ah;if(ab!==null){ah=ab.values[0].rows}for(var ad=0;ad<ai.length;ad++){if(ai[ad][af]!==undefined){aj={shape:"squareWithRadius",color:v[ad%v.length],value:ai[ad][af]};if(ah!==undefined){aj.label=ah[ad]}ae.val.push(aj)}}var ag={label:ac.values[0].col,value:ac.values[0].rows[af]};var aa={body:[],footer:[]};aa.body.push(ae);aa.footer.push(ag);return aa};var J=function(){var ab=[];for(var aa=0;aa<P;aa++){ab.push(aa)}if(I.isHorizontal===true){Y.domain(ab).rangeBands([0,n]);if(q===0&&A===0){o.domain([0,1]).range([0,l]).nice()}else{o.domain([q,A]).range([0,l]).nice()}}else{Y.domain(ab).rangeBands([0,l]);if(q===0&&A===0){o.domain([0,1]).range([n,0]).nice()}else{o.domain([q,A]).range([n,0]).nice()}}k.perfect(o)};var R=function(ar){C={};s={};C=ar.getAnalysisAxisDataByIdx(0);$.extend(true,s,ar.getMeasureValuesGroupDataByIdx(0));var ak=f(ar);var ab=ak.MG1,ah=0;T=false;if(P===undefined&&V===undefined){t=true}else{r=true}if((P!==undefined&&V!==undefined)&&(P!==ab[0].length||V!==ab.length)){T=true}var aj,ae,ad=0,aq={},am=[],af,al,ac,aa=0;aj=ae=ah;H=[],q=0,A=0;P=ab[0].length;V=ab.length;var ap,ai,ag;if(I.subtotal.visible===true){ap=0;ai=P;ag=I.subtotal.subGroups}for(var ao=0;ao<P;ao++){aj=ae=ah;am=[],ad=0;for(var an=0;an<V;an++){af=N(ab[an][ao].val);if(af!==L){ad=ad+af;if(af>0){al=aj;ac=aj+af;aj=ac}else{al=ae;ac=ae+af;ae=ac}if(ac>A){A=ac}if(ac<q){q=ac}aq={val:ab[an][ao].val,before:al,after:ac,ctx:ab[an][ao].ctx};am.push(aq)}}H.push({total:ad,start:ah,items:am});aa=aa+ad;if(I.subtotal.visible===true){if(ao===ag[ap]-1){if(I.subtotal.isRuntimeTotal){x(ao+ag[ap],ap,ah,ad,"sub-total-"+ap)}else{x(ao+ag[ap],ap,0,aa,"sub-total-"+ap)}ap++;ai++}}ah=ah+ad}if(ai!==undefined){P=ai}if(w){x(P,ap,0,aa,"total");P++}};var x=function(ac,ab,af,ae,aa){H.push({total:ae,start:af,items:[{val:ae,before:af,after:af+ae,ctx:{path:{mg:ae,mi:0}}}]});C.values[0].rows.splice(ac,0,{val:aa});s.values[0].rows[0].splice(ac,0,{val:ae});for(var ad=1;ad<s.values[0].rows.length;ad++){s.values[0].rows[ad].splice(ac,0,undefined)}};var N=function(aa){return(aa===null||aa===undefined)?L:aa};I=u.props(null);return U};return h});sap.riv.module({qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.stackedwaterfall",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.BaseBar",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.stackedwaterfall",name:"stackedwaterfall",base:"sap.viz.modules.xy.bar.base",properties:{isRoundCorner:null,primaryValuesColorPalette:null,secondaryValuesColorPalette:null,isHorizontal:{name:"isHorizontal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall orientaion.",isExported:false},isShowTotal:{name:"isShowTotal",supportedValueType:"Boolean",defaultValue:false,description:"Set stacked waterfall show/hide total value.",isExported:false},subtotal:{name:"subtotal",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of subtotal."},isRuntimeTotal:{name:"isRuntimeTotal",supportedValueType:"Boolean",defaultValue:true,description:"Set isRuntimeTotal of subtotal."},subGroups:{name:"subGroups",supportedValueType:"StringArray",defaultValue:[],description:"Set bar groups.",isExported:false}},isExported:false,description:"Settings for subtotal related properties."},barGap:{name:"barGap",supportedValueType:"PositiveInt",defualtValue:undefined,min:"5",description:"Set the distance between bars. Default value is the same as bar size.",isExported:true}},fn:c,feeds:{configure:{secondaryValues:null,regionColor:{acceptMND:-1,min:1,max:1},axisLabels:{max:1,acceptMND:-1},primaryValues:{max:1}}}};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/stacked_waterfall",name:"IDS_STACKEDWATERFALLCHART",base:"riv/baseverticalchart",modules:{main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[undefined,undefined,undefined,{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.yAxis",target:"independentData",sourceModule:"main.plot",source:"dimensionData"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"viz/horizontal_stacked_waterfall",name:"IDS_HORIZONTALSTACKEDWATERFALL",base:"viz/stacked_waterfall",modules:{tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"bar"}}},main:{modules:{plot:{id:"sap.viz.modules.stackedwaterfall",configure:{propertyCategory:"plotArea",properties:{isHorizontal:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"horizontal"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},undefined,{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis",target:"independentData",sourceModule:"main.plot",source:"dimensionData"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/waterfall",name:"IDS_WATERFALLCHART",base:"riv/baseverticalchart",modules:{legend:null,main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",propertiesOverride:{isShowTotal:{isExported:true}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},null,{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedWaterfall",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/horizontal_waterfall",name:"IDS_HORIZONTALWATERFALLCHART",base:"riv/basehorizontalchart",modules:{legend:null,main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"]}}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},plot:{id:"sap.viz.modules.stackedwaterfall",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isHorizontal:true},propertiesOverride:{isShowTotal:{isExported:true}}}}}}},feeds:{regionColor:null},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},null,{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_bar",name:"IDS_DUALBARCHART",base:"viz/bar",modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{type:"value",position:"top",gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.xAxis2",target:"scale",sourceModule:"main.plot",source:"secondScale"},{targetModule:"main.xAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.xAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"main.xAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_column",name:"IDS_DUALVERTICALBARCHART",base:"viz/column",modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis.",propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{type:"value",position:"right"},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:"main.plot",target:"primaryDataRange",sourceModule:"main.yAxis",source:"range"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"primaryScale"},{targetModule:"main.plot",target:"secondDataRange",sourceModule:"main.yAxis2",source:"range"},{targetModule:"main.yAxis2",target:"scale",sourceModule:"main.plot",source:"secondScale"},{targetModule:"main.yAxis",target:"color",sourceModule:"main.plot",source:"primaryAxisColor"},{targetModule:"main.yAxis2",target:"color",sourceModule:"main.plot",source:"secondAxisColor"},{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScale"},{targetModule:"main.yAxis2",target:"title",sourceModule:"main.plot",source:"secondAxisTitle"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/stacked_column",name:"IDS_STACKEDVERTICALBARCHART",base:"viz/column",feeds:{secondaryValues:null},modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_stacked_column",name:"IDS_DUALSTACKEDVERTICALBARCHART",base:"viz/dual_column",modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedverticalbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_column",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",base:"viz/dual_stacked_column",modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_column",orientation:"bottom"}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/stacked_bar",name:"IDS_STACKEDBARCHART",base:"viz/bar",feeds:{secondaryValues:null},modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/dual_stacked_bar",name:"IDS_DUALSTACKEDBARCHART",base:"viz/dual_bar",modules:{main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:"sap.viz.modules.stackedbar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/100_dual_stacked_bar",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",base:"viz/dual_stacked_bar",modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isPercentMode:true,showZero:true}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis2",properties:{isPercentMode:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_dual_stacked_bar",orientation:"left"}}}}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_stacked_bar",name:"IDS_PERCENTAGESTACKEDBARCHART",base:"viz/stacked_bar",modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedbar",configure:{properties:{mode:"percentage"}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"xAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_bar",orientation:"left",formatString:[["0.00%"],["0.00%"]]}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.StackedVerticalBar",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/100_stacked_column",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",base:"viz/stacked_column",modules:{main:{modules:{plot:{id:"sap.viz.modules.stackedverticalbar",configure:{properties:{mode:"percentage"}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{isPercentMode:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{type:"value",isPercentMode:true,showZero:true}}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"100_stacked_column",orientation:"bottom",formatString:[["0.00%"],["0.00%"]]}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.Pie",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"pie",feeds:[{id:"pieSectorColor",name:"Sector Color",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1},{id:"pieSectorSize",name:"Sector Size",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"pieDepthSize",name:"Depth Size",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Pie",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.pie",version:"4.0.0"},{qname:"sap.viz.feeds.Pie",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.pie",type:b.Module.Type.Chart,name:"pie",properties:{animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data loading animation of plot area."}},description:"Settings for animation of plot area."},colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set the color palette for sectors."},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a donut or pie."},isGeoPie:{name:"isGeoPie",supportedValueType:"Boolean",defaultValue:false,description:"Set whether is a geo pie."},valign:{name:"valign",supportedValueType:"List",supportedValues:["top","center"],defaultValue:"top",description:"Set vertical aligment.",isExported:false},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set whether tooltip is enabled."},valueFormat:{name:"valueFormat",supportedValueType:"String",defaultValue:"n",description:"Set the number format of measure value in tooltip."},percentageFormat:{name:"percentageFormat",supportedValueType:"String",defaultValue:".0%",description:"Set the number format of percentage label in tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string of tooltip. The first string is applied to value and the second is applied to percentage. "}},description:"Settings for tooltip related properties."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Pie.",isExported:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc},feeds:{id:"pie",configure:{pieDepthSize:null}},css:{".viz-pie-tooltip-label-dimensions":{description:"Define style for the first label(dimension values) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"normal",fill:"#000"}},".viz-pie-tooltip-label-value":{description:"Define style for the second label(measure value) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"18px","font-weight":"bold",fill:"#000"}},".viz-pie-tooltip-label-percentage":{description:"Define style for the third label(percentage) in tooltip.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"normal",fill:"#333"}},".viz-pie-sector":{description:"Define style for sector in pie.",value:{stroke:"transparent"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiPieChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"}],function Setup(c,a){var b={id:"viz/multi_pie",name:"IDS_MULTIPIECHART",base:"riv/base/multiple",modules:{legend:{data:{aa:[2]}},main:{configure:{properties:{cellPadding:5}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{valign:"center"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polar-coordinate",visible:false,formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true,type:"label and value"}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:a.Constraints.INF}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};c.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_donut",name:"IDS_MULTIDONUTCHART",base:"viz/multi_pie",modules:{main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.piewithdepth",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.pie.sector",version:"4.0.0"},{qname:"sap.viz.modules.pie.selection",version:"4.0.0"},{qname:"sap.viz.modules.pie.tooltip",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(b,e,o,h,m,j,d,c,a,g,k,i,f,n){var l=function(v){var Q=500,P=300,L=0;var X=null,u={};var r=Math.PI/4;var A=0,x=0,N=0,K=0,w=0,F=0,D=0;var p=d3.scale.linear();var S=m.sap32().range();var O=false;var H;var B=0;var t=j("initialized","startToInit");function J(Y){n.drawBound(Y,Q,P);H=Y;C(Y);return J}J.width=function(Y){if(!arguments.length){return Q}Q=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.height=function(Y){if(!arguments.length){return P}P=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.padding=function(Y){if(!arguments.length){return L}L=Y;if(a.isExist(Q)&&a.isExist(P)){E();if(H){C(H)}}return J};J.properties=function(Y){if(!arguments.length){return u}k.extend(true,u,Y);q();return J};J.parent=function(){return H};J.dispatch=function(Y){return t};J.afterUIComponentAppear=function(){t.initialized()};J.dataLabel=function(Y){};J.data=function(Y){if(!arguments.length){return X}X=Y;return J};J.colorPalette=function(Y){if(arguments.length===0){return S}S=Y;return J};J.rotate=function(Y){if(arguments.length===0){return{xAngle:0,yAngle:B*180/Math.PI}}B=Y.yAngle*Math.PI/180;C(H);return J};function q(){S=u.colorPalette;O=u.isDonut}function E(){var Y=Math.min(Q,P);A=Y/2;x=A*Math.cos(r);N=A/2.414;K=x/2.414;F=Q/2;D=P/2+Y/2-x;w=Y-2*x}function C(Y){Y.select(".datashapesgroup").remove();var aa=G();var Z=Y.append("g").attr("class","datashapesgroup");T(aa,Z)}function G(){var aa=X.getMeasureValuesGroupDataByIdx(0);var af=X.getMeasureValuesGroupDataByIdx(1);var ac=0,ae=0;for(var Z=0;Z<aa.values[0].rows[0].length;Z++){ac+=Math.abs(aa.values[0].rows[0][Z].val);ae=Math.max(ae,Math.abs(af.values[0].rows[0][Z].val))}p.domain([0,ae]).range([0,w]);var Y=[];for(var Z=0,ab=B-Math.PI/2;Z<aa.values[0].rows[0].length;Z++){var ad={startAngle:ab,endAngle:ab+Math.abs(aa.values[0].rows[0][Z].val)/ac*Math.PI*2,cy:D-p(Math.abs(af.values[0].rows[0][Z].val)),colorValue:S[Z%S.length],val:[aa.values[0].rows[0][Z].val,af.values[0].rows[0][Z].val],ctx:[aa.values[0].rows[0][Z].ctx,af.values[0].rows[0][Z].ctx]};ad.topPoint1=[F+A*Math.cos(ad.startAngle),ad.cy+x*Math.sin(ad.startAngle)];ad.topPoint2=[F+A*Math.cos(ad.endAngle),ad.cy+x*Math.sin(ad.endAngle)];ad.bottomPoint1=[F+A*Math.cos(ad.startAngle),D+x*Math.sin(ad.startAngle)];ad.bottomPoint2=[F+A*Math.cos(ad.endAngle),D+x*Math.sin(ad.endAngle)];if(O){ad.topPoint4=[F+N*Math.cos(ad.startAngle),ad.cy+K*Math.sin(ad.startAngle)];ad.topPoint3=[F+N*Math.cos(ad.endAngle),ad.cy+K*Math.sin(ad.endAngle)];ad.bottomPoint4=[F+N*Math.cos(ad.startAngle),D+K*Math.sin(ad.startAngle)];ad.bottomPoint3=[F+N*Math.cos(ad.endAngle),D+K*Math.sin(ad.endAngle)]}Y.push(ad);ab=ad.endAngle}return Y}function T(ab,Z){ab.sort(function(ad,ac){var ag=V(ad.startAngle);var ae=V(ad.endAngle);var af=V(ac.startAngle);var ah=V(ac.endAngle);if(ag<Math.PI/2&&ae>Math.PI/2||ag<Math.PI/2&&ae<ag||ag>Math.PI/2&&ae>Math.PI/2&&ae<ag){return 1}if(af<Math.PI/2&&ah>Math.PI/2||af<Math.PI/2&&ah<af||af>Math.PI/2&&ah>Math.PI/2&&ah<af){return -1}if(ae<ag){return -1}if(ah<af){return 1}return Math.max(ad.bottomPoint1[1],ad.bottomPoint2[1])-Math.max(ac.bottomPoint1[1],ac.bottomPoint2[1])});for(var Y=0;Y<ab.length;Y++){var aa=Z.append("g").attr("class","datashape");if(O){I(ab[Y],aa);U(ab[Y],aa);M(ab[Y],aa)}else{R(ab[Y],aa);U(ab[Y],aa);z(ab[Y],aa)}}t.initialized({name:"initialized"})}function V(Y){if(Y>=-Math.PI/2&&Y<=Math.PI/2*3){return Y}else{if(Y<-Math.PI/2){return V(2*Math.PI+Y)}else{if(Y>Math.PI/2*3){return V(Y-2*Math.PI)}}}}function W(Z){var Y=d3.rgb(Z).hsl();return d3.hsl(Y.h,Y.s,Y.l*0.9).rgb().toString()}function R(ab,ac){var Y,aa,ae,Z;if(ab.bottomPoint1[1]>=ab.bottomPoint2[1]){Y=ab.topPoint2;aa=ab.bottomPoint2;ae=ab.topPoint1;Z=ab.bottomPoint1}else{Y=ab.topPoint1;aa=ab.bottomPoint1;ae=ab.topPoint2;Z=ab.bottomPoint2}var ad="M"+F+","+D+"L"+F+","+ab.cy+"L"+Y[0]+","+Y[1]+"L"+aa[0]+","+aa[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(ab.colorValue));ad="M"+F+","+D+"L"+F+","+ab.cy+"L"+ae[0]+","+ae[1]+"L"+Z[0]+","+Z[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(ab.colorValue))}function I(Z,aa){var ai,ag,ae,ad,ah,af,ac,ab;if(Z.bottomPoint1[1]>=Z.bottomPoint2[1]){ai=Z.topPoint2;ag=Z.topPoint3;ae=Z.topPoint1;ad=Z.topPoint4;ah=Z.bottomPoint2;af=Z.bottomPoint3;ac=Z.bottomPoint1;ab=Z.bottomPoint4}else{ai=Z.topPoint1;ag=Z.topPoint4;ae=Z.topPoint2;ad=Z.topPoint3;ah=Z.bottomPoint1;af=Z.bottomPoint4;ac=Z.bottomPoint2;ab=Z.bottomPoint3}var Y="M"+ai[0]+","+ai[1]+"L"+ag[0]+","+ag[1]+"L"+af[0]+","+af[1]+"L"+ah[0]+","+ah[1]+"z";aa.append("path").attr("d",Y).attr("fill",W(Z.colorValue));s(Z,aa);Y="M"+ae[0]+","+ae[1]+"L"+ad[0]+","+ad[1]+"L"+ab[0]+","+ab[1]+"L"+ac[0]+","+ac[1]+"z";aa.append("path").attr("d",Y).attr("fill",W(Z.colorValue))}function U(aa,ac){var Z=V(aa.startAngle);var ab=V(aa.endAngle);if(Z>0&&ab>Z&&ab<Math.PI){var ad="M"+aa.topPoint1[0]+","+aa.topPoint1[1]+"A"+A+","+x+" 0 0,1 "+aa.topPoint2[0]+","+aa.topPoint2[1]+"L"+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if((Z<0||Z>Math.PI)&&ab<Math.PI&&ab>0){var ad="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+aa.topPoint2[0]+","+aa.topPoint2[1]+"L"+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z>0&&Z<Math.PI&&(ab>Math.PI||ab<0)){var ad="M"+aa.topPoint1[0]+","+aa.topPoint1[1]+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z<=0&&(ab>=Math.PI||ab<Z)||Z>=Math.PI&&ab>=Math.PI&&ab<Z){var ad="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";ac.append("path").attr("d",ad).attr("fill",W(aa.colorValue))}else{if(Z>0&&Z<Math.PI&&ab>0&&ab>Math.PI&&ab<Z){var Y="M"+(F+A)+","+aa.cy+"A"+A+","+x+" 0 0,1 "+aa.topPoint1[0]+","+aa.topPoint1[1]+"L"+aa.bottomPoint1[0]+","+aa.bottomPoint1[1]+"A"+A+","+x+" 0 0,0 "+(F+A)+","+D+"z";var ae="M"+aa.topPoint2[0]+","+aa.topPoint2[1]+"A"+A+","+x+" 0 0,1 "+(F-A)+","+aa.cy+"L"+(F-A)+","+D+"A"+A+","+x+" 0 0,0 "+aa.bottomPoint2[0]+","+aa.bottomPoint2[1]+"z";ac.append("path").attr("d",Y).attr("fill",W(aa.colorValue));ac.append("path").attr("d",ae).attr("fill",W(aa.colorValue))}}}}}}function s(Y,Z){var ab=Y.endAngle-Y.startAngle>Math.PI?"1":"0";var aa="M"+Y.topPoint4[0]+","+Y.topPoint4[1]+"A"+N+","+K+" 0 "+ab+",1 "+Y.topPoint3[0]+","+Y.topPoint3[1]+"L"+Y.bottomPoint3[0]+","+Y.bottomPoint3[1]+"A"+N+","+K+" 0 "+ab+",0 "+Y.bottomPoint4[0]+","+Y.bottomPoint4[1]+"z";Z.append("path").attr("d",aa).attr("fill",W(Y.colorValue))}function z(Y,Z){var aa="M"+F+","+Y.cy+"L"+Y.topPoint1[0]+","+Y.topPoint1[1]+"A"+A+","+x+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",1 "+Y.topPoint2[0]+","+Y.topPoint2[1]+"z";Z.append("path").attr("class","datapoint").attr("d",aa).attr("fill",Y.colorValue).data(Y.val)}function M(Y,Z){var aa="M"+F+","+Y.cy+"L"+Y.topPoint1[0]+","+Y.topPoint1[1]+"A"+A+","+x+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",1 "+Y.topPoint2[0]+","+Y.topPoint2[1]+"L"+Y.topPoint3[0]+","+Y.topPoint3[1]+"A"+N+","+K+" 0 "+(Y.endAngle-Y.startAngle>Math.PI?"1":"0")+",0 "+Y.topPoint4[0]+","+Y.topPoint4[1]+"z";Z.append("path").attr("class","datapoint").attr("d",aa).attr("fill",Y.colorValue).data(Y.val)}u=v.props(null);return J};return l});sap.riv.module({qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.piewithdepth",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.piewithdepth",base:"sap.viz.modules.pie",name:"piewithdepth",feeds:{id:"pie",configure:null},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"riv/base/single",name:"IDS_BASESINGLECHART",base:"riv/base","abstract":true,modules:{main:{id:"sap.viz.modules.xycontainer"}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Pie",version:"4.0.0"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(b){var a={id:"viz/pie",name:"IDS_PIECHART",base:"riv/base/single",modules:{legend:{data:{aa:[1]}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}}},modules:{plot:{id:"sap.viz.modules.pie",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polar-coordinate",visible:false,type:"label and value",formatString:[["0.00%"],[]],automaticInOutside:false,outsideVisible:true}}}}}},dependencies:{attributes:[{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.PieWithDepth",version:"4.0.0"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Rotate",version:"4.0.0"}],function Setup(b){var a={id:"viz/pie_with_depth",name:"IDS_PIEWITHDEPTHCHART",base:"riv/base/single",modules:{legend:{data:{aa:[1]}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mousemove","touchstart"],selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},rotate:{id:"sap.viz.modules.controller.rotate",configure:{propertyCategory:"rotate"}}},modules:{plot:{id:"sap.viz.modules.piewithdepth",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},dependencies:{attributes:[{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.rotate",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.rotate"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/donut_with_depth",name:"IDS_DONUTWITHDEPTHCHART",base:"viz/pie_with_depth",modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.0"}],function Setup(b){var a={id:"viz/donut",name:"IDS_DONUTCHART",base:"viz/pie",modules:{main:{modules:{plot:{configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea",properties:{isDonut:true}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{isDonut:true}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.MultiLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_line",name:"IDS_MULTILINECHART",base:"riv/base/multiple/xy",modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:"line",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["primary"]}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",propertyCategory:"xAxis",properties:{title:{visible:false},gridline:{visible:false},type:"category",position:"bottom"},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis of an XY chart.",propertyCategory:"yAxis",properties:{type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"vertical",outsidePosition:"up",positionPreference:true}}},plot:{id:"sap.viz.modules.line",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.HorizontalLine",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_horizontal_line",name:"IDS_MULTIHORIZONTALLINECHART",base:"viz/multi_line",modules:{tooltip:{configure:{properties:{chartType:"horizontalline",orientation:"left"}}},main:{modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{background:{configure:{properties:{direction:"horizontal"}}},xAxis:{id:"sap.viz.modules.axis",data:null,configure:{description:"Settings for the value axis of an XY chart.",properties:{type:"value",gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the category axis of an XY chart.",properties:{type:"category",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{position:"outside",automaticInOutside:false,orientation:"horizontal",outsidePosition:"right",positionPreference:true}}},plot:{id:"sap.viz.modules.horizontalline",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.0"}],function Setup(b,a){var c={id:"viz/multi_dual_horizontal_line",name:"IDS_MULTIDUALHORIZONTALLINECHART",base:"viz/multi_horizontal_line",modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"xAxis2",properties:{title:{visible:false},type:"value",position:"top"},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main",target:"secondDataRange",sourceModule:"main.plot.plot",source:"secondDataRange"},{targetModule:"main.plot.plot",target:"secondDataRange",sourceModule:"main",source:"secondDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.xAxis2",target:"scale",sourceModule:"main.plot.plot",source:"secondaryScale"},{targetModule:"main.plot.xAxis2",target:"title",sourceModule:"main.plot.plot",source:"secondAxisTitle"},{targetModule:"main.plot.xAxis",target:"color",sourceModule:"main.plot.plot",source:"primaryAxisColor"},{targetModule:"main.plot.xAxis2",target:"color",sourceModule:"main.plot.plot",source:"secondAxisColor"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"}]}};b.register(c)});sap.riv.module({qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.xy.Line",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.controller.Interaction",version:"4.0.0"}],function Setup(c,b){var a={id:"viz/multi_dual_line",name:"IDS_MULTIDUALLINECHART",base:"viz/multi_line",modules:{main:{configure:{properties:{mergeDataRange:["primary","second"]}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"selectability"}}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at left or bottom of an XY chart with 2 value axis."}},yAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the value axis at right or top of an XY chart with 2 value axis.",propertyCategory:"yAxis2",properties:{title:{visible:false},gridline:{visible:false},type:"value",position:"right"},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"primaryDataRange",sourceModule:"main.plot.plot",source:"primaryDataRange"},{targetModule:"main.plot.plot",target:"primaryDataRange",sourceModule:"main",source:"primaryDataRange"},{targetModule:"main",target:"secondDataRange",sourceModule:"main.plot.plot",source:"secondDataRange"},{targetModule:"main.plot.plot",target:"secondDataRange",sourceModule:"main",source:"secondDataRange"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"primaryScale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"primaryAxisTitle"},{targetModule:"main.plot.yAxis2",target:"scale",sourceModule:"main.plot.plot",source:"secondaryScale"},{targetModule:"main.plot.yAxis2",target:"title",sourceModule:"main.plot.plot",source:"secondAxisTitle"},{targetModule:"main.plot.yAxis",target:"color",sourceModule:"main.plot.plot",source:"primaryAxisColor"},{targetModule:"main.plot.yAxis2",target:"color",sourceModule:"main.plot.plot",source:"secondAxisColor"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"categoryScale"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"getColorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapePalette"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"}]}};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.Scatter",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"scatter",feeds:[{id:"regionColor",name:"Region Color",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"Region Shape",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"Primary Values",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"secondaryValues",name:"Secondary Values",type:b.Type.Measure,min:1,max:1,mgIndex:2},{id:"bubbleWidth",name:"Bubble Width",type:b.Type.Measure,min:0,max:1,mgIndex:3},{id:"bubbleHeight",name:"Bubble Height",type:b.Type.Measure,min:0,max:1,mgIndex:4}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.bubble",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.util.ShapeSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.util.lassoSelection",version:"4.0.0"},{qname:"sap.viz.util.Scaler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(i,d,c,a,g,f,m,o,k,l,e,b,j,h,e,n){return function(I,W){var q=500,u=300,aq=0;var au=null,ac={};var N=d3.scale.linear();var am=d3.scale.linear();var al,w;var s,Z,ao,Q,X,at,an,O;var ab=g.newId();function Y(){s=0;Z=Number.MAX_VALUE;ao=0;Q=Number.MAX_VALUE;X=0;at=0;an=0;O=0}Y();var z;var J=1/6;var ad=d.sap32().range(),S=c.sapShapes().range();var av=[];var ar,ap,A,x,aj,ah;var G=[];var P=true;var R={stroke:"#ffffff","stroke-width":1};var r={stroke:"#333333","stroke-width":1};var af=1000;var C=true,ai=true,V=true;var M=new i("selectData","deselectData","showTooltip","hideTooltip","initialized","startToInit");var p;var v=null;var aa="normal";var U=W.effectManager;var B=10;var aw=false;var F;function E(ay){n.drawBound(ay,q,u);p=ay;H(ay);V=false;return E}E.width=function(ay){if(!arguments.length){return q}q=ay;if(a.isExist(q)&&a.isExist(u)&&a.isExist(au)){D()}return E};E.height=function(ay){if(!arguments.length){return u}u=ay;if(a.isExist(q)&&a.isExist(u)&&a.isExist(au)){D()}return E};E.afterUIComponentAppear=function(){M.initialized()};E.padding=function(ay){if(!arguments.length){return aq}aq=ay;if(a.isExist(q)&&a.isExist(u)&&a.isExist(au)){D()}return E};E.valueAxis1Scale=function(ay){if(!arguments.length){return N}N=ay;return E};E.valueAxis2Scale=function(ay){if(!arguments.length){return am}am=ay;return E};E.valueAxis1DataRange=function(ay){if(!arguments.length){return{min:at,max:X}}X=ay.max;at=ay.min;if(a.isExist(q)&&a.isExist(u)){D()}return E};E.valueAxis2DataRange=function(ay){if(!arguments.length){return{min:O,max:an}}an=ay.max;O=ay.min;if(a.isExist(q)&&a.isExist(u)){D()}return E};E.bubbleWidthDataRange=function(ay){if(!arguments.length){return{distinctValuesObj:z,min:Z,max:s}}s=ay.max;Z=ay.min;z=ay.distinctValuesObj;if(a.isExist(q)&&a.isExist(u)){D()}return E};E.bubbleHeightDataRange=function(ay){if(!arguments.length){return{min:Q,max:ao}}ao=ay.max;Q=ay.min;if(a.isExist(q)&&a.isExist(u)){D()}return E};E.colorPalette=function(ay){if(!arguments.length){return ad}ad=ay;return E};E.shapes=function(ay){if(!arguments.length){return S}S=ay;return E};E.sizeLegend=function(){var az=au.getMeasureValuesGroupDataByIdx(3);var ay=(a.isExist(az)&&az.values.length>0);return{bubbleScale:J,space:aq,scale:al,data:T(),title:v,hasHeightFeed:ay}};E.dispatch=function(ay){if(!arguments.length){return M}M=ay;return this};E.dataLabel=function(ay){};E.data=function(ay){if(!arguments.length){return au}au=ay;if(a.isExist(q)&&a.isExist(u)&&a.isExist(au)){ak();D()}return E};E.valueAxis1Title=function(az){if(!arguments.length){var aC=au.getMeasureValuesGroupDataByIdx(0),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};E.valueAxis2Title=function(az){if(!arguments.length){var aC=au.getMeasureValuesGroupDataByIdx(1),aB=[];if(aC){for(var aA=0,ay=aC.values.length;aA<ay;aA++){if(aC.values[aA].col!==null&&aC.values[aA].col!==undefined){aB.push(aC.values[aA].col)}else{aB.push(e.get("IDS_ISNOVALUE"))}}}return aB.join("/")}return this};E.properties=function(ay){if(!arguments.length){return ac}j.extend(true,ac,ay);ag();return E};function ag(){ad=ac.colorPalette;S=ac.shapePalette;P=ac.axisTooltip.visible;aa=ac.drawingEffect;C=ac.animation.dataLoading;ai=ac.animation.dataUpdating;F=ac.axisTooltip.formatString;var ay=ac.markerSize;B=a.isExist(ay)&&ay<=32&&ay>=4?ay:B;if(ac.xScaleType&&ac.xScaleType==="log"){N=d3.scale.log()}}function ak(){Y();var aH=au.getMeasureValuesGroupDataByIdx(0);var aG=au.getMeasureValuesGroupDataByIdx(1);var aB=au.getMeasureValuesGroupDataByIdx(2);var aF=au.getMeasureValuesGroupDataByIdx(3);z={};for(var az=0;az<aH.values[0].rows.length;az++){for(var ay=0;ay<aH.values[0].rows[az].length;ay++){var aD=aH.values[0].rows[az][ay].val;var aC=aG.values[0].rows[az][ay].val;if(k.isNoValue(aD)||k.isNoValue(aC)){continue}var aE=aB&&aB.values.length&&a.isExist(aB.values[0].rows[az][ay].val)?Math.abs(aB.values[0].rows[az][ay].val):null;var aA;if(aF&&aF.values.length){if(a.isExist(aF.values[0].rows[az][ay].val)){aA=Math.abs(aF.values[0].rows[az][ay].val)}else{aA=null}}else{aA=aE}if(!k.isNoValue(aE)){z[aE]=""}X=aD>X?aD:X;at=aD<at?aD:at;an=aC>an?aC:an;O=aC<O?aC:O;s=aE>s?aE:s;Z=aE<Z?aE:Z;ao=aA>ao?aA:ao;Q=aA<Q?aA:Q}}}function D(){var ay=au.getMeasureValuesGroupDataByIdx(2);var aA=au.getMeasureValuesGroupDataByIdx(3);if(ac.xScaleRange){N.domain([ac.xScaleRange.min,ac.xScaleRange.max]).range([aq,q-aq]).nice()}else{if(X===0&&at===0){N.domain([0,1]).range([aq,q-aq]).nice()}else{N.domain([at*(1+J),X*(1+J)]).range([aq,q-aq]).nice()}}o.perfect(N);if(an===0&&O===0){am.domain([0,1]).range([u-aq,aq]).nice()}else{am.domain([O*(1+J),an*(1+J)]).range([u-aq,aq]).nice()}o.perfect(am);var az;if(ay&&ay.values.length&&s!==Z){if(ac.wScaleMax){al=L(ac.wScaleMax,true,aA)}else{al=L(s,true,aA)}v=ay.values[0].col}else{al=function(aB){return B}}if(aA&&aA.values.length&&ao!==Q){w=L(ao,false)}else{if(al&&ao>Q){w=al}else{w=function(aB){return B}}}}function H(a4){if(ar){ar.remove()}if(ap){ap.remove()}M.startToInit();var aZ;var aQ=d3.select(a4.node().ownerSVGElement.parentNode);if(P&&aQ.select("svg.sc-tooltip-x").node()===null){aQ.append("svg").style("position","absolute").attr("class","sc-tooltip-x").attr("pointer-events","none").attr("width","0").attr("height",0)}A=aQ.select("svg.sc-tooltip-x");if(P&&aQ.select("svg.sc-tooltip-y").node()===null){aQ.append("svg").style("position","absolute").attr("class","sc-tooltip-y").attr("pointer-events","none").attr("width","0").attr("height",0)}x=aQ.select("svg.sc-tooltip-y");var aX=au.getMeasureValuesGroupDataByIdx(0);var aW=au.getMeasureValuesGroupDataByIdx(1);var aA=au.getMeasureValuesGroupDataByIdx(2);var az=au.getMeasureValuesGroupDataByIdx(3);var aF=au.getAnalysisAxisDataByIdx(0);var aD=au.getAnalysisAxisDataByIdx(1);var aY="edge-clip-"+ab;ap=a4.append("defs");ap.append("clipPath").attr("id",aY).append("rect").attr("width",q).attr("height",u);ar=a4.append("g").attr("class","datashapesgroup");ar.attr("clip-path","url(#"+aY+")");ar.append("rect").attr("x",0).attr("y",0).attr("width",q).attr("height",u).attr("fill-opacity",0).attr("id","event-rect"+ab);aj=ar.append("line").attr("id","cross-x-"+ab).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");ah=ar.append("line").attr("id","cross-y-"+ab).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");var aM=0;var a3={};function aG(a7,a9,ba){for(var a6=0;a6<aX.values[0].rows[a7].length;a6++){var be=(aF&&aF.values.length>0)?aF.values[0].rows[a6].val:0;var a5;if(a3[be]){a5=a3[be]}else{a5=ad[aM%ad.length];a3[be]=a5;aM++}var bc=aX.values[0].rows[a7][a6].val;var bb=aW.values[0].rows[a7][a6].val;var bd=aA&&aA.values.length?aA.values[0].rows[a7][a6].val:null;var a8=az&&az.values.length?az.values[0].rows[a7][a6].val:null;var bf={x:bc,y:bb,w:bd,h:a8,colorIndex:a6,shapeIndex:a7,colorValue:a5,shapeValue:a9,val:[bc,bb,bd,a8],ctx:[aX.values[0].rows[a7][a6].ctx,aW.values[0].rows[a7][a6].ctx,aA&&aA.values.length?aA.values[0].rows[a7][a6].ctx:null,az&&az.values.length?az.values[0].rows[a7][a6].ctx:null]};if(!k.isNoValue(bc)&&!k.isNoValue(bb)){ba.push(bf)}}}var aC=[];var a2;if(aD&&aD.values.length>0){aZ=0;for(var aJ=0,a0={};aZ<aD.values[0].rows.length;aZ++){var ay=aD.values[0].rows[aZ].val;if(a0[ay]){a2=a0[ay]}else{a2=S[aJ%S.length];a0[ay]=a2;aJ++}aG(aZ,a2,aC)}}else{aG(0,S[0],aC)}aC.sort(function(a7,a5){var a6=a7.h===null?a7.w:a7.h;var a8=a5.h===null?a5.w:a5.h;return Math.abs(a5.w*a8)-Math.abs(a7.w*a6)});var aB=0;aw=false;K();function aT(a6,a5){aB++;if(aB===aC.length){aw=true;M.initialized()}}var aI=(C&&V)||(ai&&!V);for(aZ=0;aZ<aC.length;aZ++){var aR=aC[aZ].x,aP=aC[aZ].y,aS=aC[aZ].w,a1=az&&az.values.length?aC[aZ].h:aS,aV=aC[aZ].colorValue;a2=aC[aZ].shapeValue;var aH;var aO=al(aS)/2,aL=w(a1)/2;var aU=0;if(aI){aU=af}var aN=ar.append("g").attr("class","datashape").attr("transform","translate("+N(aR)+","+am(aP)+")");var aE=l.createElements(aN,{shape:a2,className:"viz-correlation-marker datapoint"});var aK={drawingEffect:aa,fillColor:aV,graphType:a2,direction:"vertical",rx:aO,ry:aL,borderWidth:R["stroke-width"],borderColor:R.stroke,node:aE,visibility:"visible",animateTime:aU,endFunc:aT};l.drawGraph(aK,U).attr("opacity","0.8")}a4.selectAll(".viz-correlation-marker").data(aC);if(!aI){aw=true;M.initialized()}}function L(az,ay,aA){return function(aD){if(k.isNoValue(aD)){return 4}var aB;if(ay){aB=!aA&&u<q?u:q}else{aB=u}var aC=Math.pow(Math.abs(aD)/az,0.5)*(aB-aq)*J;return aC>4?aC:4}}function T(){var ay=0;for(var az in z){if(z.hasOwnProperty(az)){ay++}}if(ay===0){return[]}else{if(ay===1){return[s]}else{if(ay===2){return[s,Z]}else{return[s,(s+Z)/2,Z]}}}}E.parent=function(){return p};E.mouseover=function(az){var ay=d3.select(az);if(ay===undefined||ay.node()===null||!aw){return}if(ay.attr("id")!==null&&(ay.attr("id")===("event-rect"+ab)||ay.attr("id").indexOf("cross-x-")>=0||ay.attr("id").indexOf("cross-y-")>=0)){return}var aA=ay.datum();ay.attr("opacity","1");aj.attr("visibility","visible").attr("x1",0).attr("y1",am(aA.y)).attr("x2",q).attr("y2",am(aA.y));ah.attr("visibility","visible").attr("x1",N(aA.x)).attr("y1",0).attr("x2",N(aA.x)).attr("y2",u);ax(aA,p[0][0].getTransformToElement(p[0][0].ownerSVGElement))};E.mouseout=function(aA,ay){var az=d3.select(aA);if(az===undefined||az.node()===null||!aw){return}if(az.attr("id")===("event-rect"+ab)){return}if(ay){az.attr("opacity","0.8")}else{az.attr("opacity","0.2")}aj.attr("visibility","hidden");ah.attr("visibility","hidden");K()};function ax(aA,aB){var aN=au.getMeasureValuesGroupDataByIdx(0);var aM=au.getMeasureValuesGroupDataByIdx(1);var aG=au.getMeasureValuesGroupDataByIdx(2);var aL=au.getMeasureValuesGroupDataByIdx(3);var aI=au.getAnalysisAxisDataByIdx(0);var aF=au.getAnalysisAxisDataByIdx(1);var ay={body:[],footer:[]};var aJ;for(var aD=0,aE=(aI?aI.values.length:0);aD<aE;aD++){aJ={};aJ.label=aI.values[aD].col.val;aJ.value=aI.values[aD].rows[aA.colorIndex].val;ay.footer.push(aJ)}for(var aC=0,aK=(aF?aF.values.length:0);aC<aK;aC++){aJ={};aJ.label=aF.values[aC].col.val;aJ.value=aF.values[aC].rows[aA.shapeIndex].val;ay.footer.push(aJ)}ay.body.push({name:!a.isExist(aN.values[0].col)?e.get("IDS_ISNOVALUE"):aN.values[0].col,val:[{color:aA.colorValue,shape:aA.shapeValue,value:aA.x}]});ay.body.push({name:!a.isExist(aM.values[0].col)?e.get("IDS_ISNOVALUE"):aM.values[0].col,val:[{color:aA.colorValue,shape:aA.shapeValue,value:aA.y}]});if(aG&&aG.values.length>0){ay.body.push({name:!a.isExist(aG.values[0].col)?e.get("IDS_ISNOVALUE"):aG.values[0].col,val:[{color:aA.colorValue,shape:aA.shapeValue,value:k.isNoValue(aA.w)?e.get("IDS_ISNOVALUE"):aA.w}]})}if(aL&&aL.values.length>0){ay.body.push({name:!a.isExist(aL.values[0].col)?e.get("IDS_ISNOVALUE"):aL.values[0].col,val:[{color:aA.colorValue,shape:aA.shapeValue,value:k.isNoValue(aA.h)?e.get("IDS_ISNOVALUE"):aA.h}]})}ay.point={x:N(aA.x),y:am(aA.y)+aB.f};ay.plotArea={x:aB.e,y:aB.f,width:q,height:u};M.showTooltip(b.formatTooltipData(ay));if(P){var aH,az;if(a.isExist(F)){aH=h.format(aA.x,F[0]);az=h.format(aA.y,F[1])}else{aH=aA.x;az=aA.y}ae(aH,A,{x:N(aA.x),y:am(aA.y)},aB,"x");ae(az,x,{x:N(aA.x),y:am(aA.y)},aB,"y")}}function K(){M.hideTooltip();if(P){A.selectAll("g").remove();x.selectAll("g").remove()}}function ae(aD,az,ay,aB,aC){var aA={size:"12px",weight:"bold",family:'"Open Sans", Arial, Helvetica, sans-serif'};var aE=f.fastMeasure(aD,aA.size,aA.weight,aA.family);az.attr("width",aE.width+20).attr("height",aE.height+10);az.wrapper=az.append("g");az.wrapper.append("rect").attr("x",1).attr("y",1).attr("rx",4).attr("ry",4).attr("width",aE.width+18).attr("height",aE.height+8).attr("fill","#ffffff").attr("stroke","#000000").attr("stroke-width",1);az.wrapper.append("text").attr("x",10).attr("y",aE.height+3).attr("fill","#000000").style("font",aA.weight+" "+aA.size+" "+aA.family).text(aD);if("y"===aC){az.style("left",aB.e-az.attr("width")+1+"px").style("top",(ay.y+aB.f-az.attr("height")/2)+"px")}else{if("x"===aC){az.style("left",ay.x+aB.e-az.attr("width")/2+"px").style("top",aB.f+u-1+"px")}}}function t(ay){var aF=au.getMeasureValuesGroupDataByIdx(0);var aE=au.getMeasureValuesGroupDataByIdx(1);var aA=au.getMeasureValuesGroupDataByIdx(2);var aC=au.getMeasureValuesGroupDataByIdx(3);var aG=[];for(var az=0;az<ay.length;az++){var aB=ay[az].colorIndex;var aD=ay[az].shapeIndex;aG.push([aF.values[0].rows[aD][aB],aE.values[0].rows[aD][aB],aA&&aA.values.length>0?aA.values[0].rows[aD][aB]:null,aC&&aC.values.length>0?aC.values[0].rows[aD][aB]:null])}return aG}E.highlight=function(az){if(a.isArray(az)){for(var aA=0,ay=az.length;aA<ay;aA++){d3.select(az[aA]).attr("class","viz-correlation-marker-selected datapoint").attr("opacity","0.8").attr("stroke",r.stroke).attr("stroke-width",r["stroke-width"])}}else{d3.select(az).attr("class","viz-correlation-marker-selected datapoint").attr("opacity","0.8").attr("stroke",r.stroke).attr("stroke-width",r["stroke-width"])}};E.unhighlight=function(az){if(a.isArray(az)){for(var aA=0,ay=az.length;aA<ay;aA++){d3.select(az[aA]).attr("class","viz-correlation-marker datapoint").attr("opacity","0.2").attr("stroke",R.stroke).attr("stroke-width",R["stroke-width"])}}else{d3.select(az).attr("class","viz-correlation-marker datapoint").attr("opacity","0.2").attr("stroke",R.stroke).attr("stroke-width",R["stroke-width"])}};E.clear=function(ay){var az=p.selectAll(".datapoint").attr("class","viz-correlation-marker datapoint").attr("stroke",R.stroke).attr("stroke-width",R["stroke-width"]);if(ay){az.attr("opacity","0.2")}else{az.attr("opacity","0.8")}};ac=I.props(null);return E}});sap.riv.module({qname:"sap.viz.modules.manifests.Bubble",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.bubble",version:"4.0.0"},{qname:"sap.viz.feeds.Scatter",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.bubble",type:b.Module.Type.Chart,name:"bubble",data:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set marker color of bubble."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","square","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:"Set marker shape of bubble."},axisTooltip:{name:"axisTooltip",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip."},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis"}},description:"Set tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data loading animation of bubble/scatter."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data updating animation of bubble/scatter."}},description:"Set animation of bubble/scatter."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Drawing effect of bubble marker.",isExported:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"scatter",configure:{bubbleWidth:{min:1}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Scatter",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.scatter",base:"sap.viz.modules.bubble",name:"scatter",properties:{markerSize:{name:"markerSize",supportedValueType:"PositiveInt",defaultValue:"10",description:"Set marker size of data point. The available range is from 4 to 32."}},feeds:{configure:{bubbleWidth:null,bubbleHeight:null}}};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.scatterInMatrix",base:"sap.viz.modules.scatter",name:"scatterInMatrix",feeds:null};c.register(a)});sap.riv.module({qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"scattermatrix",feeds:[{id:"regionColor",name:"Region Color",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"Region Shape",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"Primary Values",type:b.Type.Measure,min:2,max:b.Constraints.INF,mgIndex:1}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,h,f,d,b,j,e,g,c,i){return function(z,E){var l=0,n=0,J=0,P=0,m={},Q={},L={},G={},r={},w=null,D=null,U=[];var F=true;var R=false;var C=new g("initialized","showTooltip","hideTooltip"),u=0;var O={};var q=z.props(null);var S=function(W){if(W===null||W===undefined){return c.get("IDS_ISNOVALUE")}else{return W}};function M(W){return j.module.get(W).execute(E)}function A(){var W=E.styleManager.query("viz-matrix-sub-title");if(W){if(W.fill){O.fill=W.fill}if(W["font-family"]){O.family=W["font-family"]}if(W["font-size"]){O.size=W["font-size"]}if(W["font-weight"]){O.weight=W["font-weight"]}}}function T(){var ab=L.modules.plot;if(!ab){return}delete G.plot;G.plot=[];var W=Q.getMeasureValuesGroupDataByIdx()[0].values.length;for(var Z=0;Z<W;Z++){for(var Y=0;Y<W;Y++){var aa=G.plot[Y*W+Z]=M(ab.id);aa.config(ab);u++;if(aa.dispatch){var X=aa.dispatch();if(X.initialized){X.on("initialized.scattermatrixcontainer",x)}if(X.showTooltip){X.on("showTooltip.scattermatrixcontainer",V)}if(X.hideTooltip){X.on("hideTooltip.scattermatrixcontainer",B)}}}}}function k(){if(a.isExist(m.multiLayout)&&a.isExist(m.multiLayout.plotTitle)&&a.isExist(m.multiLayout.plotTitle.visible)){F=m.multiLayout.plotTitle.visible;q.plotTitle.visible=m.multiLayout.plotTitle.visible}var aa=G.plot;if(aa){var Z=L.modules.plot;if(!Z){return}var Y;if(Z.configure){if(Z.configure.propertyCategory){Y=h.extend(true,{},m[Z.configure.propertyCategory])}}else{Y=m}for(var X=0,W=aa.length;X<W;X++){if(Y){aa[X].properties(Y)}}}A()}function o(){U=[];D=new b(Q,"measures");var W=Q.getMeasureValuesGroupDataByIdx()[0].values.length;for(var Z=0;Z<W;Z++){for(var Y=0;Y<W;Y++){var ab=D.getSubDataAdapterByMeasures({row:Y,col:Z});var aa=G.plot[Y*W+Z];aa.data(ab);var X=U[Y*W+Z];if(!X){X=U[Y*W+Z]={}}X.empty=(Z==Y);X.label=(Z==Y?S(ab.getMeasureValuesGroupDataByIdx(0).values[0].col):S(ab.getMeasureValuesGroupDataByIdx(0).values[0].col)+" - "+S(ab.getMeasureValuesGroupDataByIdx(1).values[0].col))}}}function v(){delete r.plot;w.select(".plot").remove();if(G.plot&&!r.plot){var aa=r.plot=[];var Y=r.plotRoot=w.append("g").attr("class","plot");for(var Z=0,X=G.plot.length;Z<X;Z++){aa[Z]=Y.append("g").attr("class","plot"+Z);var ab=G.plot[Z];var ac=ab.parent(aa[Z]).modules();for(var W in ac){if(ac.hasOwnProperty(W)){G["plot["+Z+"]."+W]=ac[W]}}}}}function t(){if(a.isEmptyObject(L)){f.error("Container configuration missing")}u=0;T();k();o();v()}function N(){if(a.isEmptyObject(G)||!l||!n){return}A();var X=Q.getMeasureValuesGroupDataByIdx()[0].values.length;J=l/X;P=n/X;var W=H();var ac=W.height;if(!F||W.width>J||W.height>P/3){W.height=0;R=true}for(var aa=0;aa<X;aa++){for(var Z=0;Z<X;Z++){var ab=G.plot[Z*X+aa];var Y=r.plot[Z*X+aa];ab.width(J).height(P-ac);Y.attr("transform","translate("+(J*aa)+","+(P*Z)+")")}}}function K(W){W.each(function(X){w=W;i.drawBound(W,l,n);if(a.isEmptyObject(G)){t()}N();I()});return K}K.width=function(W){if(!arguments.length){return l}if(l!==W){l=W;N()}return K};K.height=function(W){if(!arguments.length){return n}if(n!==W){n=W;N()}return K};K.size=function(W){if(!arguments.length){return{width:l,height:n}}if(n!==W.height||l!==W.width){n=W.height;l=W.width;N()}return K};K.data=function(W){if(!arguments.length){return Q}Q=W;if(!a.isEmptyObject(G)){u=0;T();k();o();v()}return K};K.properties=function(W){if(!arguments.length){return q}m=W;if(!a.isEmptyObject(G)){k()}return K};K.config=function(W){if(!arguments.length){return L}L=W;return K};K.modules=function(W){if(!arguments.length){if(a.isEmptyObject(G)){t()}return G}G=W;return K};K.parent=function(W){if(!arguments.length){return w}w=W;return K};K.dispatch=function(W){if(!arguments.length){return C}C=W;return K};function I(){if(r.plot){for(var X=0,W=r.plot.length;X<W;X++){if(U[X].empty){s(r.plot[X],U[X],P/2);x()}else{r.plot[X].datum(G.plot[X].data()).call(G.plot[X]);s(r.plot[X],U[X],P)}}}R=false}function s(Z,Y,W){if(Y.shape){Y.shape.remove()}if(R){return}var X=e.fastMeasure(Y.label,O.size,O.weight,O.family);Y.shape=Z.append("text").attr("class","sub-plot-title").attr("text-anchor","middle").attr("x",J/2).attr("y",W-X.height/2).attr("fill",O.fill).style("font-weight",O.weight).style("font-size",O.size).style("font-family",O.family).attr("dominant-baseline","middle").style("cursor","default");e.ellipsis(Y.label,Y.shape.node(),J-5,"font:"+O.weight+" "+O.size+" "+O.family)}function H(){var aa=0,Z=0;for(var Y=0,W=U.length;Y<W;Y++){var X=e.fastMeasure(U[Y].label,O.size,O.weight,O.family);Z=X.height>Z?X.height:Z;aa=X.width>aa?X.width:aa}return{width:aa,height:Z}}var p=0;function x(){if(++p==u){p=0;C.initialized()}}function V(W){C.showTooltip(W)}function B(W){C.hideTooltip(W)}return K}});sap.riv.module({qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.scattermatrixcontainer",version:"4.0.0"},{qname:"sap.viz.feeds.ScatterMatrix",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.scattermatrixcontainer",type:b.Module.Type.Container,name:"Scatter Matrix Container",description:"Settings for the subcharts layout of Scatter Matrix chart.",properties:{plotTitle:{name:"plotTitle",description:"Settings for plot title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of sub plot title."}},}},css:{".viz-matrix-sub-title":{description:"Define style for the sub plot title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"bold"}}},feeds:{id:"scattermatrix"},events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.ScatterMatrixContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.ScatterInMatrix",version:"4.0.0"}],function Setup(a){var b={id:"viz/scatter_matrix",name:"IDS_SCATTERMATRIXCHART",base:"riv/base",modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"scattermatrix",orientation:"left"}}},main:{id:"sap.viz.modules.scattermatrixcontainer",configure:{propertyCategory:"multiLayout"},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:false}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,position:"outside"}}},plot:{id:"sap.viz.modules.scatterInMatrix",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},dependencies:{attributes:[{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis2Scale"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis1Scale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis1Title"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis2Title"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapes"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleXYChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_scatter",name:"IDS_MULTISCATTERCHART",base:"riv/base/multiple/xy",modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:"BubbleColorLegend"}}},tooltip:{configure:{properties:{chartType:"scatter",orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{xAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{title:{visible:false},type:"value",position:"bottom"},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:false,orientation:"vertical",position:"outside",outsideVisible:true}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{title:{visible:false},type:"value",position:"left"},propertiesOverride:{title:{isExported:false}}}},plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"valueAxis1DataRange",sourceModule:"main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"main.plot.plot",target:"valueAxis1DataRange",sourceModule:"main",source:"valueAxis1DataRange"},{targetModule:"main",target:"valueAxis2DataRange",sourceModule:"main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"main.plot.plot",target:"valueAxis2DataRange",sourceModule:"main",source:"valueAxis2DataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis1Scale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis1Title"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis2Scale"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis2Title"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapes"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"removeLabel",sourceModule:"main.plot.plot",type:"startToInit.datalabel"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.0"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.0"}],function Setup(a){var b={id:"viz/multi_bubble",name:"IDS_MULTIBUBBLECHART",base:"viz/multi_scatter",modules:{legend:{data:{aa:[2,3]}},sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes' size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"}}},tooltip:{configure:{properties:{chartType:"bubble",orientation:"left"}}},main:{configure:{properties:{mergeDataRange:["valueAxis1","valueAxis2","bubbleWidth","bubbleHeight"]}},modules:{plot:{id:"sap.viz.modules.xycontainer",modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{automaticInOutside:true}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main",target:"valueAxis1DataRange",sourceModule:"main.plot.plot",source:"valueAxis1DataRange"},{targetModule:"main.plot.plot",target:"valueAxis1DataRange",sourceModule:"main",source:"valueAxis1DataRange"},{targetModule:"main",target:"valueAxis2DataRange",sourceModule:"main.plot.plot",source:"valueAxis2DataRange"},{targetModule:"main.plot.plot",target:"valueAxis2DataRange",sourceModule:"main",source:"valueAxis2DataRange"},{targetModule:"main",target:"bubbleWidthDataRange",sourceModule:"main.plot.plot",source:"bubbleWidthDataRange"},{targetModule:"main.plot.plot",target:"bubbleWidthDataRange",sourceModule:"main",source:"bubbleWidthDataRange"},{targetModule:"main",target:"bubbleHeightDataRange",sourceModule:"main.plot.plot",source:"bubbleHeightDataRange"},{targetModule:"main.plot.plot",target:"bubbleHeightDataRange",sourceModule:"main",source:"bubbleHeightDataRange"},{targetModule:"main.plot.xAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis1Scale"},{targetModule:"main.plot.yAxis",target:"scale",sourceModule:"main.plot.plot",source:"valueAxis2Scale"},{targetModule:"main.plot.xAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis1Title"},{targetModule:"main.plot.yAxis",target:"title",sourceModule:"main.plot.plot",source:"valueAxis2Title"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot.plot",source:"shapes"},{targetModule:"sizeLegend",target:"sizeLegendInfo",sourceModule:"main.plot.plot",source:"sizeLegend"}]}};a.register(b)});sap.riv.module({qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"}],function Setup(b){var a={id:"viz/scatter/single/base",name:"IDS_BASEBUBBLECHART","abstract":true,base:"riv/base/single",modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left"}}},main:{controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction"}}},modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",orientation:"vertical",visible:false,position:"outside",outsideVisible:true}}},xAxis:{id:"sap.viz.modules.axis",data:{mg:[1]},configure:{description:"Settings for the x axis of a normal bubble or scatter plot.",propertyCategory:"xAxis",properties:{type:"value",position:"bottom",gridline:{visible:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{mg:[2]},configure:{description:"Settings for the y axis of a normal bubble or scatter plot.",propertyCategory:"yAxis",properties:{type:"value",position:"left",gridline:{visible:true}}}},background:{id:"sap.viz.modules.background",configure:{propertyCategory:"background",properties:{direction:"vertical"}}}}}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"valueAxis1Scale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"valueAxis2Scale"},{targetModule:"main.xAxis",target:"title",sourceModule:"main.plot",source:"valueAxis1Title"},{targetModule:"main.yAxis",target:"title",sourceModule:"main.plot",source:"valueAxis2Title"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapes"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Scatter",version:"4.0.0"}],function Setup(b){var a={id:"viz/scatter",name:"IDS_SCATTERCHART",base:"viz/scatter/single/base",modules:{tooltip:{configure:{properties:{chartType:"scatter"}}},main:{modules:{plot:{id:"sap.viz.modules.scatter",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:false}}}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.scatter.BaseBubbleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Bubble",version:"4.0.0"}],function Setup(b){var a={id:"viz/bubble",name:"IDS_BUBBLECHART",base:"viz/scatter/single/base",modules:{sizeLegend:{id:"sap.viz.modules.legend",configure:{description:"The size legend is a box mapping the charts data shapes' size to the value by some typical symbols and associated indication values.",propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{configure:{properties:{chartType:"bubble"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{properties:{automaticInOutside:true}}},plot:{id:"sap.viz.modules.bubble",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:"sizeLegend",target:"sizeLegendInfo",sourceModule:"main.plot",source:"sizeLegend"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TreeMap",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(d,c){var e={id:"rectangleTitle",name:"Rectangle Title",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:6};var f={id:"rectangleWeight",name:"Rectangle Weight",type:c.Type.Measure,min:1,max:1,mgIndex:1};var b={id:"rectangleColor",name:"Rectangle Color",type:c.Type.Measure,min:0,max:1,mgIndex:2};var a={id:"treeMap",feeds:[e,b,f]};d.register(a)});sap.riv.module({qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},[],function Setup(){var b={getScale:function(w,k,f,o,n){var z=d3.scale.linear().domain([w,k]).range([o,n]).nice();var h=z.domain();var m=a(h[0]),l=a(h[1]);var e=m>l?m:l;e++;var x=z.domain();x=c(x,e);w=x[0];k=x[1];if(w===k){f=1}var q=k-w,A=[],j,v=0;if(q/f>1){if(q%f===0){j=d(q/f,e+1);v=a(j);for(var r=0;r<f+1;r++){A.push(w+d(r*j,v))}}else{j=Math.ceil(q/f);v=a(j);var g=Math.floor(w/j)*j;if(g===0||(g+j*f<k)){g=w}for(var r=0;r<f+1;r++){A.push(g+d(r*j,v))}}}else{g=w,j=d(q/f,e+1);v=a(j);for(var r=0;r<f;r++){A.push(g+d(r*j,v))}A.push(d(k,v))}for(var r=0,u=A.length;r<u;r++){A[r]=d(A[r],v)}z=d3.scale.linear().domain([0,f-1]).range([o,n]);var p=[],t=[];for(var r=0,u=A.length-1;r<u;r++){p.push([A[r],A[r+1]]);t.push(z(r))}var s=d3.scale.ordinal().domain(p).range(t);return s}};var c=function(g,f){for(var h=0,e=g.length;h<e;h++){g[h]=d(g[h],f)}return g};var a=function(f){var e=f.toString().split(".");return e.length>1?e[1].length:0};var d=function(f,e){return Math.round(Math.pow(10,e)*f)/Math.pow(10,e)};return b});sap.riv.module({qname:"sap.viz.modules.treemap",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(g,c,b,i,a,i,f,k,e,d,h,j){var l=function(z,G){var K=d.newId();var L=function(ah,ag){for(var ai in ag){if(typeof(ag[ai])==="object"){if(ah[ai]){ah[ai]=L(ah[ai],ag[ai])}else{ah[ai]=ag[ai]}}else{ah[ai]=ag[ai]}}return ah};var r=[];var C,Y;var Z={emptycolor:"#e0e0e0",animation:{dataLoading:true,dataUpdating:false,resize:true,},colornumber:5,discretecolor:false,colorPalette:[],tooltip:{enabled:true,}};Z=L(Z,z.props(null));var I=z.props(null);var M="'Open Sans', Arial, Helvetica, sans-serif";var v;var u;var B=true;var x="tree";var t="treeItem";var T;var p=d3.scale.ordinal();var O=d3.scale.ordinal();var aa=new g("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var R="#ffffff";var S;var af;var F;var E;var P=null;var n=null;var J=null;var D=G.effectManager;var o=6;var m=null;var H=e.get("IDS_ISNOVALUE");var ae={};ae.fontSize="12px";ae.fontWeight="normal";ae.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";ae.fill="#ffffff";var ac=function(ah,ag){return f.fastMeasure(ah,ag["font-size"],ag["font-weight"],ag["font-family"])};var Q=function(ag){if(ag===null||ag===undefined){ag=e.get("IDS_ISNOVALUE")}return ag};var U=function(am){var ah={body:[],footer:[]};var ag=E[am];var al={name:Q(ag.weight.col),val:[{value:i.isNoValue(ag.weight.row.val)?H:ag.weight.row.val}]};ah.body.push(al);if(F){var ai={name:Q(ag.color.col),val:[{value:i.isNoValue(ag.color.row.val)?H:ag.color.row.val}]};ah.body.push(ai)}if(a.isExist(S)){for(var ao=S.values,ak=ao.length,aj=ak-1;aj>=0;aj--){var an={};an.label=ao[aj].col;an.value=ao[aj].rows[am%ao[aj].rows.length];ah.footer.push(an)}}return ah};var X=function(ai){if(!i.isNoValue(ai.datum().val)){u.attr("visibility","visible");var ak=ai.datum().left+T;var ah=ai.datum().left+ai.datum().width-T;var aj=ai.datum().top+T;var ag=ai.datum().top+ai.datum().height-T;u.select(".HLLeft").attr("x1",ak).attr("y1",aj).attr("x2",ak).attr("y2",ag);u.select(".HLRight").attr("x1",ah).attr("y1",aj).attr("x2",ah).attr("y2",ag);u.select(".HLTop").attr("x1",ak).attr("y1",aj).attr("x2",ah).attr("y2",aj);u.select(".HLBottom").attr("x1",ak).attr("y1",ag).attr("x2",ah).attr("y2",ag)}};var w=function(ag){u.attr("visibility","hidden")};var N=function(ah,ag){if((ah&&ah.index===(E.length-1)&&ah.children.length===0)||(E.length===0)||(ah===undefined&&ag===undefined)){aa.initialized()}};var A=function(az,aA,aF,aj){if(aA.length<=0){return}var aw=(aA[0].children.length===0);if(aF){az=az.append("g").attr("class",x+"Level"+aA[0].level)}else{az=az.select("."+x+"Level"+aA[0].level)}var aD=[];for(var aC=0;aC<aA.length;aC++){if(aA[aC].level===aj){aD.push(aA[aC])}}var ao=az.attr("class");var ax=az.selectAll("."+ao+" > ."+t);ax=ax.data(aD,function(aH){return aH.index});var av=ax.enter();var at=ax.exit();var au;var ay=function(aJ){var aI={};aI["font-size"]=ae.fontSize;aI["font-weight"]=ae.fontWeight;aI["font-family"]=ae.fontFamily;var aK=ac(aJ.label,aI).height;var aH=0;if(aK>aJ.height){aH=-1}else{aH=aJ.width-6}return aH};var ap=function(aH){return(aw)?(aH.width/2):(aH.left+aH.width/2)};var an=function(aJ){var aH={};aH["font-size"]=ae.fontSize;aH["font-weight"]=ae.fontWeight;aH["font-family"]=ae.fontFamily;var aI=ac(aJ.label,aH).height;if(aJ.children.length===0){return(aw)?(aJ.height/2+aI/2-aI/10):(aJ.top+aJ.height/2+aI/2-aI/10)}else{return aJ.top+aI-aI/10}};var ag=function(aJ){var aI="font-size:"+ae.fontSize;aI+="font-weight:"+ae.fontWeight;aI+="font-family:"+ae.fontFamily;var aH="";if(aJ.showLabel){aH=f.ellipsis(aJ.label,this,ay(aJ),aI)}return aH};var aq=function(aH){return"middle"};var am=function(aI){var aH;if(aI.children.length===0){aH="white"}else{if(aI.level===(aI.levelNum-1)){aH="white"}else{if((aI.levelNum-aI.level)===6){aH="white"}else{if((aI.levelNum-aI.level)===5){aH="white"}else{if((aI.levelNum-aI.level)===4){aH="white"}else{if((aI.levelNum-aI.level)===3){aH="#595959"}else{aH="#464646"}}}}}}return aH};var ak=function(aH){var aI=aH.attr("x",function(aJ){return(aw)?(0):(aJ.left+T)}).attr("y",function(aJ){return(aw)?(0):(aJ.top+T)}).attr("width",function(aJ){return aJ.width-2*T>0?aJ.width-2*T:0}).attr("height",function(aJ){return aJ.height-2*T>0?aJ.height-2*T:0}).attr("fill",function(aJ){var aK={drawingEffect:"normal",fillColor:aJ.color};return D.register(aK)}).attr("shape-rendering","crispEdges");return aI};var aE=function(aI){var aH=null;if(aw){aH=aI.attr("x",ap).attr("y",an).attr("class","treemapdatalabel").attr("text-anchor",aq).attr("fill",am).style("font-size",ae.fontSize).style("font-family",ae.fontFamily).attr("pointer-events","none")}else{aH=aI.attr("x",ap).attr("y",an).attr("text-anchor",aq).attr("fill",am).style("font-size",ae.fontSize).style("font-family",ae.fontFamily).attr("pointer-events","none")}aH.text(ag);return aH};if(aF){var ai=t;if(aw){ai+=" datashape"}au=av.append("g").attr("class",ai);if(aw){au.attr("transform",function(aH){return"translate("+(aH.left+T)+","+(aH.top+T)+")"})}var al=au.append("rect");ak(al);if(aw){al.attr("id",function(aI,aH){return("HM"+aI.index+K)}).attr("class","datapoint")}var aG=au.append("text");aE(aG)}else{au=ax;var ah=ax.select("rect");var aG=ax.select("text");if(Z.animation.resize){ah=ah.transition();aG=aG.transition()}if(aw){au.attr("transform",function(aI){var aH="translate("+(aI.left+T)+","+(aI.top+T)+")";return aH})}ah=ak(ah);aG=aE(aG);var ar=500;if(Z.animation.resize){ah.delay(0).duration(ar).each("end",N);aG.delay(0).duration(ar)}else{N()}}var aB=function(aL,aK,aJ){var aI=d3.select(aL);var aH=aI.datum().children;A(aI,aI.datum().children,aF,aj+1)};au.each(function(aI,aH){aB(this,aI,aH)});au=az.selectAll("."+t);if(aF){if(Z.animation.dataLoading){au.attr("opacity",0);au.transition().delay(0).duration(1000).attr("opacity",1).each("end",N)}else{N()}}else{N()}return au};var q=function(ah,ag){if(B){ah.selectAll("*").remove()}j.drawBound(ah,C,Y);var aj=ah;var ai=ah.selectAll("g.datashapesgroup");if(!a.isExist(ai[0][0])){ai=ah.append("g").attr("class","datashapesgroup")}A(ai,ag,B,0);if(B){u=ah.append("g").attr("class","HLElement").attr("visibility","hidden");u.append("line").attr("class","HLLeft").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("class","HLRight").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("class","HLTop").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append("line").attr("class","HLBottom").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(u){u.attr("visibility","hidden")}}B=false};var ab=function(){if(F){var al=[];var am=F.values[0].rows[0];for(var ak=0;ak<am.length;ak++){al.push(am[ak])}var ap=-Number.MAX_VALUE;var ao=Number.MAX_VALUE;for(var ai=0;ai<al.length;ai++){if(!i.isNoValue(al[ai].val)){if(ap<al[ai].val){ap=al[ai].val}if(ao>al[ai].val){ao=al[ai].val}}}var an=false;for(var ak=0;ak<al.length;ak++){if(i.isNoValue(al[ak].val)){an=true}}}var aj=Z.colornumber;var ag;if(ao===Number.MAX_VALUE&&ap===-Number.MAX_VALUE||(!F)){ag=undefined}else{var ag=k.getScale(ao,ap,aj,Z.startColor,Z.endColor);if(an){var aq=ag.domain();var ah=ag.range();aq.push([]);ah.push(Z.emptycolor)}}return ag};var W=function(ah){var ag=function(aC,av,au){var az=0;for(var aE=0;aE<aC.length;aE++){az+=aC[aE].val}var aB=function(aJ,aI){var aK=0;if(aI.val!==aJ.val){aK=aJ.val-aI.val}return aK};var aH;for(var aq=0;aq<aC.length-1;aq++){for(var aE=aC.length-1;aE>aq;aE--){if(aB(aC[aE],aC[aE-1])>0){aH=aC[aE-1];aC[aE-1]=aC[aE];aC[aE]=aH}}}var aA={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0,};var at={left:0,top:0,width:0,height:0,weight:0,vertical:false,};for(var aE=0;aE<aC.length;aE++){an(aC,aE,az,aA,at,av)}for(var aG=0;aG<aC.length;aG++){if(!aC[aG].left){aC[aG].left=0}if(!aC[aG].top){aC[aG].top=0}if(!aC[aG].width){aC[aG].width=0}if(!aC[aG].height){aC[aG].height=0}var aD="";if(aC[aG].label&&aC[aG].label.length&&aC[aG].label.length>0){var ap=aC[aG].label[0];aD=ap.concat("...")}var aF={};aF["font-size"]=ae.fontSize;aF["font-weight"]=ae.fontWeight;aF["font-family"]=ae.fontFamily;aC[aG].labelHeight=ac(aD,aF).height;aC[aG].labelWidth=ac(aD,aF).width;aC[aG].needMoreHeightToShowLabel=false;if((aC[aG].labelHeight<aC[aG].height)&&(aC[aG].labelWidth<aC[aG].width)){aC[aG].showLabel=true}else{aC[aG].showLabel=false;if(aC[aG].labelHeight>=aC[aG].height){aC[aG].needMoreHeightToShowLabel=true}}}var aw=true;for(var aG=0;aG<aC.length;aG++){if(aC[aG].level===(aC[aG].levelNum-1)){if(!aC[aG].needMoreHeightToShowLabel){aw=false;break}}else{aw=false}}var ar=function(aI){if(aC[aI].level!==(aC[aI].levelNum-1)){aC[aI].showLabel=false}ay.top=aC[aI].top+T*2;ay.left=aC[aI].left+T*2;ay.width=aC[aI].width-T*2-T;ay.height=aC[aI].height-T*2-T};if(!aw){for(var aE=0;aE<aC.length;aE++){if(aC[aE].children.length>0){var ax=true;if(!au){ax=false}var ao=aC[aE].labelHeight;var ay={};ay.top=aC[aE].top+T*2+ao;ay.left=aC[aE].left+T*2;ay.width=aC[aE].width-T*2-T;ay.height=aC[aE].height-T*2-T-ao;if(!ax){ar(aE)}aw=ag(aC[aE].children,ay,ax);if((aw||!aC[aE].showLabel)&&ax){ar(aE);aw=ag(aC[aE].children,ay,false)}}}}return aw};var ai=function(ap){var ao;if(ap.height>ap.width){ao=ap.height/ap.width}else{ao=ap.width/ap.height}ao=Math.floor(ao*1000);return ao};var al=function(aq,az,ap,aw,ay){var av=0;var ax={};if(ap){if(ay.vertical){ax.width=ay.width*(az/(aw.weight+az));ax.height=ay.height*((aw.weight+az)/ay.weight)}else{ax.height=ay.height*(az/(aw.weight+az));ax.width=ay.width*((aw.weight+az)/ay.weight)}av=ai(ax);for(var au=0;au<aw.items.length;au++){var ao=aw.items[au];var at={};if(ay.vertical){at.width=aw.width*(aq[ao].val/(aw.weight+az));at.height=ay.height*((aw.weight+az)/ay.weight)}else{at.height=aw.height*(aq[ao].val/(aw.weight+az));at.width=ay.width*((aw.weight+az)/ay.weight)}var ar=ai(at);if(av<ar){av=ar}}}else{av=aw.worstRadio}return av};var aj=function(ao,aq){var ap={};ap.weight=aq.weight-ao.weight;if(aq.width===ao.width){ap.left=aq.left;ap.top=ao.top+ao.height;ap.width=aq.width;ap.height=aq.height-ao.height}else{ap.left=ao.left+ao.width;ap.top=aq.top;ap.width=aq.width-ao.width;ap.height=aq.height}return ap};var an=function(at,ao,ay,ax,az,av){if(ao===0){at[ao].left=av.left;at[ao].top=av.top;if(av.width>av.height){at[ao].height=av.height;at[ao].width=av.width*(at[ao].val/ay);az.vertical=false}else{at[ao].width=av.width;at[ao].height=av.height*(at[ao].val/ay);az.vertical=true}ax.left=av.left;ax.top=av.top;ax.width=at[ao].width;ax.height=at[ao].height;ax.weight=at[ao].val;ax.items.push(ao);ax.worstRadio=ai(ax);az.left=av.left;az.top=av.top;az.width=av.width;az.height=av.height;az.weight=ay}else{if(ao===(at.length-1)){var aw=aj(ax,az);at[ao].left=aw.left;at[ao].top=aw.top;at[ao].width=aw.width;at[ao].height=aw.height}else{var ar=(al(at,at[ao].val,true,ax,az));var aA=(al(at,at[ao].val,false,ax,az));if(ar<aA){ax.worstRadio=ar;ax.items.push(ao);ax.weight+=at[ao].val;if(az.vertical){ax.height=az.height*(ax.weight/az.weight)}else{ax.width=az.width*(ax.weight/az.weight)}for(var au=0;au<ax.items.length;au++){var aq=ax.items[au];if(az.vertical){at[aq].width=ax.width*(at[aq].val/ax.weight);at[aq].height=az.height*(ax.weight/az.weight);at[aq].top=ax.top;if(au===0){at[aq].left=ax.left}else{at[aq].left=at[aq-1].left+at[aq-1].width}}else{at[aq].height=ax.height*(at[aq].val/ax.weight);at[aq].width=az.width*(ax.weight/az.weight);at[aq].left=ax.left;if(au===0){at[aq].top=ax.top}else{at[aq].top=at[aq-1].top+at[aq-1].height}}}}else{var ap=aj(ax,az);az.left=ap.left;az.top=ap.top;az.width=ap.width;az.height=ap.height;az.weight=ap.weight;if(az.width>az.height){az.vertical=false}else{az.vertical=true}ax.left=az.left;ax.top=az.top;ax.weight=at[ao].val;if(az.vertical){ax.width=az.width;ax.height=az.height*(at[ao].val/az.weight)}else{ax.height=az.height;ax.width=az.width*(at[ao].val/az.weight)}ax.worstRadio=ai(ax);ax.items=[];ax.items.push(ao);at[ao].width=ax.width;at[ao].height=ax.height;at[ao].top=ax.top;at[ao].left=ax.left}}}};var am={};am.top=0;am.left=0;am.width=C;am.height=Y;var ak=ag(ah,am,true);if(ak){ag(ah,am,false)}};var V=function(ap,ag,ak,at,ao){if(ag>=ak){return[]}var ah=[];var ai=undefined;var aj=at;var an=aj+1;for(var am=at;am<ao;am++){var ar={};var aq=ap[am].dimensions[ag].row.val;if(aq!==ai||ag===ak-1){var al=s(am,ag,ak,ar);ar.label=ap[am].dimensions[ag].row.val;ar.level=ag;ar.levelNum=ak;ar.isTreeMap=true;if(ag===ak-1){ar.ctx=ap[am].weight.row.ctx}else{ar.ctx=null}ar.index=am;if(ap[am].weight.row.val>=0){ar.val=ap[am].weight.row.val}else{ar.val=0}if(ah.length>0){ah[ah.length-1].children=V(ap,(ag+1),ak,aj,an);aj=am;an=aj+1}ah.push(ar)}else{if(ap[am].weight.row.val>=0){ah[ah.length-1].val+=ap[am].weight.row.val}an++}ai=aq;if(am===ao-1){if(ah.length>0){ah[ah.length-1].children=V(ap,(ag+1),ak,aj,an)}}}return ah};var s=function(am,ah,aj,ao){if(ah!==(aj-1)){var ag=(aj-1-ah);if(ag===1){ao.color="#f9f9f9"}else{if(ag===2){ao.color="#e3e3e3"}else{if(ag===3){ao.color="#bfbfbf"}else{if(ag===4){ao.color="#989898"}else{if(ag===5){ao.color="#717171"}}}}}ao.colorValue=Number.MAX_VALUE}else{if(E[am].color){ao.colorValue=E[am].color.row.val;if(m){var al=m.domain();if(i.isNoValue(ao.colorValue)){ao.color=Z.emptycolor}else{var an;for(var ak=0;ak<al.length;ak++){var ai=al[ak];if((ak==al.length-1)||(al[ak+1].length==0)){an=ai;break}if((ao.colorValue>=ai[0])&&(ao.colorValue<ai[1])){an=ai;break}}ao.color=m(an)}}else{ao.color=Z.emptycolor}}else{ao.colorValue=Number.MAX_VALUE;var ap=c.sap32().range();ao.color=ap[0]}}};function ad(ah){P=ah;aa.startToInit();if(Z.border&&Z.border.visible){T=1}else{T=0}m=ab();var ag=E[0].dimensions.length;var ai=V(E,0,ag,0,E.length);W(ai);q(ah,ai);return ad}ad.dataLabel=function(ag){};ad.afterUIComponentAppear=function(){aa.initialized()};ad.mouseover=function(aj){var ao=d3.select(d3.event.target);var ak=ao.attr("id");if(ak&&Z.tooltip.enabled){var an=ak.toString().length-K.toString().length-2;var am=ak.toString().substr(2,an);var ai=P.node().getTransformToElement(P.node().ownerSVGElement);var ah=P.node().ownerSVGElement.getBoundingClientRect();var al=aj.getBoundingClientRect();var ag=U(am);ag.point={x:al.left-ah.left+al.width/2,y:(al.height>16)?al.top-ah.top+8:al.top-ah.top+al.height/2};ag.plotArea={x:ai.e,y:ai.f,width:C,height:Y};aa.showTooltip(b.formatTooltipData(ag));X(ao)}};ad.mouseout=function(){if(Z.tooltip.enabled){aa.hideTooltip()}if(d3.event){var ag=d3.select(d3.event.target);w(ag)}};ad.parent=function(){return P};ad.highlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("opacity",1)}}else{ah.setAttribute("opacity",1)}};ad.unhighlight=function(ah){if(ah instanceof Array){for(var ai=0,ag=ah.length;ai<ag;ai++){ah[ai].setAttribute("opacity",0.2)}}else{ah.setAttribute("opacity",0.2)}};ad.clear=function(ag){if(ag==null){P.selectAll(".datapoint").attr("opacity",1)}else{P.selectAll(".datapoint").attr("opacity",0.2)}};ad.width=function(ag){if(!arguments.length){return C}C=ag;return ad};ad.height=function(ag){if(!arguments.length){return Y}Y=ag;return ad};ad.data=function(aq){if(!arguments.length){return v}v=aq;B=true;S=v.getAnalysisAxisDataByIdx(0);af=v.getMeasureValuesGroupDataByIdx(0);F=v.getMeasureValuesGroupDataByIdx(1);var ah=v.getAnalysisAxisDataByIdx(0);var ak=v.getMeasureValuesGroupDataByIdx(0);var ai=v.getMeasureValuesGroupDataByIdx(1);E=[];var an=ak.values[0].rows[0];for(var al=0;al<an.length;al++){var am={};var ag={};ag.col=ak.values[0].col;ag.row=an[al];am.weight=ag;E.push(am)}if(ai){var an=ai.values[0].rows[0];for(var al=0;al<E.length;al++){var am=E[al];var ao={};ao.col=ai.values[0].col;ao.row=an[al];am.color=ao}}var an=ah.values;for(var al=0;al<E.length;al++){var am=E[al];var at=[];var ar=an.length;if(ar>o){ar=o}for(var aj=0;aj<ar;aj++){var ap={};ap.col=ah.values[aj].col;ap.row=ah.values[aj].rows[al];at.push(ap)}am.dimensions=at}return ad};ad.properties=function(ag){if(!arguments.length){return I}h.extend(true,Z,ag);h.extend(true,I,ag);B=true;return ad};ad.getDatapointsByRange=function(am){var al=d3.selectAll(".datapoint")[0],ak=[],ah=am.ctx.ranges,aj;for(var ai=0,ag=al.length;ai<ag;ai++){aj=al[ai].__data__.colorValue;if(i.isNoValue(am.val)){if(i.isNoValue(aj)){ak.push(al[ai])}}else{if(aj<ah.endValue&&aj>ah.startValue){ak.push(al[ai])}else{if(!ah.isLeftOpen&&aj===ah.startValue){ak.push(al[ai])}else{if(!ah.isRightOpen&&aj===ah.endValue){ak.push(al[ai])}}}}}return ak};ad.mbcLegendInfo=function(){var ag=ab();var ah="";if(F){ah=F.values[0].col}return{colorScale:ag,title:ah,}};ad.getPreferredSize=function(){};ad.dispatch=function(ag){if(!arguments.length){return aa}aa=ag;return ad};return ad};return l});sap.riv.module({qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.treemap",version:"4.0.0"},{qname:"sap.viz.feeds.TreeMap",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.treemap",type:b.Module.Type.Chart,name:"treemap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data updating animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set treeMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set treeMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"treeMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TreeMapChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TreeMap",version:"4.0.0"}],function Setup(b){var a={id:"viz/treemap",name:"IDS_TREEMAPCHART",base:"riv/base/single",modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"treemap",orientation:"bottom"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},plot:{id:"sap.viz.modules.treemap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}}}}},dependencies:{attributes:[{targetModule:"legend",target:"mbcLegendInfo",sourceModule:"main.plot",source:"mbcLegendInfo"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.HeatMap",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(e,d){var c={id:"mainLabelAxis",name:"Main Category Axis",type:d.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1};var b={id:"rectangleColor",name:"Rectangle Color",type:d.Type.Measure,min:1,max:1,mgIndex:1};var f={id:"secondaryLabelAxis",name:"Secondary Category Axis",type:d.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1};var a={id:"heatMap",feeds:[c,b,f]};e.register(a)});sap.riv.module({qname:"sap.viz.modules.heatmap",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.EffectManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(f,c,b,j,i,a,j,h,k,e,d,g,m){var l=function(x,F){var J=d.newId();var K=function(aj,ai){for(var ak in ai){if(typeof(ai[ak])==="object"){if(aj[ak]){aj[ak]=K(aj[ak],ai[ak])}else{aj[ak]=ai[ak]}}else{aj[ak]=ai[ak]}}return aj};var s=[];var B,X;var Z={emptycolor:"#e0e0e0",animation:{dataLoading:true,},colornumber:5,discretecolor:false,guideline:{visible:false,color:"#ffff90",},drawemptycell:true,colorPalette:[],tooltip:{enabled:true,}};Z=K(Z,x.props(null));var H=x.props(null);var M="'Open Sans', Arial, Helvetica, sans-serif";var u;var t;var z=true;var w="heatMap";var L="heatMap_emptyValue";var S=1;var q=d3.scale.ordinal();var O=d3.scale.ordinal();var aa=new f("selectData","deselectData","initialized","showTooltip","hideTooltip","startToInit");var af=undefined;var R="#ffffff";var r;var W;var ad;var C;var p;var P=null;var o=null;var I=null;var V=[];var D=F.effectManager;var G=e.get("IDS_ISNOVALUE");var ah=null;function ae(aQ){m.drawBound(aQ,B,X);aa.startToInit();P=aQ;V=[];var aj=false;if(!W){aj=true}if(aj){var az=[];var al=ad.values[0].rows[0];for(var aF=0;aF<al.length;aF++){V.push(al[aF])}for(var aF=0;aF<V.length;aF++){var ar="";for(var aE=0;aE<r.values.length;aE++){ar+=r.values[aE].rows[aF].val;if(aE!=(r.values.length-1)){ar+=" / "}}az.push(ar)}for(var aF=0;aF<V.length;aF++){V[aF].label=az[aF];V[aF].isOnlyOneCategory=true}}else{var ai=r.values[0].rows;var ak=W.values[0].rows;var at=ad.values[0].rows;var aw=ai.length;var ay=ak.length;for(var aF=0;aF<ay;aF++){for(var aE=0;aE<aw;aE++){V.push(at[aF][aE])}}for(var aF=0;aF<V.length;aF++){V[aF].isOnlyOneCategory=false}}af=ab();var aq=af.domain();for(var aF=0;aF<V.length;aF++){var aB;if(j.isNoValue(V[aF].val)){V[aF].color=Z.emptycolor}else{for(var aE=0;aE<aq.length;aE++){var aC=aq[aE];if((aE==aq.length-1)||(aq[aE+1].length==0)){aB=aC;break}if((V[aF].val>=aC[0])&&(V[aF].val<aC[1])){aB=aC;break}}V[aF].color=af(aB)}}if(aj){var aG=-Number.MAX_VALUE;var aA;var aM;var ap;var ao;var aD;var an=[];var aP;if(V.length==1){aA=X;aM=B;ao=1;ap=1}else{for(ap=1;ap<=V.length;ap++){aA=X/ap;var ao=V.length;for(;ao>=0;ao--){if((ao*ap)<V.length){ao++;break}}aM=B/ao;aD=(ao*ap)-V.length;aP=(aA-aM)*(aA-aM);if(aP<1){aP=1}var aG;if(aD==0&&aP==0){aG=1+1}else{if(aD==0&&aP!=0){aG=1+1/aP}else{if(aD!=0&&aP==0){aG=1+1}else{aG=1+1/aP}}}an.push({iRow:ap,iCol:ao,rHeight:aA,rWidth:aM,varianceRec:aP,emptyCellNum:aD,score:aG})}var aO=0;var aK=-1;for(var aF=0;aF<an.length;aF++){if(an[aF].score>aO){aO=an[aF].score;aK=aF}}aA=an[aK].rHeight;aM=an[aK].rWidth;ao=an[aK].iCol;ap=an[aK].iRow}for(var aF=0;aF<V.length;aF++){V[aF].width=aM;V[aF].height=aA;V[aF].left=aM*(aF%ao);V[aF].top=aA*(Math.floor(aF/ao))}}else{for(var aF=0;aF<V.length;aF++){V[aF].width=B/aw;V[aF].height=X/ay;V[aF].left=(B/aw)*(aF%aw);V[aF].top=(X-X/ay)-((X/ay)*(Math.floor(aF/aw)))}}if(z){aQ.select("."+w).remove()}if(aj){var aN=aQ.selectAll("g.datashapesgroup");if(!a.isExist(aN[0][0])){aN=aQ.append("g").attr("class","datashapesgroup")}if(z){C=aN.append("g").attr("class",w)}else{C=aN.select("."+w)}var aH=[];for(var aF=0;aF<V.length;aF++){if(!Z.drawemptycell&&!V[aF].val){continue}else{V[aF].index=aF;aH.push(V[aF])}}var aL=C.selectAll("rect").data(aH,function(aR){return aR.index});var ax=aL.enter();var av=aL.exit();var am;if(z){ah=ax.append("g").attr("class","datashape");ah.attr("transform",function(aR){return"translate("+(aR.left+S)+","+(aR.top+S)+")"});am=ah.append("rect").attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").attr("x",0).attr("y",0).attr("width",function(aR){return aR.width-2*S}).attr("height",function(aR){return aR.height-2*S}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges")}else{if(ah){ah.attr("transform",function(aR){return"translate("+(aR.left+S)+","+(aR.top+S)+")"})}if(Z.animation.dataUpdating){am=aL.attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").transition().delay(0).duration(500).attr("x",0).attr("y",0).attr("width",function(aR){return aR.width-2*S}).attr("height",function(aR){return aR.height-2*S}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges").each("end",N)}else{am=aL.attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").attr("x",0).attr("y",0).attr("width",function(aR){return aR.width-2*S}).attr("height",function(aR){return aR.height-2*S}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges")}am.attr("opacity",1)}if(!Z.border||(Z.border&&Z.border.visible)){am.attr("stroke",R).attr("stroke-width","1")}if(z){if(Z.animation.dataLoading){am.attr("opacity",0);am.transition().delay(0).duration(1000).attr("opacity",1).each("end",N)}else{N()}}else{N()}if(z){if(ah){ah.append("text").attr("class","heatmapdatalabel").attr("x",function(aR){return aR.width/2}).attr("y",function(aR){return aR.height/2}).attr("text-anchor","middle").text(function(aR){return aR.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr("pointer-events","none").each(function(aR){h.ellipsis(aR.label,this,aR.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}}else{C.selectAll("text").remove();C.selectAll("rect").data(aH,function(aR){return aR.index}).enter();ah.append("text").attr("class","heatmapdatalabel").attr("x",function(aR){return aR.width/2}).attr("y",function(aR){return aR.height/2}).attr("text-anchor","middle").text(function(aR){return aR.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr("pointer-events","none").each(function(aR){h.ellipsis(aR.label,this,aR.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}p=am}else{var aN=aQ.selectAll("g.datashapesgroup");if(!a.isExist(aN[0][0])){aN=aQ.append("g").attr("class","datashapesgroup")}if(z){C=aN.append("g").attr("class",w)}else{C=aN.select("."+w)}if(!Z.drawemptycell){if(z){C.append("rect").attr("x",0).attr("y",0).attr("width",B).attr("height",X).attr("fill",Z.emptycolor).attr("class",L).attr("shape-rendering","crispEdges")}else{C.select("."+L).attr("x",0).attr("y",0).attr("width",B).attr("height",X).attr("fill",Z.emptycolor).attr("class",L).attr("shape-rendering","crispEdges")}}var aH=[];for(var aF=0;aF<V.length;aF++){if(!Z.drawemptycell&&!V[aF].val){continue}else{V[aF].index=aF;aH.push(V[aF])}}var aL=C.selectAll("rect").data(aH,function(aR){return aR.index});var ax=aL.enter();var av=aL.exit();var am;if(z){ah=ax.append("g").attr("class","datashape");ah.attr("transform",function(aR){return"translate("+(aR.left)+","+(aR.top)+")"});am=ah.append("rect").attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").attr("x",0).attr("y",0).attr("width",function(aR){return aR.width}).attr("height",function(aR){return aR.height}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges")}else{if(ah){ah.attr("transform",function(aR){return"translate("+(aR.left)+","+(aR.top)+")"})}if(Z.animation.dataUpdating){am=aL.attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").transition().delay(0).duration(500).attr("x",0).attr("y",0).attr("width",function(aR){return aR.width}).attr("height",function(aR){return aR.height}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges").each("end",N)}else{am=aL.attr("id",function(aS,aR){return("HM"+aS.index+J)}).attr("class","datapoint").attr("x",0).attr("y",0).attr("width",function(aR){return aR.width}).attr("height",function(aR){return aR.height}).attr("fill",function(aR){var aS={drawingEffect:"normal",fillColor:aR.color};return D.register(aS)}).attr("shape-rendering","crispEdges")}am.attr("opacity",1)}if(!Z.border||(Z.border&&Z.border.visible)){am.attr("stroke",R).attr("stroke-width","1")}if(z){if(Z.animation.dataLoading){am.attr("opacity",0);am.transition().delay(0).duration(1000).attr("opacity",1).each("end",N)}else{N()}}else{N()}p=am}if(z){t=C.append("g").attr("class","HLElement").attr("visibility","hidden");t.append("line").attr("class","HLLeft").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("class","HLRight").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("class","HLTop").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");t.append("line").attr("class","HLBottom").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(t){t.attr("visibility","hidden")}}if(z){o=C.append("g").attr("class","heatMapTooltip");o.append("rect").attr("ry",6).attr("rx",6).attr("opacity",0.8).attr("stroke-width","1").attr("stroke","#666666");var aJ=ad.values[0].col;var aI=r.values[0].col.val;var au="";if(W){au=W.values[0].col.val}o.append("text").attr("text-anchor","start").attr("font-size","12px").attr("font-family",M).attr("font-weight","bold").attr("x",20).attr("y",18).attr("fill","#333333").text(aJ);o.append("text").attr("text-anchor","start").attr("font-size","12px").attr("class","valText").attr("font-family",M).attr("x",30).attr("y",33).attr("fill","#333333");o.append("line").attr("x1",0).attr("y1",40).attr("x2",160).attr("y2",40).attr("stroke","#666666");o.append("text").attr("text-anchor","end").attr("font-size","11px").attr("font-family",M).attr("font-weight","bold").attr("x",80).attr("y",55).attr("fill","#333333").text(aI);o.append("text").attr("text-anchor","start").attr("font-size","10px").attr("class","valXValue").attr("font-family",M).attr("x",85).attr("y",55).attr("fill","#333333");o.append("text").attr("text-anchor","end").attr("font-size","11px").attr("font-family",M).attr("font-weight","bold").attr("x",80).attr("y",70).attr("fill","#333333").text(au);o.append("text").attr("text-anchor","start").attr("font-size","10px").attr("class","valYValue").attr("font-family",M).attr("x",85).attr("y",70).attr("fill","#333333");o.attr("visibility","hidden")}if(z){I=C.append("g").attr("class","heatMapGuideline");I.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",X).attr("stroke",Z.guideline.color).attr("shape-rendering","crispEdges").attr("class","xGuidline");I.append("line").attr("x1",0).attr("y1",0).attr("x2",B).attr("y2",0).attr("stroke",Z.guideline.color).attr("shape-rendering","crispEdges").attr("class","yGuidline");I.attr("visibility","hidden")}z=false;return ae}var N=function(aj,ai){if((ai===(V.length-1))||(V.length===0)||(aj===undefined&&ai===undefined)){aa.initialized()}};function Y(){}function n(){}var ag=function(ap){var ai=V[ap];var aq="";var al="";var an=false;if(!W){an=true}if(an){aq=r.values[0].rows[ap].val;if(W){al=W.values[0].rows[ap].val}}else{var aj=r.values[0].rows;var ar=W.values[0].rows;var ao=ad.values[0].rows;var am=aj.length;var ak=ar.length;aq=r.values[0].rows[ap%am].val;al=W.values[0].rows[Math.floor(ap/am)].val}o.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");o.attr("transform","translate("+(ai.left+ai.width/2+5)+","+(ai.top+ai.height/2+5)+")");if(!j.isNoValue(ai.val)){o.select(".valText").text(ai.val);o.select(".valXValue").text(aq);o.select(".valYValue").text(al);o.attr("visibility","visible");if(Z.guideline.visible){I.select(".xGuidline").attr("x1",V[ap].left+V[ap].width/2).attr("x2",V[ap].left+V[ap].width/2);I.select(".yGuidline").attr("y1",V[ap].top+V[ap].height/2).attr("y2",V[ap].top+V[ap].height/2);I.attr("visibility","visible")}}};var Q=function(ai){if(ai===null||ai===undefined){ai=e.get("IDS_ISNOVALUE")}return ai};var T=function(ao){var aj={body:[],footer:[]};var ai=V[ao];var am={name:Q(ad.values[0].col),val:[{color:ai.color,value:j.isNoValue(ai.val)?G:ai.val}]};aj.body.push(am);if(a.isExist(r)){for(var aq=r.values,an=aq.length,ak=an-1;ak>=0;ak--){var ap={};ap.label=aq[ak].col;ap.value=aq[ak].rows[ao%aq[ak].rows.length];aj.footer.push(ap)}}if(a.isExist(W)){var al=Math.floor(ao/r.values[0].rows.length);for(var aq=W.values,an=aq.length,ak=an-1;ak>=0;ak--){var ap={};ap.label=aq[ak].col;ap.value=aq[ak].rows[al%aq[ak].rows.length];aj.footer.push(ap)}}return aj};var A=function(){o.attr("visibility","hidden");I.attr("visibility","hidden")};var U=function(ak){if(!j.isNoValue(ak.datum().val)){t.attr("visibility","visible");var am=ak.datum().left;var aj=ak.datum().left+ak.datum().width;var al=ak.datum().top;var ai=ak.datum().top+ak.datum().height;t.select(".HLLeft").attr("x1",am).attr("y1",al).attr("x2",am).attr("y2",ai);t.select(".HLRight").attr("x1",aj).attr("y1",al).attr("x2",aj).attr("y2",ai);t.select(".HLTop").attr("x1",am).attr("y1",al).attr("x2",aj).attr("y2",al);t.select(".HLBottom").attr("x1",am).attr("y1",ai).attr("x2",aj).attr("y2",ai)}};var v=function(ai){t.attr("visibility","hidden")};ae.mouseover=function(al){var aq=d3.select(d3.event.target);var am=aq.attr("id");if(am&&Z.tooltip.enabled){var ap=am.toString().length-J.toString().length-2;var ao=am.toString().substr(2,ap);var ak=P.node().getTransformToElement(P.node().ownerSVGElement);var aj=P.node().ownerSVGElement.getBoundingClientRect();var an=al.getBoundingClientRect();var ai=T(ao);ai.point={x:an.left-aj.left+an.width/2,y:(an.height>16)?an.top-aj.top+8:an.top-aj.top+an.height/2};ai.plotArea={x:ak.e,y:ak.f,width:B,height:X};aa.showTooltip(b.formatTooltipData(ai));U(aq)}};ae.afterUIComponentAppear=function(){aa.initialized()};ae.mouseout=function(){if(Z.tooltip.enabled){aa.hideTooltip()}if(d3.event){var ai=d3.select(d3.event.target);v(ai)}};ae.parent=function(){return P};ae.highlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",1)}}else{aj.setAttribute("opacity",1)}};ae.unhighlight=function(aj){if(aj instanceof Array){for(var ak=0,ai=aj.length;ak<ai;ak++){aj[ak].setAttribute("opacity",0.2)}}else{aj.setAttribute("opacity",0.2)}};ae.clear=function(ai){if(ai==null){P.selectAll(".datapoint").attr("opacity",1)}else{P.selectAll(".datapoint").attr("opacity",0.2)}};ae.width=function(ai){if(!arguments.length){return B}B=ai;E();return ae};ae.height=function(ai){if(!arguments.length){return X}X=ai;ac();return ae};ae.data=function(ai){if(!arguments.length){return u}u=ai;z=true;r=u.getAnalysisAxisDataByIdx(0);W=u.getAnalysisAxisDataByIdx(1);ad=u.getMeasureValuesGroupDataByIdx(0);return ae};ae.properties=function(ai){if(!arguments.length){return H}g.extend(true,Z,ai);g.extend(true,H,ai);z=true;return ae};ae.getDatapointsByRange=function(ao){var an=d3.selectAll(".datapoint")[0],am=[],aj=ao.ctx.ranges,al;for(var ak=0,ai=an.length;ak<ai;ak++){al=an[ak].__data__.val;if(j.isNoValue(ao.val)){if(j.isNoValue(al)){am.push(an[ak])}}else{if(al<aj.endValue&&al>aj.startValue){am.push(an[ak])}else{if(!aj.isLeftOpen&&al===aj.startValue){am.push(an[ak])}else{if(!aj.isRightOpen&&al===aj.endValue){am.push(an[ak])}}}}}return am};ae.mbcLegendInfo=function(){var ai=ab();return{colorScale:ai,title:ad.values[0].col}};ae.getPreferredSize=function(){};ae.categoryScaleX=function(){return q};ae.isDrawXaxisBody=function(){var ai=false;if(!W){ai=true}return(!ai)};ae.categoryScaleY=function(){return O};ae.dataLabel=function(ai){};var ab=function(){var av=d3.scale.ordinal();var aA=[];var aj=false;if(!W){aj=true}if(aj){var ao=ad.values[0].rows[0];for(var ax=0;ax<ao.length;ax++){aA.push(ao[ax])}}else{var ai=r.values[0].rows;var ak=W.values[0].rows;var ao=ad.values[0].rows;var at=ai.length;var au=ak.length;for(var ax=0;ax<au;ax++){for(var aw=0;aw<at;aw++){aA.push(ao[ax][aw])}}}var an=-Number.MAX_VALUE;var az=Number.MAX_VALUE;for(var aq=0;aq<aA.length;aq++){if(!j.isNoValue(aA[aq].val)){if(an<aA[aq].val){an=aA[aq].val}if(az>aA[aq].val){az=aA[aq].val}}}var am=false;for(var ax=0;ax<aA.length;ax++){if(j.isNoValue(aA[ax].val)){am=true}}var ap=Z.colornumber;var ay;if(az===Number.MAX_VALUE&&an===-Number.MAX_VALUE){ay=d3.scale.ordinal().domain([[]]).range([Z.emptycolor])}else{var ay=k.getScale(az,an,ap,Z.startColor,Z.endColor);if(am){var ar=ay.domain();var al=ay.range();ar.push([]);al.push(Z.emptycolor)}}return ay};var E=function(){var aj=false;if(!W){aj=true}var al=r.values[0].rows;var ak=[];for(var ai=0;ai<al.length;ai++){ak.push(ai)}q=q.domain(ak).rangeBands([0,B])};var ac=function(){var ak=false;if(!W){ak=true}if(ak){O=O.domain([0,0]).rangeBands([0,0])}else{var ai=W.values[0].rows;var al=[];for(var aj=0;aj<ai.length;aj++){al.push(aj)}O=O.domain(al).rangeBands([X,0])}};ae.dispatch=function(ai){if(!arguments.length){return aa}aa=ai;return ae};var K=function(aj,ai){for(var ak in ai){if(typeof(ai[ak])==="object"){if(aj[ak]){aj[ak]=K(aj[ak],ai[ak])}else{aj[ak]=ai[ak]}}else{aj[ak]=ai[ak]}}return aj};return ae};return l});sap.riv.module({qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.heatmap",version:"4.0.0"},{qname:"sap.viz.feeds.HeatMap",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.heatmap",type:b.Module.Type.Chart,name:"heatmap",properties:{border:{name:"border",description:"Settings for border.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of zone edge."},},},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled data updating animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set heatMap startColor."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set heatMap endColor."},tooltip:{name:"tooltip",description:"Settings for tooltip.",supportedValueType:"Object",supportedValues:{visible:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."},},isExported:false}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"heatMap"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.HeatMapChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.HeatMap",version:"4.0.0"}],function Setup(b){var a={id:"viz/heatmap",name:"IDS_HEATMAPCHART",base:"riv/base/single",modules:{legend:{id:"sap.viz.modules.legend",configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"heatmap",orientation:"bottom"}}},main:{modules:{dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,orientation:"vertical",position:"inside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},xAxis:{id:"sap.viz.modules.axis",data:{aa:[1]},configure:{description:"Settings for the x axis of a normal heatmap.",propertyCategory:"xAxis",properties:{type:"category",position:"bottom",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:"sap.viz.modules.axis",data:{aa:[2]},configure:{description:"Settings for the y axis of a normal heatmap.",propertyCategory:"yAxis",properties:{type:"category",position:"left",gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:"sap.viz.modules.heatmap",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}}}}},dependencies:{attributes:[{targetModule:"main.xAxis",target:"scale",sourceModule:"main.plot",source:"categoryScaleX"},{targetModule:"main.xAxis",target:"isDrawBody",sourceModule:"main.plot",source:"isDrawXaxisBody"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main.plot",source:"categoryScaleY"},{targetModule:"legend",target:"mbcLegendInfo",sourceModule:"main.plot",source:"mbcLegendInfo"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.TagCloud",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"tagCloud",feeds:[{id:"tagName",name:"Tags Name",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:1},{id:"tagWeight",name:"Tags Weight",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"tagFamily",name:"Tags Family",type:b.Type.Measure,min:0,max:1,mgIndex:2}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"}],function Setup(b,c){var a=function(){var d=300,k=300,h=[],f="";var j=function(){};j.width=function(m){if(!arguments.length){return d}d=m;return j};j.height=function(m){if(!arguments.length){return k}k=m;return j};j.data=function(m){if(!arguments.length){return h}m.sort(function(o,n){if(o.wordSize&&n.wordSize){return n.wordSize.val-o.wordSize.val}});h=m;return j};j.font=function(m){if(!arguments.length){return f}f=m;return j};j.layout=function(){var n=false,m=0;while(!n){n=l(++m)}return j};var l=function(n){var v=h,m,s,u;for(var p=0,q=v.length;p<q;p++){s=v[p];if(c.isNoValue(s.fontSize)){continue}m=b.fastMeasure(v[p].word.val+"i",v[p].fontSize+"px","normal",f);s.width=m.width;s.height=m.height;s.x=undefined;s.y=undefined;s.rect=new i(s.width,s.height);var t;if(!u){var o;if(s.width<=d&&s.height<=k){o=false}else{if(s.height<=d&&s.width<=k){o=true}}if(o!==null){u=s;if(o){s.rect.rotate()}s.rect.position(d/2,k/2);t=true}}else{var r=[];r.push(u);while(r.length!==0){var w=r.shift();if(w.child){w.child.forEach(function(x){if(x){r.push(x)}})}t=e(s,w,u);if(t){break}}}if(t){s.x=s.rect.x;s.y=s.rect.y;s.rotate=s.rect.rotated?90:0}}v.forEach(function(x){delete x.child;delete x.rect});return true};function e(u,t,r){var q=u.rect;var m=t.child;if(!m){m=[];t.child=m}for(var n=0;n<2;n++){if(n===1){q.rotate()}for(var o=0;o<4;o++){if(m[o]){continue}var s,p;switch(o){case 0:s=t.x;p=t.rect.y0-q.h/2;break;case 1:p=t.y;s=t.rect.x1+q.w/2;break;case 2:s=t.x;p=t.rect.y1+q.h/2;break;case 3:p=t.y;s=t.rect.x0-q.w/2;break}q.position(s,p);if(q.x0>=0&&q.y0>=0&&q.x1<=d&&q.y1<=k){if(g(q,t,r)){m[o]=u;return true}}}}q.rotate();return false}function g(q,p,n){if(n!==p){if(!q.notInterects(n.rect)){return false}}for(var o=0,r=n.child,m=r?r.length:0;o<m;o++){if(r[o]&&!g(q,p,r[o])){return false}}return true}function i(m,n){this.w=m;this.h=n;this.rotated=false}i.prototype={position:function(m,p){this.x=m;this.y=p;var o=this.w/2,n=this.h/2;this.x0=m-o;this.x1=m+o;this.y0=p-n;this.y1=p+n},notInterects:function(m){return this.x1<=m.x0||this.x0>=m.x1||this.y1<=m.y0||this.y0>=m.y1},rotate:function(){this.rotated=!this.rotated;var m=this.h;this.h=this.w;this.w=m}};return j};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"}],function Setup(b,c){var a=function(){var g=300,d=300,h=[],e="";var f=function(){};f.width=function(j){if(!arguments.length){return g}g=j;return f};f.height=function(j){if(!arguments.length){return d}d=j;return f};f.data=function(j){if(!arguments.length){return h}h=j;return f};f.font=function(j){if(!arguments.length){return e}e=j;return f};f.layout=function(){i();return f};var i=function(){var r=h;var q,k;for(var m=0,p=r.length;m<p;m++){q=r[m];k=b.fastMeasure(r[m].word.val+"i",r[m].fontSize+"px","normal",e);q.width=k.width;q.height=k.height}var o=0,n=0;for(var l=0,s=r.length;l<s;l++){q=r[l];if(c.isNoValue(r[l].fontSize)){continue}n=n+q.height;q.x=o;q.y=n;q.rotate=undefined}};return f};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"}],function Setup(b,c){var a=function(){var g=300,d=300,h=[],e="";var i=function(){};i.width=function(k){if(!arguments.length){return g}g=k;return i};i.height=function(k){if(!arguments.length){return d}d=k;return i};i.data=function(k){if(!arguments.length){return h}h=k;return i};i.font=function(k){if(!arguments.length){return e}e=k;return i};i.layout=function(){j();return i};var j=function(){var r=h;var q,k,l,p;for(l=0,p=r.length;l<p;l++){q=r[l];k=b.fastMeasure(r[l].word.val+"i",r[l].fontSize+"px","normal",e);q.width=k.width;q.height=k.height}var n=0;var o=r[0].height,m=0,s=0;for(l=0,p=r.length;l<p;l++){q=r[l];if(c.isNoValue(r[l].fontSize)){continue}if(n+q.width>g){n=0;f(s,l,m+o);s=l;m=m+o;o=r[l].height}if(q.height>o){o=q.height}q.x=n;q.y=m;n=n+q.width;q.rotate=undefined}f(s,l,m+o)};var f=function(o,n,k){var m;for(var l=o;l<n;l++){m=h[l];m.y=k}};return i};return a});sap.riv.module({qname:"sap.viz.modules.tagcloud",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.tagcloud.rowLayout",version:"4.0.0"},{qname:"sap.viz.modules.tagcloud.columnLayout",version:"4.0.0"},{qname:"sap.viz.modules.tagcloud.wordleLayout",version:"4.0.0"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,h,d,g,m,n,c,l,j,f,b,i,k){var e=function(v,M){var I=400,G=200,C=null,p={},Q=[],T=48,P=12,R,L=[],q=M.effectManager;var B=f.newId();var N=Number.MAX_VALUE,O=Number.MIN_VALUE,A=false,S=true,u=false;var z={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",color:"#555555"};var x,t=1,H=g.get("IDS_ISNOVALUE");var F=new h("initialized","showTooltip","hideTooltip");var U=null;var E=function(W){W.each(function(){k.drawBound(W,I,G);s();if(U===null){U=W.append("rect").attr("fill","rgba(133,133,133, 0.2)").style("visibility","hidden")}else{U.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden")}var Y=V();C=d3.select(this);if(u&&!C.selectAll("g.word").empty()){u=false;C.selectAll("g.word").remove()}C.attr("style","cursor:default");var X=C.selectAll("g.word").data(Y,function(ab,aa){return(ab.word?ab.word.val:"")+" "+(ab.wordFontFamily?ab.wordFontFamily.val:"")+" "+(ab.wordSize?ab.wordSize.val:"")});X.selectAll("text").data(function(ab,aa){return ab}).text(function(ab,aa){return ab.word.val});var Z=X.enter().append("g").attr("class","word").append("text").text(function(ab,aa){return ab.word.val}).attr("id",function(ab,aa){return"TAG_ID_"+aa+B}).attr("class","datapoint").attr("visibility",function(ac,ab){var aa="visible";if(j.isNoValue(ac.fontSize)||ac.x===undefined||ac.y===undefined){aa="hidden"}return aa}).attr("font-size",function(ab,aa){return ab.fontSize}).attr("font-family",z.fontfamily);X.exit().attr("transform","translate(-1000, -1000)");X.selectAll(".datapoint").attr("fill",function(af,ad){var ab;if(R&&af.wordFontFamily!==null&&af.wordFontFamily.val!==null){var ac,aa,ae=R.domain();for(ac=0,aa=ae.length-1;ac<aa;ac++){if(af.wordFontFamily.val!==null&&(ae[ac][1]>af.wordFontFamily.val)){break}}ab=R(ae[ac])}else{ab=z.color}var ag={fillColor:ab,drawingEffect:"normal"};return q.register(ag)}).attr("text-anchor",function(){if(x.layout==="Wordle"){return"middle"}else{return"start"}});X.selectAll("text").attr("fill-opacity",t);if(x.animation.dataLoading){X.transition().attr("transform",function(ac,aa){var ab="";if(ac.x!==undefined&&ac.y!==undefined&&ac.y<G&&ac.x<I){ab="translate("+[ac.x,ac.y]+")"}else{ab="translate(-1000, -1000)"}if(ac.rotate){ab=ab+" rotate("+ac.rotate+")"}return ab}).duration(800).delay(100).each("end",function(ac,aa){var ab="";if(ac.x!==undefined&&ac.y!==undefined&&ac.y<G&&ac.x<I){ab="translate("+[ac.x,ac.y]+")"}else{ab="translate(-1000, -1000)"}if(ac.rotate){ab=ab+" rotate("+ac.rotate+")"}this.setAttribute("transform",ab);if(aa===Y.length-1){F.initialized()}})}else{X.attr("transform",function(ac,aa){var ab="";if(ac.x!==undefined&&ac.y!==undefined){ab="translate("+[ac.x,ac.y]+")"}else{ab="translate(-1000, -1000)"}if(ac.rotate){ab=ab+" rotate("+ac.rotate+")"}return ab});F.initialized()}})};E.width=function(W){if(!arguments.length){return I}I=W;return E};E.height=function(W){if(!arguments.length){return G}G=W;return E};E.data=function(Y){if(!arguments.length){return p}var Z={};Z.words=Y.getAnalysisAxisDataByIdx(0).values[0];var X=Y.getMeasureValuesGroupDataByIdx(0);if(X&&Y.getMeasureValuesGroupDataByIdx(0).values.length>0){Z.wordsSize=Y.getMeasureValuesGroupDataByIdx(0).values[0]}else{Z.wordsSize=undefined}var W=Y.getMeasureValuesGroupDataByIdx(1);if(W&&W.values.length>0){Z.wordsFontFamily=Y.getMeasureValuesGroupDataByIdx(1).values[0]}else{Z.wordsFontFamily=undefined;R=undefined}D(Z);u=w(Z);p=Z;return E};E.properties=function(W){if(!arguments.length){return x}i.extend(true,x,W);S=x.tooltip.enabled;if(R){r(N,O,A)}return E};E.dispatch=function(W){if(!arguments.length){return F}F=W;return E};E.mbcLegendInfo=function(){var W=p.wordsFontFamily?p.wordsFontFamily.col:"";return{colorScale:R,title:W}};E.parent=function(){return C};E.highlight=function(X){if(X instanceof Array){for(var Y=0,W=X.length;Y<W;Y++){X[Y].setAttribute("fill-opacity",1)}}else{X.setAttribute("fill-opacity",1)}};E.unhighlight=function(X){if(X instanceof Array){for(var Y=0,W=X.length;Y<W;Y++){X[Y].setAttribute("fill-opacity",0.2)}}else{X.setAttribute("fill-opacity",0.2)}};E.clear=function(W){if(W===undefined){C.selectAll(".datapoint").attr("fill-opacity",1);t=1}else{C.selectAll(".datapoint").attr("fill-opacity",0.2)}};E.mouseover=function(X){var ab=d3.select(d3.event.target);var Z=ab.attr("id");if(Z&&S){var ac=K(ab.datum());var Y=C.node().getTransformToElement(C.node().ownerSVGElement);var aa=C.node().ownerSVGElement.getBoundingClientRect();var ad=ab.node().getBoundingClientRect(),W=C.node().getBoundingClientRect();U.attr("width",ad.width).attr("height",ad.height).attr("x",ad.left-W.left).attr("y",ad.top-W.top).style("visibility","visible");ac.point={x:ad.left-aa.left+ad.width/2,y:ad.top-aa.top};ac.plotArea={x:Y.e,y:Y.f,width:I,height:G};F.showTooltip(b.formatTooltipData(ac))}};E.mouseout=function(){U.attr("width",0).attr("height",0).attr("x",0).attr("y",0).style("visibility","hidden");if(S){F.hideTooltip()}};E.getDatapointsByRange=function(ac){var ab=d3.selectAll(".datapoint")[0],aa=[],X=ac.ctx.ranges,Z;for(var Y=0,W=ab.length;Y<W;Y++){Z=ab[Y].__data__.wordFontFamily.val;if(j.isNoValue(ac.val)){if(j.isNoValue(Z)){aa.push(ab[Y])}}else{if(Z<X.endValue&&Z>X.startValue){aa.push(ab[Y])}else{if(!X.isLeftOpen&&Z===X.startValue){aa.push(ab[Y])}else{if(!X.isRightOpen&&Z===X.endValue){aa.push(ab[Y])}}}}}return aa};var w=function(aa){var ab=p,Z=false;if(ab.words&&aa.words){if(ab.words.rows.length!==aa.words.rows.length){Z=true}else{if((ab.wordsFontFamily&&!aa.wordsFontFamily)||(!ab.wordsFontFamily&&aa.wordsFontFamily)){Z=true}else{var Y=ab.words.rows,ac=aa.words.rows;for(var X=0,W=Y.length;X<W;X++){if(Y[X].val!==ac[X].val){Z=true;break}}}}}return Z};var V=function(){var X=[],Z;for(var Y=0,W=Q.length;Y<W;Y++){Z=Q[Y];if(!(j.isNoValue(Z.fontSize)||Z.x===undefined||Z.y===undefined||Z.y>G||Z.x>I)){X.push(Z)}}return X};var K=function(X){var W={body:[],footer:[]};if(p.wordsSize){W.body.push({name:p.wordsSize.col,val:[{value:X.wordSize}]})}if(p.wordsFontFamily){W.body.push({name:p.wordsFontFamily.col,val:[{value:X.wordFontFamily}]})}if(p.words){W.footer.push({label:p.words.col,value:X.word})}return W};var D=function(ac){Q=[];var aa,Z,Y,ab;N=undefined,O=undefined,A=false;for(var X=0,W=ac.words.rows.length;X<W;X++){if(ac.words&&ac.words.rows[X].val&&ac.wordsSize&&ac.wordsSize.rows[0][X]&&!j.isNoValue(ac.wordsSize.rows[0][X].val)){ab={};ab.word=ac.words.rows[X];ab.wordSize=(ac.wordsSize?ac.wordsSize.rows[0][X]:undefined);ab.wordFontFamily=(ac.wordsFontFamily?ac.wordsFontFamily.rows[0][X]:undefined);ab.val=[ac.words.rows[X].val];ab.ctx=[ac.words.rows[X].ctx];if(ab.wordSize){ab.val.push(ac.wordsSize.rows[0][X].val);ab.ctx.push(ac.wordsSize.rows[0][X].ctx);if(ab.wordSize.val!==null){if(aa===undefined||ab.wordSize.val<aa){aa=ab.wordSize.val}if(Z===undefined||ab.wordSize.val>Z){Z=ab.wordSize.val}}}if(ab.wordFontFamily){ab.val.push(ab.wordFontFamily.val);ab.ctx.push(ab.wordFontFamily.ctx);Y=ab.wordFontFamily.val;if(Y===null){A=true}else{if(N===undefined||Y<N){N=ab.wordFontFamily.val}if(O===undefined||Y>O){O=ab.wordFontFamily.val}}}Q.push(ab)}}o(aa,Z);if(ac.wordsFontFamily){r(N,O,A)}else{R=undefined}};var o=function(ac,Z){var ad=Q.length;var aa,Y,X;if(ac===0){ac=1;Z+=1}if(ad>1){Y=(T-(P*(Z/ac)))/(1-(Z/ac));aa=(P-Y)/ac}else{Y=0;aa=T/(ac<0?-ac:ac)}for(var ab=0,W=Q.length;ab<W;ab++){if(Q[ab].wordSize&&ac!==Z){X=Math.round(aa*Q[ab].wordSize.val+Y)}else{X=P}Q[ab].fontSize=(Q[ab].wordSize.val===null)?null:X}};var r=function(X,aa,Z){if(X===undefined&&aa===undefined){R=d3.scale.ordinal().domain([[]]).range([z.color])}else{R=l.getScale(X,aa,5,x.startColor,x.endColor);if(Z){var W=R.domain();var Y=R.range();W.push([]);Y.push(z.color)}}};var s=function(){var X;if(x.layout==="Column"){X=n()}else{if(x.layout==="Row"){X=m()}else{if(x.layout==="Wordle"){X=c()}}}if(X!==undefined){var Y=(new Date()).valueOf();X.width(I).height(G).data(Q).font(z.fontfamily).layout();var W=(new Date()).valueOf()}};var J=function(W){return(W===null||W===undefined)?H:W};x=v.props(null);return E};return e});sap.riv.module({qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.tagcloud",version:"4.0.0"},{qname:"sap.viz.feeds.TagCloud",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tagcloud",type:b.Module.Type.Chart,name:"tagcloud",properties:{layout:{name:"layout",supportedValueType:"List",supportedValues:["Row","Column","Wordle"],defaultValue:"Wordle",description:"Set layout fo tag cloud."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled data loading animation of plot area."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled data updating animation of plot area."}},description:"Settings for animation of plot area."},startColor:{name:"startColor",supportedValueType:"String",defaultValue:"#C2E3A9",description:"Set tagCloud start color."},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"#73C03C",description:"Set tagCloud endcolor."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"Set enabled/disabled tooltip."}},isExported:false,description:"Settings for tooltip related properties."}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"tagCloud"},css:{},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.TagCloudChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TagCloud",version:"4.0.0"}],function Setup(b){var a={id:"viz/tagcloud",name:"IDS_TAGCLOUDCHART",base:"riv/base/single",modules:{legend:{feeds:[],configure:{description:"The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ",properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"tagcloud",orientation:"bottom"}}},main:{modules:{dataLabel:null,plot:{id:"sap.viz.modules.tagcloud",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"]}}}}}},dependencies:{attributes:[{targetModule:"legend",target:"mbcLegendInfo",sourceModule:"main.plot",source:"mbcLegendInfo"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.RadarChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseSingleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Radar",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"viz/radar",name:"IDS_RADARCHART",base:"riv/base/single",modules:{legend:{id:"sap.viz.modules.legend",data:{aa:[2,3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{chartType:"radar",orientation:"left"}}},main:{id:"sap.viz.modules.xycontainer",controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}}},modules:{plot:{id:"sap.viz.modules.radar",configure:{description:"Settings regarding the chart area and plot area as well as general chart options.",propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,orientation:"vertical",position:"outside",automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:"up"}}}}}},dependencies:{attributes:[{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"shapes",sourceModule:"main.plot",source:"shapes"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"removeLabel",sourceModule:"main.plot",type:"startToInit.datalabel"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.load",version:"4.0.0"},[{qname:"sap.viz.manifests.RadarChart",version:"4.0.0"},{qname:"sap.viz.manifests.TagCloudChart",version:"4.0.0"},{qname:"sap.viz.manifests.HeatMapChart",version:"4.0.0"},{qname:"sap.viz.manifests.TreeMapChart",version:"4.0.0"},{qname:"sap.viz.manifests.scatter.BubbleChart",version:"4.0.0"},{qname:"sap.viz.manifests.scatter.ScatterChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiScatterChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiBubbleChart",version:"4.0.0"},{qname:"sap.viz.manifests.ScatterMatrixChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiHorizontalLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualHorizontalLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.pie.DonutChart",version:"4.0.0"},{qname:"sap.viz.manifests.pie.DonutWithDepthChart",version:"4.0.0"},{qname:"sap.viz.manifests.pie.PieChart",version:"4.0.0"},{qname:"sap.viz.manifests.pie.PieWithDepthChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPieChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDonutChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualPercentageStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.VerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BarChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseVerticalChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.BaseHorizontalChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalWaterfallChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.WaterfallChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.StackedWaterfallChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalStackedWaterfallChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualHorizontalLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualLineChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.LineChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.CombinationChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualCombinationChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalCombinationChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.DualHorizontalCombinationChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.VerticalBoxplotChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalBoxplotChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.MekkoChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageMekkoChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalMekkoChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageHorizontalMekkoChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.AreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.HorizontalAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.xy.PercentageHorizontalAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.xyz.Column3DChart",version:"4.0.0"},{qname:"sap.viz.manifests.xyz.Bar3DChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiRadarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPercentageStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPercentageStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualPercentageStackedBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPercentageAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiHorizontalAreaChart",version:"4.0.0"},{qname:"sap.viz.manifests.MultiPercentageHorizontalAreaChart",version:"4.0.0"}],function Setup(){return});sap.riv.module({qname:"sap.viz.mvc.VizAppDelegate",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(b){var c=function(){this._publicMethodsRegistry={};this._application};var a=c.prototype;a._afterLaunched=function(f,e){this._application=f;this.appDidFinishLaunching(f,e);var d=this.rootController();d._setApplication_(this._application);this._application._setRootController(d)};a.appDidFinishLaunching=b.noop;a.rootController=b.unimplemented;a.registerPublicMethod=function(d,e){this._publicMethodsRegistry[d]=e};a._invokePublicMethod=function(e,d){if(this._publicMethodsRegistry.hasOwnProperty(e)){return this._publicMethodsRegistry[e].call(this,d)}};a._currentTheme=function(){return this._theme};a._applyTheme=function(d){if(this._theme!==d){this.rootController().doThemeApplied(d)}};a._updateThemeSetting=function(g,e,d,f){if(this._theme===g){this.rootController().doThemeUpdated(e,d,f)}};a.getProperties=function(){return{}};a.updateProperties=b.noop;a.setDataset=b.noop;a.getDataset=b.noop;a.getPreloadAssets=function(){return[]};a.getSupportedEvents=function(){return[]};a.getSupportedMethods=function(){var d=[];for(var e in this._publicMethodsRegistry){d.push(e)}return d};return c});sap.riv.module({qname:"sap.viz.base.Logger",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a){var e=a.noop;Date.now=Date.now||function(){return +new Date()};var q=0;function w(M){var F,D,I,L,H;if(j[0].length>0){if(M){H=M.getLevel();for(var G=0,E=j[0].length;G<E;G++){F=j[0][G];D=j[1][G];I=j[2][G];L=j[3][G];if(j[1][G]>=H){M.doAppend(F,D,I,L)}}return}var J={};for(var K in s){if(s.hasOwnProperty(K)){J[K]=s[K].getLevel()}}while(j[0].length){F=j[0].shift();D=j[1].shift();I=j[2].shift();L=j[3].shift();for(K in s){if(s.hasOwnProperty(K)){M=s[K];if(D>=J[K]){M.doAppend(F,D,I,L)}}}}return}else{if(++q===3){g()}}}function f(){w();if(!z){setTimeout(function(){f()},100)}}var i=function(){this.threshold=A.LEVEL.INFO;this.layout=new A.DefaultLayout();this.print=typeof console!==undefined?function(D){console.log(D)}:e};i.prototype={doAppend:function(G,D,F,E){this.print(this.layout.format(G,D,F,E))},setLayout:function(D){D.format&&(this.layout=D)},getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D}};var v=function(){};v.prototype.format=function(G,D,F,E){return"["+G+"]["+u(D)+"]["+(F||"main")+"]-"+E};var b=function(D){if(!$){throw"need jQuery"}this.threshold=A.LEVEL.INFO;this.divSl=$(D);this.layout=new t()};b.prototype={getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D},doAppend:function(G,D,F,E){this.divSl.append(this.layout.format(G,D,F,E))}};var t=function(){};t.prototype={getStyle:function(D){var E;if(D===A.LEVEL.ERROR){E="color:red"}else{if(D===A.LEVEL.WARN){E="color:orange"}else{if(D===A.LEVEL.DEBUG){E="color:green"}else{if(D===A.LEVEL.TRACE){E="color:green"}else{if(D===A.LEVEL.INFO){E="color:grey"}else{E="color:yellow"}}}}}return E},format:function(G,D,F,E){return'<div style="'+this.getStyle(D)+'">['+G+"]["+u(D)+"]["+(F||"main")+"]-"+E+"</div>"}};var m=function(){this.array=[]};m.prototype={push:function(D){this.array[this.array.length]=D;return this.array.length},pull:function(){if(this.array.length>0){var E=this.array[0];for(var D=0;D<this.array.length-1;D++){this.array[D]=this.array[D+1]}this.array.length=this.array.length-1;return E}return null},length:function(){return this.array.length}};var c=function(D){this.loggingUrl=D;this.isInProgress=false;this.threshold=A.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new A.JSONLayout();this.httpRequest=null;this.timer=undefined};function p(){var D=this;if(this.isInProgress===true){setTimeout(function(){p.call(D)},100)}else{this.send()}}c.prototype={getLevel:function(){return this.threshold},setLevel:function(D){this.threshold=D},doAppend:function(H,D,G,F){this.loggingEventMap.push([H,D,G,F]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var E=this;if(this.timer===undefined){this.timer=setTimeout(function(){p.call(E)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined){clearTimeout(this.timer)}this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var E=[];var J;for(var F=0,H=this.loggingEventMap.length;F<H&&F<this.bufferSize;F++){J=this.loggingEventMap.shift();E.push(this.layout.format(J[0],J[1],J[2],J[3]))}var G=this.layout.getHeader();G+=E.join(this.layout.getSeparator());G+=this.layout.getFooter();var D=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){D.onReadyStateChanged.call(D)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",G.length);this.httpRequest.send(G);D=this;try{setTimeout(function(){D.httpRequest.onreadystatechange=function(){};D.httpRequest.abort();D.isInProgress=false;if(D.loggingEventMap.length>0){D.send()}},this.timeout)}catch(I){}}},onReadyStateChanged:function(){var D=this.httpRequest;if(this.httpRequest.readyState!==4){return}var E=((typeof D.status==="undefined")||D.status===0||(D.status>=200&&D.status<300));if(E){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var D=false;try{if(window.XMLHttpRequest){D=new XMLHttpRequest();if(D.overrideMimeType){D.overrideMimeType(this.layout.getContentType())}}else{if(window.ActiveXObject){try{D=new ActiveXObject("Msxml2.XMLHTTP")}catch(E){D=new ActiveXObject("Microsoft.XMLHTTP")}}}}catch(E){D=false}if(!D){throw"browser don't support AJAX"}return D}};var B=function(){};B.prototype={format:function(H,D,G,E){var F='{\n "LoggingEvent": {\n';F+='\t"category": "'+(G||"main")+'",\n';F+='\t"level": "'+u(D)+'",\n';F+='\t"message": "'+E+'",\n';F+='\t"timestamp": "'+H+'"\n';F+="}\n}";return F},getContentType:function(){return"text/json"},getHeader:function(){var D="unknown";try{D=navigator.userAgent}catch(E){D="unknown"}var F="unknown";try{F=location.href}catch(E){F="unknown"}return'{"ClientInfo" : {\n\t"useragent": "'+D+'",\n\t"referer": "'+F+'"\n},\n"VizLogger": [\n'},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var r=function(){};r.prototype={format:function(H,D,F,E){var G='<vizLogger:event category="';G+=(F||"main")+'" level="';G+=u(D)+'" timestamp="';G+=H+'">\n';G+="\t<vizLogger:message><![CDATA["+this.escapeCdata(E)+"]]></vizLogger:message>\n";G+="</vizLogger:event>";return G},getContentType:function(){return"text/xml"},getHeader:function(){var D="unknown";try{D=navigator.userAgent}catch(E){D="unknown"}var F="unknown";try{F=location.href}catch(E){F="unknown"}return'<vizLogger:eventSet useragent="'+D+'" referer="'+F.replace(/&/g,"&amp;")+'">\n'},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(D){return D.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function u(D){switch(D){case A.LEVEL.TRACE:return"TRACE";case A.LEVEL.DEBUG:return"DEBUG";case A.LEVEL.INFO:return"INFO";case A.LEVEL.WARN:return"WARN";case A.LEVEL.ERROR:return"ERROR"}}var k=false;var z=false;var j=[[],[],[],[]];var C=2000;var x=function(F,E,D){if(j[0].length===C){w()}j[0].push(Date.now());j[1].push(F);j[2].push(E);j[3].push(D.toString())};var o=function(F,E,D){d();x(F,E,D)};var h=e;var g=function(){z=true;h=o};var d=function(){z=false;h=x;setTimeout(function(){f()},100)};var n=0;var l=function(){return n++};var s={};var A={LEVEL:{TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE},isEnabled:function(){return k},enable:function(){h=x;k=true;setTimeout(function(){f()},100)},disable:function(){w();h=e;k=false},toggleEnable:function(){if(k){this.disable()}else{this.enable()}},addAppender:function(){var F=l();var E,D;if(arguments.length===1){E=F;D=arguments[0]}else{if(arguments.length>=2){E=arguments[0];D=arguments[1]}}if(typeof D==="object"&&D.doAppend){if(s[E]!==undefined){return}w();s[E]=D;return E}},setAppenders:function(G){s=[];for(var F=0,E=G.length;F<E;F++){var D=G[F];if(D.appenderKey){this.addAppender(D.appenderKey,D.appender)}else{this.addAppender(D.appender)}}},removeAppender:function(D){if(s[D]===undefined){return false}w(s[D]);return(delete s[D])},getAppender:function(D){return s[D]},ConsoleAppender:i,DivAppender:b,AjaxAppender:c,DefaultLayout:v,HTMLLayout:t,XMLLayout:r,JSONLayout:B,trace:function(E,D){h(A.LEVEL.TRACE,D,E)},debug:function(E,D){h(A.LEVEL.DEBUG,D,E)},info:function(E,D){h(A.LEVEL.INFO,D,E)},warn:function(E,D){h(A.LEVEL.WARN,D,E)},error:function(E,D){h(A.LEVEL.ERROR,D,E)}};s["[default]"]=new A.ConsoleAppender();return A});sap.riv.module({qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(c){var b=function(e,f){this._lhm=e;this._reverse=f||false;this._count=e._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=this._hasMoreInReverse}else{this.hasMore=this._hasMoreInOrder}};b.prototype._hasMoreInOrder=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}};b.prototype._hasMoreInReverse=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}};b.prototype.hasMore=c.noop;b.prototype.next=function(){var e={key:this._cursor.key,value:this._cursor.value};return e};b.prototype.nextValue=function(){return this._cursor.value};b.prototype.nextKey=function(){return this._cursor.key};b.prototype.reset=function(){this._count=this._lhm._length};var d=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var a=d.prototype;a.add=function(g,i){var e=this._map;var f=null;var h={prev:null,key:g,value:i,next:null};if(!this._length){this._head=this._last=h}if(!e.hasOwnProperty(g)){e[g]=h;this._length++;h.prev=this._last;this._last.next=h;this._last=h;this._last.next=this._head;this._head.prev=this._last}else{f=e[g].value;e[g].value=i}return f};a.addAll=function(e){var f=e.getIterator();var g;while(f.hasMore()){g=f.next();this.add(g.key,g.value)}};a.insertBefore=function(f,j,h){var e=this._map;if(!e.hasOwnProperty(f)&&e.hasOwnProperty(h)){var i={prev:null,key:f,value:j,next:null};var g=e[h];if(g!==this._head){i.prev=g.prev;g.prev.next=i}else{this._head=i;i.prev=this._last}i.next=g;g.prev=i;e[f]=i;this._length++;return j}};a.insertAfter=function(f,j,i){var e=this._map;if(!e.hasOwnProperty(f)&&e.hasOwnProperty(i)){var h={prev:null,key:f,value:j,next:null};var g=e[i];if(g!==this._last){h.next=g.next;g.next.prev=h}else{this._last=h;this._last.next=this._head}g.next=h;h.prev=g;e[f]=h;this._length++;return j}};a.replace=function(h,f,g){var e=this._map;if(!e.hasOwnProperty(f)&&e.hasOwnProperty(h)){var i={prev:null,key:f,value:g,next:null};var j=e[h];i.prev=j.prev;i.next=j.next;j.prev.next=i;j.next.prev=i;if(this._head===j){this._head=i}if(this._last===j){this._last=i}e[f]=i;delete e[h];return j.value}};a.get=function(f){var e=this._map;if(e.hasOwnProperty(f)){return e[f].value}return null};a.getFirstInsert=function(){return this._head?this._head.value:null};a.getLastInsert=function(){return this._last?this._last.value:null};a.moveToLast=function(f){var e=this._map;if(e.hasOwnProperty(f)&&this._last.key!==f){var g=e[f];g.prev.next=g.next;g.next.prev=g.prev;g.prev=this._last;g.next=this._last.next;this._last.next=g;this._last=g;this._head=g.next;this._head.prev=g}};a.moveToFirst=function(f){var e=this._map;if(e.hasOwnProperty(f)&&this._head.key!==f){var g=e[f];g.prev.next=g.next;g.next.prev=g.prev;g.next=this._head;g.prev=this._head.prev;this._head.prev=g;this._head=g;this._last=g.prev;this._last.next=g}};a.has=function(f){var e=this._map;return e.hasOwnProperty(f)};a.remove=function(g){var e=this._map;var f;if(e.hasOwnProperty(g)){var h=e[g];f=h.value;if(h===this._head){this._head=h.next}else{if(h===this._last){this._last=h.prev}else{h.prev.next=h.next;h.next.prev=h.prev}}delete e[g];this._length--;if(this._length===0){this._head=this._last=undefined}return f}};a.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};a.isEmpty=function(){return this._length==0};a.length=function(){return this._length};a.getIterator=function(e){return new b(this,e)};return d});sap.riv.module({qname:"sap.viz.base.Observable",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var c=function(g){this._events={};var f=this.constructor;while(f){var e=f.prototype.events,d;if(e){d=e.length;while(d--){this.addEvents(e[d])}}f=f.superclazz}if(g){if(g.listeners){this.addListeners(g.listeners);delete g.listeners}}};var b=c.prototype;b.addEvents=function(){var f=this._events,e=arguments,d=arguments.length;while(d--){if(typeof e[d]==="string"){f[e[d]]=f[e[d]]||[]}}};b.getSupportedEvents=function(){var d=[];for(var f in this._events){d.push(f)}return d};b.addListeners=function(j){var f;if(a.isArray(j)){f=j}else{f=[j]}var d=f.length,e,h;var i=this._events;while(d--){e=f[d];h=e.eventName;if(i.hasOwnProperty(h)){var g=i[h];if(!this.isListening(h,e.listener,e.scope)){g[g.length]={fn:e.listener,scp:e.scope,optArgs:e.optionalArgs}}}}return this};b.findListener=function(e,i,h){var j=this._events;if(!j.hasOwnProperty(e)){return -1}var g=j[e],d=g.length,f;while(d--){f=g[d];if(h){if(f.fn==i&&f.scp==h){return d}}else{if(f.fn==i){return d}}}return -1};b.isListening=function(d,f,e){return this.findListener(d,f,e)>-1};b.removeListener=function(f,i,h){var j=this._events;if(j.hasOwnProperty(f)){var g=j[f];var e=g.length,d;while(e--){d=this.findListener(f,i,h);if(d>-1){g.splice(d,1);e=g.length}}}return this};b.removeAllListeners=function(d){var e=this._events;if(e.hasOwnProperty(d)){e[d]=[]}return this};b.hasListener=function(d){return this._events[d]&&this._events[d].length>0};b.purgeListeners=function(){var f=this._events;for(var d in f){f[d]=[]}};b.fireEvent=function(f){var j=Array.prototype.slice.call(arguments,1);var k=this._events;if(k.hasOwnProperty(f)){var g=k[f],e;for(var h=0,d=g.length;h<d;h++){e=g[h];if(e.optArgs){j.push(e.optArgs)}e.fn.apply(e.scp||this||window,j)}}};b.on=b.addListeners;b.un=b.removeListener;return c});sap.riv.module({qname:"sap.viz.mvc.UIComponent",version:"4.0.0"},[{qname:"sap.viz.base.Observable",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(h,c,e,i){var f=jQuery;if(!f){i.error("Cannot find jQuery")}var d={None:0,FlexibleLeftMargin:1<<0,FlexibleWidth:1<<1,FlexibleRightMargin:1<<2,FlexibleTopMargin:1<<3,FlexibleHeight:1<<4,FlexibleBottomMargin:1<<5};var a=0;var b=function(){return a++};var g=c.derive(h,{events:["widthChanged","heightChanged","sizeChanged","positionChanged","anchorChanged","beforeShow","afterShow","beforeHide","afterHide","focusin","focusout","focus","blur","mousedown","mouseup","mouseenter","mouseleave","mousemove","click","dblclick","touchstart","touchmove","touchend","touchcancel"],constructor:function(j){j=j||{};var k=b();this._id=j.id?j.id+"_"+k:k;this._attached=false;this._container=undefined;this._superComp=undefined;this._subComps=new e();this._hidden=false;this._clipToBound=true;this._parentVisible=false;this._printable=true;this._autoresizeSubComponents=true;this._autoresizingMask=d.None;this._gestureDetectors=[];this._bounds={x:0,y:0,width:1,height:1};this._position={x:0,y:0};this._anchorPoint={x:0.5,y:0.5};this._init_(j)},_init_:function(j){this._container=f(document.createElement("div")).attr("id",this._id).css("position","absolute").css({"font-size":"10px","box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"}).data("selfComp",this);if(j.clipToBound===false){this._container.css("overflow","visible");this._clipToBound=false}else{this._container.css("overflow","hidden")}if(j.hidden===true){this._container.css("display","none");this._hidden=true}if(j.autoSizingMask!=undefined){this._autoresizingMask=j.autoSizingMask}if(j.anchor){this._anchorPoint.x=j.anchor.x;this._anchorPoint.y=j.anchor.y;delete j.anchor}if(j.position){this._position.x=j.position.x;this._position.y=j.position.y;this._container.css("left",this._position.x-this._anchorPoint.x*this._bounds.width);this._container.css("top",this._position.y-this._anchorPoint.y*this._bounds.height);delete j.position}if(j.size){this._bounds.width=j.size.w;this._bounds.height=j.size.h;this._container.width(this._bounds.width);this._container.height(this._bounds.height);delete j.size}this._registerMandatoryHandler()},_registerMandatoryHandler:function(){this.on([{eventName:"sizeChanged",listener:this._updateContainerSize,scope:this},{eventName:"heightChanged",listener:this._updateContainerHeight,scope:this},{eventName:"widthChanged",listener:this._updateContainerWidth,scope:this},{eventName:"positionChanged",listener:this._updateContainerPos,scope:this},{eventName:"anchorChanged",listener:this._updateContainerAnchor,scope:this}])},_updateContainerSize:function(k,j){this._container.width(j.width);this._container.height(j.height);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css("left",this._position.x-this._anchorPoint.x*j.width);this._container.css("top",this._position.y-this._anchorPoint.y*j.height)}this.doContentResize(k,j);this._layout(k,j)},_updateContainerWidth:function(k,j){this._container.width(j);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css("left",this._position.x-this._anchorPoint.x*j)}var m={height:this._bounds.height,width:k},l={height:this._bounds.height,width:j};this.doContentResize(m,l);this._layout(m,l)},_updateContainerHeight:function(m,k){this._container.height(k);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css("top",this._position.y-this._anchorPoint.y*k)}var l={height:m,width:this._bounds.width},j={height:k,width:this._bounds.width};this.doContentResize(l,j);this._layout(l,j)},_updateContainerPos:function(k,j){this._container.css("left",j.x-this._anchorPoint.x*this._bounds.width);this._container.css("top",j.y-this._anchorPoint.y*this._bounds.height)},_updateContainerAnchor:function(j,k){this._container.css("left",this._position.x-k.x*this._bounds.width);this._container.css("top",this._position.y-k.y*this._bounds.height)},_markAttached_:function(){this._attached=true;var j=this._subComps.getIterator();while(j.hasMore()){j.next().value._markAttached_()}this._handleSubCompShow(this)},_markDetached_:function(){this._attached=false;var j=this._subComps.getIterator();while(j.hasMore()){j.next().value._markDetached_()}},id:function(){return this._id},markHide:function(){if(this._hidden===false){if(this._attached&&this._parentVisible){this.doBeforeHide();this.fireEvent("beforeHide")}this._hidden=true;this._container.css("display","none");if(this._attached&&this._parentVisible){this.doAfterHide();this.fireEvent("afterHide");var j=this._subComps.getIterator();while(j.hasMore()){this._handleSubCompHide(j.next().value)}}}return this},_handleSubCompHide:function(k){if(k._parentVisible&&!k._hidden){k.doBeforeHide();k.fireEvent("beforeHide");k.doAfterHide();k.fireEvent("afterHide")}k._parentVisible=false;var j=k._subComps.getIterator();while(j.hasMore()){k._handleSubCompHide(j.next().value)}},markShow:function(){if(this._hidden===true){if(this._attached&&this._parentVisible){this.doBeforeShow();this.fireEvent("beforeShow")}this._hidden=false;this._container.css("display","block");if(this._attached&&this._parentVisible){this.doAfterShow();this.fireEvent("afterShow");var j=this._subComps.getIterator();while(j.hasMore()){this._handleSubCompShow(j.next().value)}}}return this},_handleSubCompShow:function(k){var l=k.superComponent();k._parentVisible=!l._hidden&&l._parentVisible;if(k._parentVisible&&!k._hidden){k.doBeforeShow();k.fireEvent("beforeShow");k.doAfterShow();k.fireEvent("afterShow")}var j=k._subComps.getIterator();while(j.hasMore()){k._handleSubCompShow(j.next().value)}},clipToBound:function(j){if(j!==undefined){if(this._clipToBound!==j){this._clipToBound=j;if(this._clipToBound){this._container.css("overflow","hidden")}else{this._container.css("overflow","visible")}}return this}else{return this._clipToBound}},visibility:function(){return !this._hidden&&this._attached&&this._parentVisible},printable:function(j){if(j!==undefined){if(this._printable!==j){this._printable=j}return this}else{return this._printable}},autoresizeSubComponents:function(j){if(j!==undefined){if(this._autoresizeSubComponents!==j){this._autoresizeSubComponents=j}return this}else{return this._autoresizeSubComponents}},autoresizingMask:function(j){if(j!==undefined){if(this._autoresizingMask!==j){this._autoresizingMask=j}return this}else{return this._autoresizingMask}},bounds:function(m){if(m){var k=this._bounds,j=m;this._bounds.x=j.x;this._bounds.y=j.y;if(k.width!==j.width||k.height!==j.height){var n={width:k.width,height:k.height};var l={width:j.width,height:j.height};this._bounds.width=j.width;this._bounds.height=j.height;this.fireEvent("sizeChanged",n,l)}return this}else{return c.extend({},this._bounds)}},pagePosition:function(){var j=this._container.offset();return{x:j.left,y:j.top}},position:function(j){if(j){var p=this._position,k=j;if(p.x!==k.x||p.y!==k.y){var l={x:p.x,y:p.y};var m={x:k.x,y:k.y};p.x=k.x;p.y=k.y;this.fireEvent("positionChanged",l,m)}return this}else{return c.extend({},this._position)}},size:function(j){if(j){var k={width:this._bounds.width,height:this._bounds.height};if(k.width!==j.width||k.height!==j.height){this._bounds.width=j.width;this._bounds.height=j.height;this.fireEvent("sizeChanged",k,j)}return this}else{return{width:this._bounds.width,height:this._bounds.height}}},width:function(k){if(k){var j=this._bounds.width;if(j!==k){this._bounds.width=k;this.fireEvent("widthChanged",j,k)}return this}else{return this._bounds.width}},height:function(j){if(j){var k=this._bounds.height;if(k!==j){this._bounds.height=j;this.fireEvent("heightChanged",k,j)}return this}else{return this._bounds.height}},anchorPoint:function(l){if(l){var j=this._anchorPoint,k=l;if(j.x!==k.x||j.y!==k.y){var m={x:j.x,y:j.y};var p={x:k.x,y:k.y};j.x=k.x;j.y=k.y;this.fireEvent("anchorChanged",m,p)}return this}else{return c.extend({},this._anchorPoint)}},frame:function(t){if(t){var j=this._bounds,q=this._position;var u=t.x+t.width*this._anchorPoint.x;var s=t.y+t.height*this._anchorPoint.y;var m=false,k=undefined,l=undefined,r=false,p={width:j.width,height:j.height};ns={width:t.width,height:t.height};if(j.width!==t.width||j.height!==t.height){j.width=t.width;j.height=t.height;r=true}if(q.x!==u||q.y!==s){k={x:q.x,y:q.y};l={x:u,y:s};q.x=u;q.y=s;m=true}if(m){this.fireEvent("positionChanged",k,l)}if(r||(p.width===5&&p.height===5)){this.fireEvent("sizeChanged",p,ns)}return this}else{return{x:this._position.x-this._anchorPoint.x*this._bounds.width,y:this._position.y-this._anchorPoint.y*this._bounds.height,width:this._bounds.width,height:this._bounds.height}}},superComponent:function(){return this._superComp},subComponents:function(){return this._subComps},addSubComponent:function(j){if(j){if(j._superComp===undefined){j._superComp=this;this._subComps.add(j.id(),j);this._container.append(j._container);if(this._attached){j._markAttached_()}return this}else{throw new Error("The component already has a parent component")}}},detachFromSuperComponent:function(){if(this._superComp){if(this._superComp._attached){this._superComp._handleSubCompHide(this);this._markDetached_()}this._superComp._subComps.remove(this.id());this._container.detach();this._superComp=undefined}},removeFromSuperComponent:function(){if(this._superComp){this._superComp._subComps.remove(this.id());this._container.remove();if(this._superComp._attached){this._markDetached_()}this._superComp=undefined}},insertBeforeSubComponent:function(k,m){if(k&&m){if(k._superComp===undefined){var l=k.id();var j=m.id();if(this._subComps.has(j)&&l!==j){k._superComp=this;this._subComps.insertBefore(l,k,j);k._container.before(m._container);if(this._attached){k._markAttached_()}}}else{throw new Error("The component already has a parent component")}}},insertAfterSubComponent:function(l,j){if(l&&j){if(l._superComp===undefined){var m=l.id();var k=j.id();if(this._subComps.has(k)&&m!==k){l._superComp=this;this._subComps.insertAfter(m,l,k);l._container.after(j._container);if(this._attached){l._markAttached_()}}}else{throw new Error("The component already has a parent component")}}},bringToFront:function(j){if(j&&this._subComps.has(j.id())&&this._subComps.getLastInsert().id()!==j.id()){this._subComps.moveToLast(j.id());j._container.detach();this._container.append(j._container)}},sendToBack:function(j){if(j&&this._subComps.has(j.id())&&this._subComps.getFirstInsert().id()!==j.id()){this._subComps.moveToFirst(j.id());j._container.detach();this._container.prepend(j._container)}},convertPointFromSuper:function(j){var k=this.frame();return{x:j.x-k.x,y:j.y-k.y}},convertPointToSuper:function(j){var k=this.frame();return{x:j.x+k.x,y:j.y+k.y}},convertPointFromGlobal:function(m){var l=[this];var k=this;var j=m;while(k._superComp){l.push(k._superComp);k=k._superComp}while(l.length){k=l.pop();j=k.convertPointFromSuper(j)}return j},convertPointToGlobal:function(k){var l=this;var j=k;while(l){j=l.convertPointToSuper(j);l=l._superComp}return j},convertPointFromComp:function(k,j){return this.convertPointFromGlobal(j.convertPointToGlobal(k))},convertPointToComp:function(k,j){return j.convertPointFromGlobal(this.convertPointToGlobal(k))},_resizeSubComp:function(s,n,B){var p=s.frame();var q=p.x,o=p.y,w=p.width,u=p.height;var C=q,z=n.width-q-w,v=o,j=n.height-o-u;var D=B.width-n.width,A=B.height-n.height;var l=s._autoresizingMask;var m=d.FlexibleLeftMargin|d.FlexibleWidth|d.FlexibleRightMargin;var k=d.FlexibleTopMargin|d.FlexibleHeight|d.FlexibleBottomMargin;switch(l&m){case d.None:if(C!==0){q+=D*C/(C+z)}break;case d.FlexibleLeftMargin:q+=D;break;case d.FlexibleLeftMargin|d.FlexibleRightMargin:case d.FlexibleRightMargin:break;case d.FlexibleWidth:w+=D;break;case d.FlexibleLeftMargin|d.FlexibleWidth:if(w!==0){q+=D*C/(C+w);w+=D*w/(C+w)}break;case d.FlexibleRightMargin|d.FlexibleWidth:if(w!==0){w+=D*w/(z+w)}break;case d.FlexibleLeftMargin|d.FlexibleWidth|d.FlexibleRightMargin:if(n.width!==0){var t=D/n.width;q+=q*t;w+=w*t}break}switch(l&k){case d.None:if(v!==0){o+=A*v/(v+j)}break;case d.FlexibleTopMargin:o+=A;break;case d.FlexibleTopMargin|d.FlexibleBottomMargin:case d.FlexibleBottomMargin:break;case d.FlexibleHeight:u+=A;break;case d.FlexibleTopMargin|d.FlexibleHeight:if(u!==0){o+=A*v/(v+u);u+=A*u/(v+u)}break;case d.FlexibleBottomMargin|d.FlexibleHeight:if(u!=0){u+=A*u/(j+u)}break;case d.FlexibleTopMargin|d.FlexibleHeight|d.FlexibleBottomMargin:if(n.height){var t=A/n.height;o+=o*t;u+=u*t}break}return{x:q,y:o,height:u,width:w}},_layout:function(m,k){if(this._autoresizeSubComponents){var j=this._subComps.getIterator();var l,n;while(j.hasMore()){l=j.next().value;n=this._resizeSubComp(l,m,k);l.frame(n)}}else{if(this.doLayout!=i.noop&&this.doLayout!==undefined){this.doLayout()}}},_fireEvent_:function(j){this.fireEvent(j.type(),j);if(this._superComp&&j.shouldBubble()){j._setCurrentTarget_(this._superComp);this._superComp._fireEvent_(j)}},_fireMouseEvent_:function(j){this.fireEvent(j.type(),j);if(this._superComp&&j.shouldBubble()){j._setCurrentTarget_(this._superComp);j._setCurrentLocalXY_({x:j.currentLocalXY().x+this._position.x-this._anchorPoint.x*this._bounds.width,y:j.currentLocalXY().y+this._position.y-this._anchorPoint.y*this._bounds.height});this._superComp._fireMouseEvent_(j)}},_fireTouchEvent_:function(j){this.fireEvent(j.type(),j);if(this._superComp&&j.shouldBubble()){j._setCurrentTarget_(this._superComp);this._superComp._fireTouchEvent_(j)}},purgeListeners:function(){this.callParent("purgeListeners");this._registerMandatoryHandler()},removeAllListeners:function(j){this.callParent("removeAllListeners",j);switch(j){case"sizeChanged":this.on({eventName:"sizeChanged",listener:this._updateContainerSize,scope:this});break;case"heightChanged":this.on({eventName:"heightChanged",listener:this._updateContainerHeight,scope:this});break;case"widthChanged":this.on({eventName:"widthChanged",listener:this._updateContainerWidth,scope:this});break;case"positionChanged":this.on({eventName:"positionChanged",listener:this._updateContainerPos,scope:this});break;case"anchorChanged":this.on({eventName:"anchorChanged",listener:this._updateContainerAnchor,scope:this});break}},addGestureDetector:function(j){if(j!==undefined){j._setOwnerComp_(this);this._gestureDetectors.push(j)}},removeGestureDetector:function(l){for(var k=0,j=this._gestureDetectors.length;k<j;k++){if(this._gestureDetectors[k]===l){this._gestureDetectors.splice(k,1);l._setOwnerComp_(undefined);j--}}},hitTest:function(j){var o=[{comp:this,pointInLocal:j,subCompsItr:this._subComps.getIterator(true)}];var l,n,k,p;while(o.length){l=o[o.length-1];k=l.comp;n=l.pointInLocal;p=l.subCompsItr;if(k.visibility()){if(p.hasMore()){var m=p.next().value;o.push({comp:m,pointInLocal:m.convertPointFromSuper(n),subCompsItr:m._subComps.getIterator(true)});continue}else{if(k.containsPoint(n)){return k}}o.pop()}else{o.pop()}}},containsPoint:function(k){var j=this.bounds();return k.x>=j.x&&k.x<=(j.x+j.width)&&k.y>=j.y&&k.y<=(j.y+j.height)},printTo:function(j){j.clearRect(0,0,this._bounds.width,this._bounds.height);this.doPrint(j)},doLayout:i.noop,doContentResize:i.noop,doPrint:i.noop,doBeforeHide:i.noop,doAfterHide:i.noop,doBeforeShow:i.noop,doAfterShow:i.noop});g.Autosizing=d;return g});sap.riv.module({qname:"sap.viz.base.Math",version:"4.0.0"},[{qname:"sap.viz.base.UADetector",version:"4.0.0"}],function Setup(a){var b={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(a.isSafari()||(a.isIE()&&parseFloat(a.version())<9)){return function(c){return c<0?-c:c}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return b});sap.riv.module({qname:"sap.viz.mvc.Event",version:"4.0.0"},[],function Setup(){var a=function(c,e,d){this._type=c;this._target=this._currentTarget=e;this._canBubbling=d!==undefined?d:true;this._timestamp=+new Date};var b=a.prototype;b._setCurrentTarget_=function(c){this._currentTarget=c};b.type=function(){return this._type};b.timestamp=function(){return this._timestamp};b.target=function(){return this._target};b.currentTarget=function(){return this._currentTarget};b.isInBubbling=function(){return this._target.id()!=this._currentTarget.id()};b.shouldBubble=function(){return this._canBubbling};b.stopPropagation=function(){this._canBubbling=false};return a});sap.riv.module({qname:"sap.viz.mvc.TouchEvent",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.mvc.Event",version:"4.0.0"}],function Setup(l,e,m){var f=jQuery;if(!f){l.error("Cannot find jQuery")}var b=function(o,p,n,q){this._id=o;this._target=p;this._localXY=n;this._pageXY=q};var i=b.prototype;i.identifier=function(){return this._id};i.target=function(){return this._target};i.localXY=function(){return{x:this._localXY.x,y:this._localXY.y}};i.pageXY=function(){return{x:this._pageXY.x,y:this._pageXY.y}};var c=function(n,o){this.tA=n,this.tM=o};var j=c.prototype;j.length=function(){return this.tA.length};j.item=function(n){if(n>=0&&(n<this.tA.length)){return this.tA[n]}};j.identifiedTouch=function(n){if(n){return this.tM[n]}};var a=e.derive(m,{constructor:function(o,s,q,r,p,n){this._relatedTarget=undefined;this._touches=r;this._targetTouches=p;this._changedTouches=n},touches:function(){return this._touches},targetTouches:function(){return this._targetTouches},changedTouches:function(){return this._changedTouches}});var d=function(r){var o=[],s={};for(var q=0,p,t,n=r.length;q<n;q++){p=k(r.item(q));if(p){t=g(r.item(q),p);o.push(t);s[t.identifier()]=t}}return new c(o,s)};var h=function(r){var o=[],s={};for(var q=0,p,t,n=r.length;q<n;q++){p=k(r[q]);if(p){t=g(r[q],p);o.push(t);s[t.identifier()]=t}}return new c(o,s)};var k=function(o){var n=f(o.target);while(n.length&&!n.data("selfComp")){n=n.parent()}return n.data("selfComp")};var g=function(q,o){var p=o.pagePosition();var n={x:q.pageX-p.x,y:q.pageY-p.y};return new b(q.identifier,o,n,{x:q.pageX,y:q.pageY})};a.buildFrom3TouchArray=function(u,s,q,v,t,r){var o=h(q);var n=h(t);var p=h(v);return new a(u,s,r,o,n,p)};a.buildFromDomTouchEvent=function(q,t,n,s){var p=d(n.touches);var r=d(n.targetTouches);var o=d(n.changedTouches);return new a(q,t,s,p,r,o)};return a});sap.riv.module({qname:"sap.viz.mvc.MouseEvent",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.mvc.Event",version:"4.0.0"}],function Setup(c,a){var b=c.derive(a,{constructor:function(e,g,f,d,h){this._relatedTarget=undefined;this._currentLocalXY=this._targetLocalXY=d;this._pageXY=h},_setCurrentLocalXY_:function(d){this._currentLocalXY=d},_setRelatedTarget_:function(d){this._relatedTarget=d},targetLocalXY:function(){return{x:this._targetLocalXY.x,y:this._targetLocalXY.y}},currentLocalXY:function(){return{x:this._currentLocalXY.x,y:this._currentLocalXY.y}},pageXY:function(){return{x:this._pageXY.x,y:this._pageXY.y}}});return b});sap.riv.module({qname:"sap.viz.base.utils.DomWatcher",version:"4.0.0"},[{qname:"sap.viz.base.UADetector",version:"4.0.0"},{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.0"}],function Setup(k,s){var j=0;var i=1;var f=function(){return j++};var m=function(){return i++};var p=function(v){for(var w in v){if(v.hasOwnProperty(w)){return false}}return true};var n=function(w,x){var v=null;if(window.getComputedStyle){v=window.getComputedStyle(w,null)[x]}else{if(w.currentStyle){v=w.currentStyle[x]}}return v};var q=function(v,w){if(!this._data){this._data={}}if(arguments.length===2){this._data[v]=w}else{return this._data[v]}};var o=new s();var r=function(x){var v;var A=x.srcElement||x.target;var w=q.call(A,"domId");if(!w){return}var z=o.get(w).getIterator();while(z.hasMore()){v=z.nextValue();v.checkChange()}};var a=function(z){var v=u.get(z);var x=v.domElem;var w=q.call(x,"domId");if(!w){w=m();q.call(x,"domId",w);o.add(w,new s())}o.get(w).add(v.id,v);if(!q.call(x,"eventHandler")){if(typeof(x.onpropertychange)=="object"){x.attachEvent("onpropertychange",r)}else{if(k.isFirefox()&&parseFloat(k.version())>3.6){x.addEventListener("DOMAttrModified",r)}}q.call(x,"eventHandler",r)}};var b=function(v){var z=v.domElem;var x=q.call(z,"domId");if(!x){return}if(o.get(x).has(v.id)){o.get(x).remove(v.id)}if(o.get(x).isEmpty()){var w=q.call(z,"eventHandler");if(typeof(z.onpropertychange)=="object"){z.detachEvent("onpropertychange",w)}else{if(k.isFirefox()&&parseFloat(k.version())>3.6){z.removeEventListener("DOMAttrModified",w)}}q.call(z,"eventHandler",null)}};var e=undefined;var u=new s();var g=function(){var w=u.getIterator();var v;while(w.hasMore()){v=w.nextValue();v.checkChange()}};var h=function(v){if(!e){e=setInterval(g,100)}if(!u.has(v.id)){u.add(v.id,v)}};var t=function(v){if(u.has(v)){u.remove(v)}if(u.isEmpty()){clearInterval(e);e=undefined}};var l=function(v){var w=v.domElem;if(typeof(w.onpropertychange)=="object"||(k.isFirefox()&&parseFloat(k.version())>3.6)){a(v.id)}else{h(v)}};var c=function(D){var w=u.get(D);if(!w){return}var C=w.domElem;if(!w.callback){return}var B=false;var z=0;var A=[];for(var v=w.cssProps.length;z<v;z++){var x=n(C,w.cssProps[z]);if(w.lastestVals[z]!=x){w.lastestVals[z]=x;B=true;A.push(w.cssProps[z])}}if(B){w.callback(A)}};var d={watch:function(C,A,B){var D=f();var x=function(){c(D)};var w={id:D,domElem:C,cssProps:A.split(","),lastestVals:[A.split(",").length],callback:B,checkChange:x};for(var z=0,v=w.cssProps.length;z<v;z++){w.lastestVals[z]=n(C,w.cssProps[z])}if(!u.has(w.id)){u.add(w.id,w)}l(w);return D},unwatch:function(z){var v=u.get(z);var x=v.domElem;try{if(typeof(x.onpropertychange)=="object"||(k.isFirefox()&&parseFloat(k.version())>3.6)){b(v)}else{t(v.id)}}catch(w){}}};return(d)});sap.riv.module({qname:"sap.viz.mvc.GestureDetector",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(c){var b={Possible:0,Began:1,Changed:2,Recognized:3,Ended:3,Cancelled:4,Failed:5};var d=function(){this._grOwnerComp;this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grState=b.Possible;this._grActions=[];this._grCancelTouches=true};var a=d.prototype;a._setOwnerComp_=function(e){this._grOwnerComp=e};a.attachedComponent=function(){return this._grOwnerComp};a.addGestureAction=function(h){var g=false;for(var f=0,e=this._grActions.length;f<e;f++){if(this._grActions[f]===h){g=true;break}}if(!g){this._grActions.push(h)}return !g};a.removeGestureAction=function(g){var h=false;for(var f=0,e=this._grActions.length;f<e;f++){if(this._grActions[f]===g){h=true;this._grActions.splice(f,1);break}}return h};a.globalLocOfGesture=function(){var h=this.state();if(this._grEnabled&&(h===b.Began||h===b.Changed||h===b.Cancelled||h===b.Ended||h===b.Recognized)){var g=0;var f=this._grTouchTracker,i;var e=y=0;for(var j in f){i=f[j].globalXY;e+=i.x;y+=i.y;g++}if(g){return{x:e/g,y:y/g}}}else{return}};a.involvedTouchePoints=function(){var e=[];var g=this.state();if(this._grEnabled&&(g===b.Began||g===b.Cancelled||g===b.Ended||g===b.Recognized)){var f=this._grTouchTracker;for(var h in f){e.push(h)}}return e};a.globalLocOfTouchPoints=function(){var g=0;var f=this._grTouchTracker,h;var e=y=0;for(var i in f){h=f[i].globalXY;e+=h.x;y+=h.y;g++}if(g){return{x:e/g,y:y/g}}};a.totalTouches=function(){return this._grTouchTotal};a.cancelTouches=function(e){if(e!==undefined){this._grCancelTouches=e;return this}else{return this._grCancelTouches}};a.enable=function(e){if(e!==undefined){this._grEnabled=e;if(!e){if(this._grState===b.Began||this._grState===b.Cancelled){this.state(b.Cancelled)}else{this.state(b.Failed)}}}else{return this._grEnabled}};a.touchBegin=function(f){var g=f.changedTouches;var l=this._grTouchTracker;var k=this._grOwnerComp;var m=k.pagePosition();for(var j=0,h,e=g.length;j<e;j++){h=g.item(j);l[h.identifier]={globalXY:k.convertPointToGlobal({x:h.pageX-m.x,y:h.pageY-m.y})};this._grTouchTotal++}if(this._grEnabled&&(this._grState===b.Possible||this._grState===b.Began||this._grState===b.Changed)){this.doTouchBegin(f)}};a.touchMove=function(g){if(this._grEnabled&&(this._grState===b.Possible||this._grState===b.Began||this._grState===b.Changed)){var f=g.changedTouches;var k=this._grOwnerComp;var m=k.pagePosition();var l=this._grTouchTracker;for(var j=0,h,e=f.length;j<e;j++){h=f.item(j);if(l[h.identifier]){l[h.identifier].globalXY=k.convertPointToGlobal({x:h.pageX-m.x,y:h.pageY-m.y})}}this.doTouchMove(g)}};a.touchEnd=function(k){var l=k.changedTouches;var n=this._grTouchTracker;var f=this._grOwnerComp;var m=f.pagePosition();for(var g=0,o,h,e,j=l.length;g<j;g++){o=l.item(g);h=o.identifier;e=n[h];if(e){e.globalXY=f.convertPointToGlobal({x:o.pageX-m.x,y:o.pageY-m.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===b.Possible||this._grState===b.Began||this._grState===b.Changed)){this.doTouchEnd(k)}if(!this._grTouchTotal&&(this._grState===b.Recognized||this._grState===b.Failed||this._grState===b.Cancelled)){this.reset()}};a.touchCancel=function(k){var o=k.changedTouches;var m=this._grTouchTracker;var f=this._grOwnerComp;var l=f.pagePosition();for(var g=0,n,h,e,j=o.length;g<j;g++){n=o.item(g);h=n.identifier;e=m[h];if(e){e.globalXY=f.convertPointToGlobal({x:n.pageX-l.x,y:n.pageY-l.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===b.Possible||this._grState===b.Began||this._grState===b.Changed)){this.doTouchCancel(k)}if(!this._grTouchTotal&&(this._grState===b.Recognized||this._grState===b.Failed||this._grState===b.Cancelled)){this.reset()}};a.doTouchBegin=c.noop;a.doTouchMove=c.noop;a.doTouchEnd=c.noop;a.doTouchCancel=c.noop;a.reset=function(){this._grState=b.Possible;this._grTouchTracker={}};a.state=function(e){return this._grState};a._setState_=function(h){switch(h){case b.Possible:break;case b.Began:this._grState=b.Began;for(var g=0,f=this._grActions,e=f.length;g<e;g++){f[g](this)}break;case b.Changed:if(this._grState===b.Began){this._grState=b.Changed}for(var g=0,f=this._grActions,e=f.length;g<e;g++){f[g](this)}break;case b.Cancelled:this._grState=b.Cancelled;for(var g=0,f=this._grActions,e=f.length;g<e;g++){f[g](this)}break;case b.Failed:this._grState=b.Failed;break;case b.Ended:case b.Recognized:this._grState=h;for(var g=0,f=this._grActions,e=f.length;g<e;g++){f[g](this)}break}};d.TransitionState=b;return d});sap.riv.module({qname:"sap.viz.mvc.VizFrame",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.0"},{qname:"sap.viz.mvc.GestureDetector",version:"4.0.0"},{qname:"sap.viz.base.utils.DomWatcher",version:"4.0.0"},{qname:"sap.viz.mvc.Event",version:"4.0.0"},{qname:"sap.viz.mvc.MouseEvent",version:"4.0.0"},{qname:"sap.viz.mvc.TouchEvent",version:"4.0.0"},{qname:"sap.viz.base.Math",version:"4.0.0"}],function Setup(h,g,j,o,a,n,p,b,d){var i=jQuery;if(!i){FuncUtils.error("Cannot find jQuery")}var e=function(r){var q=undefined;do{if(r.nodeName=="BODY"){q=r;break}else{r=r.parentNode}}while(r);return q};var l=function(r){var s=r._holder;if(s.css("position")=="static"||s.css("position")=="fix"){var q=s.position();r.frame({x:q.left,y:q.top,width:s.width(),height:s.height()})}else{r.frame({x:0,y:0,width:s.width(),height:s.height()})}};var f=function(s){for(var r=0,q=s.length;r<q;r++){if(s[r]==="position"){l(this);break}}};var c=function(q){var r=i(q.target);while(!r.data("selfComp")){if(!r.length){break}r=r.parent()}return r.data("selfComp")};var k=o.TransitionState;var m=g.derive(j,{constructor:function(q){if(q.container){this._holder=i(q.container);if(!e(this._holder.get(0))){h.error("The holder DIV must be a child of Body element.")}if(this._holder.css("display")==="none"){this.markHide()}this.clipToBound(false);this._regDOMEventHandlers();this._holder.append(this._container);this.anchorPoint({x:0,y:0});l(this);a.watch(this._holder.get(0),"position",g.proxy(f,this));this._parentVisible=true;this._attached=true;this._msTracking=[];this._touchSeqTracking={}}else{throw new Error("you have to provide a container for viz frame")}},_regDOMEventHandlers:function(){this._container.bind("click",g.proxy(this._handleDomEvent,this));this._container.bind("dblclick",g.proxy(this._handleDomEvent,this));this._container.bind("focusin",g.proxy(this._handleDomEvent,this));this._container.bind("focusout",g.proxy(this._handleDomEvent,this));this._container.bind("focus",g.proxy(this._handleDomEvent,this));this._container.bind("blur",g.proxy(this._handleDomEvent,this));this._container.bind("mousedown",g.proxy(this._handleDomEvent,this));this._container.bind("mouseup",g.proxy(this._handleDomEvent,this));this._container.bind("mouseenter",g.proxy(this._handleDomEvent,this));this._container.bind("mouseleave",g.proxy(this._handleDomEvent,this));this._container.bind("mousemove",g.proxy(this._handleDomEvent,this));this._container.bind("DOMNodeInsertedIntoDocument",g.proxy(this._registerDOMTouchHandler,this));this._container.bind("DOMNodeRemovedFromDocument",g.proxy(this._unregisterDOMTouchHandler,this))},_registerDOMTouchHandler:function(){this._container.bind("touchstart",g.proxy(this._handleDomEvent,this));this._container.bind("touchmove",g.proxy(this._handleDomEvent,this));this._container.bind("touchend",g.proxy(this._handleDomEvent,this));this._container.bind("touchcancel",g.proxy(this._handleDomEvent,this))},_unregisterDOMTouchHandler:function(){this._container.unbind("touchstart");this._container.unbind("touchmove");this._container.unbind("touchend");this._container.unbind("touchcancel")},_handleDomEvent:function(M){M.preventDefault();var s=c(M);switch(M.type){case"mousemove":if(s){var u=s.pagePosition();var C={x:M.pageX-u.x,y:M.pageY-u.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==s){var D=[];var Q=s;while(Q){D.push(Q);Q=Q.superComponent()}var r=0,x=false,I=d.min(this._msTracking.length,D.length);while(true){var v=undefined;if(!x&&this._msTracking[r]===D[D.length-1-r]){r++;x=r===I}else{while(this._msTracking.length>r){v=this._msTracking.pop();var w=new p("mouseleave",v,false,v.convertPointFromComp(C,s),{x:M.pageX,y:M.pageY});w._setRelatedTarget_(s);v._fireMouseEvent_(w)}while(r<D.length){var Q=D.shift();v=this._msTracking[D.length-1];this._msTracking[D.length]=Q;var w=new p("mouseenter",Q,false,Q.convertPointFromComp(C,s),{x:M.pageX,y:M.pageY});w._setRelatedTarget_(v);Q._fireMouseEvent_(w)}break}}}}else{var Q=s;do{this._msTracking.push(Q);Q._fireMouseEvent_(new p("mouseenter",Q,false,C,{x:M.pageX,y:M.pageY}));Q=Q.superComponent()}while(Q);this._msTracking.reverse()}s._fireMouseEvent_(new p("mousemove",s,true,C,{x:M.pageX,y:M.pageY}))}else{while(this._msTracking.length){var v=this._msTracking.pop();var B=this.pagePosition();v._fireMouseEvent_(new p("mouseleave",v,false,{x:M.pageX-B.x,y:M.pageY-B.y},{x:M.pageX,y:M.pageY}))}}break;case"mouseleave":while(this._msTracking.length){var v=this._msTracking.pop();var L=v.pagePosition();v._fireMouseEvent_(new p("mouseleave",v,false,{x:M.pageX-L.x,y:M.pageY-L.y},{x:M.pageX,y:M.pageY}))}break;case"mouseup":if(s){var u=s.pagePosition();s._fireMouseEvent_(new p("mouseup",s,true,{x:M.pageX-u.x,y:M.pageY-u.y},{x:M.pageX,y:M.pageY}))}break;case"mousedown":if(s){var u=s.pagePosition();s._fireMouseEvent_(new p("mousedown",s,true,{x:M.pageX-u.x,y:M.pageY-u.y},{x:M.pageX,y:M.pageY}))}break;case"dblclick":if(s){if(this._focusedComp){if(this._focusedComp.id()!==s.id()){this._focusedComp._fireEvent_(new n("blur",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusout",this._focusedLayer,true));this._focusedComp=s;this._focusedComp._fireEvent_(new n("focus",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusin",this._focusedComp,true))}}else{this._focusedComp=s;this._focusedComp._fireEvent_(new n("focus",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusin",this._focusedComp,true))}var u=s.pagePosition();this._focusedComp._fireMouseEvent_(new p("dblclick",this._focusedComp,true,{x:M.pageX-u.x,y:M.pageY-u.y},{x:M.pageX,y:M.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new n("blur",this._focusedLayer,false));this._focusedComp._fireEvent_(new n("focusout",this._focusedLayer,true));this._focusedComp=undefined}}break;case"click":if(s){if(this._focusedComp){if(this._focusedComp.id()!==s.id()){this._focusedComp._fireEvent_(new n("blur",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusout",this._focusedComp,true));this._focusedComp=s;this._focusedComp._fireEvent_(new n("focus",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusin",this._focusedComp,true))}}else{this._focusedComp=s;this._focusedComp._fireEvent_(new n("focus",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusin",this._focusedComp,true))}var u=s.pagePosition();this._focusedComp._fireMouseEvent_(new p("click",this._focusedComp,true,{x:M.pageX-u.x,y:M.pageY-u.y},{x:M.pageX,y:M.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new n("blur",this._focusedComp,false));this._focusedComp._fireEvent_(new n("focusout",this._focusedComp,true));this._focusedComp=undefined}}break;case"touchstart":for(var N=0,A,t=M.originalEvent.changedTouches,O=t.length;N<O;N++){A=t.item(N);this._touchSeqTracking[A.identifier]=false}this._handleGestureDetect(s,M.originalEvent);var H=b.buildFromDomTouchEvent("touchstart",s,M.originalEvent);s._fireTouchEvent_(H);break;case"touchmove":if(!this._handleGestureDetect(s,M.originalEvent)){var H=b.buildFromDomTouchEvent("touchmove",s,M.originalEvent);s._fireTouchEvent_(H)}break;case"touchend":this._handleGestureDetect(s,M.originalEvent);var q=[],F=[],z=[],K=[];for(var N=0,A,t=M.originalEvent.changedTouches,O=t.length;N<O;N++){A=t.item(N);this._touchSeqTracking[A.identifier]===true?F.push(A):q.push(A);delete this._touchSeqTracking[A.identifier]}if(q.length){for(var N=0,A,P=M.originalEvent.targetTouches,O=P.length;N<O;N++){A=P.item(N);K.push(A)}for(var N=0,A,E=M.originalEvent.touches,O=E.length;N<O;N++){A=E.item(N);z.push(A)}var J=b.buildFrom3TouchArray("touchcancel",s,z,F,K);s._fireTouchEvent_(J);var G=b.buildFrom3TouchArray("touchend",s,z,q,K);s._fireTouchEvent_(G)}else{var H=b.buildFromDomTouchEvent("touchcancel",s,M.originalEvent);s._fireTouchEvent_(H)}break;case"touchcancel":this._handleGestureDetect(s,M.originalEvent);for(var N=0,A,t=M.originalEvent.changedTouches,O=t.length;N<O;N++){A=t.item(N);delete this._touchSeqTracking[A.identifier]}var H=b.buildFromDomTouchEvent("touchcancel",s,M.originalEvent);s._fireTouchEvent_(H);break}},_handleGestureDetect:function(w,v){var B=[];var z=w;while(!z._gestureDetectors.length&&z._superComp){z=z._superComp}B=z._gestureDetectors;var s=false,r,D=false;for(var u=0,q,C,x=B.length;u<x;u++){C=B[u];switch(v.type){case"touchstart":C.touchBegin(v);break;case"touchmove":C.touchMove(v);break;case"touchend":C.touchEnd(v);break;case"touchcancel":C.touchCancel(v);break}q=C.state();r=(q===k.Began)||(q===k.Changed)||(q===k.Recognized);s=s||r;D=D||(r&&C.cancelTouches())}if(D){for(var u=0,t,A=v.changedTouches,x=A.length;u<x;u++){t=A.item(u);this._touchSeqTracking[t.identifier]=true}}return s},hidden:function(q){q?this._holder.hide():this._holder.show();if(q){this.markHide()}else{this.markShow()}}});return m});sap.riv.module({qname:"sap.viz.mvc.ImageManager",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(g,h,d){var b=function(i){this._imgEl=i};b.prototype.getBitmap=function(){return this._imgEl};b.prototype.width=function(i){if(i!==undefined){this._imgEl.width=i;return this}return this._imgEl.width};b.prototype.height=function(i){if(i!==undefined){this._imgEl.height=i;return this}return this._imgEl.height};b.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};b.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};b.prototype.url=function(){return this._imgEl.src};var c=new h();var f=new h();var a={};var e={loadImage:function(l,i,k){if(l&&i){k=k||d.noop;if(f.has(l)){if(c.get(f.get(i))){k(true)}}var j=new Image();j.onabort=j.onerror=function(){k(false,{id:l,url:i})};j.onload=g.proxy(function(){var n=j.src;if(!c.has(n)){var m=new b(j);f.add(l,n);a[n]={ids:{id:l},length:1};c.add(n,m)}else{f.add(l,j.src);a[n].ids[l]=l;a[n].length++}k(true,{id:l,url:i})},this);j.src=i}},loadImages:function(q,p,o){p=p||d.noop;o=o||d.noop;var n=q.length;if(n==0){o(true)}else{var m=0;var k=function(i,r){m++;if(m<n){p(m/n,i,r)}else{o(true,r)}};for(var l=0,j=q.length;l<j;l++){e.loadImage(q[l].id,q[l].url,k)}}},hasImage:function(i){return f.has(i)},getImage:function(i){if(f.has(i)){return c.get(f.get(i))}},disposeImage:function(j){if(f.has(j)){var i=f.remove(j);delete a[i].ids[j];a[i].length--;if(a[i].length===0){delete a[i];c.remove(i)}}}};return e});sap.riv.module({qname:"sap.viz.mvc.VizApplication",version:"4.0.0"},[{qname:"sap.viz.base.Observable",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.mvc.ImageManager",version:"4.0.0"},{qname:"sap.viz.mvc.VizFrame",version:"4.0.0"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.0"},{qname:"sap.viz.base.Logger",version:"4.0.0"}],function Setup(i,k,e,d,l,h,m){var b=0;function a(){return b++}var c=h.Autosizing;var g=jQuery;if(!g){k.error("Cannot find jQuery")}var j=function(n){var q=a();this._id=n.id?n.id+"_"+q:q;m.debug("Chart Application["+this._id+"] initializing.","perf");if(!n.delegateClass){k.error("You have to specify a delegate for visualization custom behavior.")}if(!n.wrapperDivEl){k.error("You have to specify a div element for holding the visualization.")}this._vizFrame=new l({container:n.wrapperDivEl});this._delegate=new n.delegateClass();var o=this._delegate.getPreloadAssets();d.loadImages(o,undefined,e.proxy(function(){this._delegate._afterLaunched(this,n.launchOption)},this));var p=this._vizFrame.subComponents().getIterator();while(p.hasMore()){m.debug("application["+this._id+"]component["+p.nextValue().id()+"] initialized.","perf")}this._eventBridge=new i();this._addEvents(this._delegate.getSupportedEvents())};var f=j.prototype;f.id=function(){return this._id};f.size=function(n){if(n!==undefined){this._vizFrame.size(n);return this}else{return this._vizFrame.size()}};f.hidden=function(n){if(n!==undefined){if(this._vizFrame.hidden()!==n){this._vizFrame.hidden(n)}return this}else{return this._vizFrame.hidden()}};f.getSupportedEvent=function(){return this._eventBridge.getSupportedEvents()};f.addListener=function(n,o){this._eventBridge.addListeners({eventName:n,listener:o})};f.removeListener=function(n,o){this._eventBridge.removeListener(n,o)};f._addEvents=function(p){for(var o=0,n=p.length;o<n;o++){this._eventBridge.addEvents(p[o])}};f._fireEvent=function(){this._eventBridge.fireEvent.apply(this._eventBridge,arguments)};f.getPublicMethods=function(){return this._delegate.getSupportedMethods()};f.invokePublicMethod=function(o,n){return this._delegate._invokePublicMethod(o,n)};f.applyTheme=function(n){this._delegate._applyTheme(n)};f.properties=function(n){if(n!==undefined){this._delegate.updateProperties(n)}return this._delegate.getProperties()};f.setDataset=function(n){if(n){this._delegate.setDataset(n)}};f.getDataset=function(){return this._delegate.getDataset()};f._setRootController=function(n){if(n){var o=n.rootUIComponent();o.frame(this._vizFrame.bounds());o.autoresizingMask(c.FlexibleWidth|c.FlexibleHeight);this._vizFrame.addSubComponent(o)}};return j});sap.riv.module({qname:"sap.viz.mvc.D3BasedComponent",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.0"}],function Setup(e,d,b){if(!d3){d.error("D3 cannot be found")}var c=function(){var g=this.width();var f=this.height();this._d3Root=d3.select(this._container[0]).append("svg").attr("width",g).attr("height",f)};var a=e.derive(b,{constructor:function(f){c.call(this)},doContentResize:function(g,f){if(g.width!==f.width){this._d3Root.attr("width",f.width)}if(g.height!==f.height){this._d3Root.attr("height",f.height)}},getD3Root:function(){return this._d3Root}});return a});sap.riv.module({qname:"sap.viz.mvc.UIController",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.mvc.UIComponent",version:"4.0.0"}],function Setup(c,b){var a=function(e){this._defaultWidth=5;this._defaultHeight=5;this._app;this._uiComp};var d=a.prototype;d.rootUIComponent=function(){if(!this._uiComp){this._uiComp=this.initUIComponent(this._defaultWidth,this._defaultHeight);this._uiComp.on({eventName:"beforeShow",listener:this._handleBeforeShow,scope:this});this._uiComp.on({eventName:"beforeHide",listener:this._handleBeforeHide,scope:this});this._uiComp.on({eventName:"afterShow",listener:this._handleAfterShow,scope:this});this._uiComp.on({eventName:"afterHide",listener:this._handleAfterHide,scope:this});this.afterUIComponentLoaded()}return this._uiComp};d._handleBeforeHide=function(e){this.beforeUIComponentDisappear()};d._handleBeforeShow=function(e){this.beforeUIComponentAppear()};d._handleAfterHide=function(e){this.afterUIComponentDisappear()};d._handleAfterShow=function(e){this.afterUIComponentAppear()};d._setApplication_=function(e){this._app=e};d.getApplication=function(){return this._app};d.fireAppEvent=function(e,f){this._app._fireEvent(e,f)};d.initUIComponent=function(e,f){return new b({size:{w:e,h:f}})};d.afterUIComponentLoaded=c.noop;d.beforeUIComponentAppear=c.noop;d.afterUIComponentAppear=c.noop;d.beforeUIComponentDisappear=c.noop;d.afterUIComponentDisappear=c.noop;d.doThemeApplied=c.noop;d.doThemeUpdated=c.noop;d.doThemeChanged=c.noop;return a});sap.riv.module({qname:"sap.viz.core",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.mvc.UIController",version:"4.0.0"},{qname:"sap.viz.mvc.D3BasedComponent",version:"4.0.0"},{qname:"sap.viz.mvc.VizApplication",version:"4.0.0"},{qname:"sap.viz.mvc.VizAppDelegate",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.load",version:"4.0.0"},{qname:"sap.viz.modules.xycontainer",version:"4.0.0"},{qname:"sap.viz.data.feed.feeder",version:"4.0.0"},{qname:"sap.viz.data.handler.BaseDataHandler",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.util.EffectManager",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.config",version:"4.0.0"},{qname:"sap.viz.StyleManager",version:"4.0.0"},{qname:"sap.viz.util.parseCSS",version:"4.0.0"},{qname:"sap.viz.TemplateManager",version:"4.0.0"}],function Setup(o,j,r,w,a,B,t,b,d,A,k,m,q,x,z,C,E,l,n,v,D){function s(H){var G={};for(var F in H){if(H.hasOwnProperty(F)){if(H[F].supportedValueType==="Object"){G[F]=s(H[F].supportedValues)}else{G[F]=H[F].defaultValue}}}return G}function e(G,H){var I=r.extend(true,{},G);for(var F in G){if(G.hasOwnProperty(F)){if(typeof H==="object"&&H.hasOwnProperty(F)){if(G[F]!==null&&typeof G[F]==="object"&&!(G[F] instanceof Array)){I[F]=e(G[F],H[F])}else{if((H[F]!==undefined&&H[F] instanceof Array&&G[F] instanceof Array)||(H[F]!==undefined&&typeof H[F]!=="object")){I[F]=H[F]}}}}}return I}function u(I,M){var G=d.viz.get(M).allProperties();var K={};var L;var F={};var J,H;for(J in I){if(I.hasOwnProperty(J)){if(I[J].properties&&!o.isEmptyObject(I[J].properties())){if(J.indexOf("[")>-1){if(parseInt(J[J.indexOf("[")+1],10)>0){continue}else{L=J.substring(0,J.indexOf("["))+J.substring(J.indexOf("]")+1)}}else{L=J}for(H in G){if(G.hasOwnProperty(H)){if(G[H].moduleRefPath===L){F=s(G[H]);K[H]=e(F,I[J].properties())}}}}}}return K}function h(F){return d.module.get(F).execute()}function f(I,H){var F;if(I){var G=I.data;if(G){F=H.createDataAdapterForModule(G)}}return F}var c=j.derive(B,{constructor:function(F){this._config=F.config;this._data=F.data;this._inputProperties=F.options;this._properties={};if(this._data.emptyDataset()===true){return}this._canvas_rootThreshold=d3.select(document.createElement("div")),this._canvas_rootThreshold.append("svg");this._canvas_root=d3.select(document.createElement("canvas")).style("width",0).style("height",0);this._container.prepend(this._canvas_root.node());var G=l.get(this._config.id)?l.get(this._config.id):{};this._max_svg=l.enableCanvg()&&G.max_svg?G.max_svg:Number.POSITIVE_INFINITY;if(this._data.dataPointCount()>this._max_svg){this._root=this._canvas_rootThreshold.select("svg");this._compoennt_status="canvg"}else{this._root=this.getD3Root();this._compoennt_status="svg"}this._modules={};this._subModuleNames=[];this._subControllers=[];this._effectManager=null;this._styleManager=new n();this._initialize(F.style);this._propertiesIsNewest=false;this._outputProperties={};this._langManagerListener={fn:this._localeChanged,scope:this};this._dispatch=d3.dispatch("dataTruncation");E.addListener(this._langManagerListener);this._attachEvents(F)},_attachEvents:function(F){var G=F.events;for(var H in G){if(G.hasOwnProperty){this.attachEvent(H,G[H].fn,G[H].scope)}}},attachEvent:function(Q,N,P){var H=this.modules(),M={};var L=this._dispatch;var I=Q.indexOf(".");var F=I>0?Q.substring(0,I):Q;if(L[F]){L.on(F,function(){N.apply(P,arguments)})}for(var G in H){if(H.hasOwnProperty(G)){var K=G.split("."),J=K.length-1;if(H[G].dispatch&&H[G].dispatch()[F]){for(var O=0;O<=J;O++){if(M[O]&&M[O][K.slice(0,O).toString()]){break}}if(O>J){if(!M[K.length]){M[K.length]={}}M[K.length][K.toString()]=H[G];H[G].dispatch().on(Q,function(){N.apply(P,arguments)})}}}}},_updateSubModules:function(J){for(var I=0,H=this._subModuleNames.length;I<H;I++){delete this._modules[this._subModuleNames[I]]}this._subModuleNames.length=0;if(J.modules){var K=J.modules();var G;for(var F in K){if(K.hasOwnProperty(F)){G="main."+F;this._subModuleNames.push(G);this._modules[G]=K[F]}}}},_updateSubControllers:function(H){for(var G=0,F=this._subControllers.length;G<F;G++){this._modules[this._subControllers[G]].module(H)}},_resolveProperties:function(K,H){var G={},J,F,I;if(H){if(K){J=K.propertyCategory;F=this._properties;I={};I[J]=K.properties;r.extend(true,G,I,F)}else{G=this._properties}}else{if(K){J=K.propertyCategory;F=this._properties[J];I=K.properties;r.extend(true,G,I,F)}}return G},_updateProperties:function(K,H){var F=this._config.modules;var G,J,I;if(F[K]&&this._modules[K]){J=F[K].configure;if(H){G=this._properties}else{if(J){I=J.propertyCategory;G=r.extend(true,{},this._properties[I])}else{G={}}}this._modules[K].properties(G)}},_updateControllerProperties:function(J){var G=this._config.modules.main.controllers;if(G===undefined){return}var F,I;var H="main."+J;if(G[J]&&this._modules[H]){I=G[J].configure;F=this._resolveProperties(I);this._modules[H].properties(F)}},_initialize:function(V){this._mergeInputProperties();this._effectManager=new C(this._root.append("svg:defs"),this._data.fakeData());var U={effectManager:this._effectManager,styleManager:this._styleManager};this._styleManager.update(V);function N(Z){return d.module.get(Z).execute(U)}var P=this._config.modules;var I,R,T;var G,H={};if(P.legend){H=f(P.legend,this._data);G=N(P.legend.id);T=P.legend.configure;I=this._resolveProperties(T);this._modules.legend=G.data(H).properties(I);this._root.append("g").attr("class","legend")}if(P.sizeLegend){H=f(P.sizeLegend,this._data);G=N(P.sizeLegend.id);T=P.sizeLegend.configure;I=this._resolveProperties(T);this._modules.sizeLegend=G.data(H).properties(I);this._root.append("g").attr("class","sizeLegend")}if(P.title){var Y=N(P.title.id);T=P.title.configure;I=this._resolveProperties(T);this._modules.title=Y.properties(I);this._root.append("g").attr("class","title")}if(P.main){var Q=N(P.main.id);T=P.main.configure;I=this._resolveProperties(T,true);this._modules.main=Q.data(this._data).config(P.main).properties(I);if(this._modules.main.dispatch&&this._modules.main.dispatch()["initialized"]){var K=this;this._modules.main.dispatch().on("initialized.sap.core",function(){K._exportToCanvas.apply(K)})}this._root.append("g").attr("class","main");var W=this._modules.main.parent(this._root.select(".main"));this._updateSubModules(W);R=P.main.controllers;if(R){for(var M in R){if(R.hasOwnProperty(M)){var S=N(R[M].id);var X=R[M].configure;var F,O,J;S().module(this._modules.main);I={};F=X.propertyCategory;O=this._properties[F];J=X.properties;r.extend(true,I,J,O);S.properties(I);this._subControllers.push("main."+M);this._modules["main."+M]=S}}}}if(P.tooltip){var L=N(P.tooltip.id);T=P.tooltip.configure;I=this._resolveProperties(T);this._modules.tooltip=L(this._container[0]).properties(I)}},_doLayout:function(K,F){var U=8,Q=20;if(K.width<Q*10){Q=K.width/10}if(K.height<Q*10){Q=K.height/10}var I={};if(this._modules.title){I.north={size:this._modules.title.getPreferredSize()}}var T={width:0,height:0,minWidth:0,maxSizeConstant:1},M={width:0,height:0,titleSize:{width:0,height:0}},P={width:0,height:0,titleSize:{width:0,height:0}};if(this._modules.legend){P=this._modules.legend.getPreferredSize(K);T.width=Math.max(T.width,P.width);T.height=Math.max(T.height,P.height);T.minWidth=Math.max(T.minWidth,P.minWidth);T.minHeight=P.minHeight;T.maxSizeConstant=Math.min(T.maxSizeConstant,P.maxSizeConstant)}I.east={size:T};if(this._modules.main){I.center={}}function O(){return A({type:"border",hgap:8,vgap:U,bias:"north",size:{width:K.width,height:K.height},padding:[Q,Q,Q,Q],prefs:I})}var L=O();if(F&&this._modules.sizeLegend&&this._modules.sizeLegend.isVisible()){if(L.center){this._modules.main.width(L.center.bounds.width).height(L.center.bounds.height);M=this._modules.sizeLegend.getPreferredSize(K,U+2*Q,this._modules.main.infoForSizeLegend());var S=Math.max(M.width,P.width);T.width=S<K.width*1/3?S:K.width*1/3;T.height=M.height;T.minWidth=M.minWidth;T.minHeight=M.minHeight;L=O()}}if(L.north){this._root.select(".title").attr("visibility","visible").attr("transform","translate("+L.north.bounds.x+", "+L.north.bounds.y+")");this._modules.title.width(L.north.bounds.width).height(L.north.bounds.height)}else{this._root.select(".title").attr("visibility","hidden")}if(L.east){var R=L.east.bounds.height;var N=L.east.bounds.y;var J=0;var G=true;if(M.height+8+P.height>L.east.bounds.height){G=M.titleSize.height<M.height*1/3&&M.titleSize.height<L.east.bounds.height*1/3}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(false);this._root.select(".sizeLegend").attr("transform","translate("+L.east.bounds.x+", "+N+")");J=M.height;if(!G){this._modules.sizeLegend.hideTitle();J-=M.titleSize.height}this._modules.sizeLegend.width(L.east.bounds.width).height(J);N=N+J+8}var H=true;if((J>0?J+8:0)+P.height>L.east.bounds.height){H=P.titleSize.height<(R-M.height)*0.3}if(this._modules.legend){this._modules.legend.hide(false);this._root.select(".legend").attr("transform","translate("+L.east.bounds.x+", "+N+")");if(!H){this._modules.legend.hideTitle()}this._modules.legend.width(L.east.bounds.width).height(R-M.height)}}else{if(this._modules.legend){this._modules.legend.hide(true)}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(true)}}if(L.center){this._root.select(".main").attr("transform","translate("+L.center.bounds.x+", "+L.center.bounds.y+")");this._modules.main.width(L.center.bounds.width,(F===undefined)?true:undefined).height(L.center.bounds.height,(F===undefined)?true:undefined);if(this._modules.tooltip){this._modules.tooltip.plotArea(L.center.bounds).zone(K)}}},_updateAllProperties:function(){this._mergeInputProperties();this._updateSubModuleProperties()},_updateSubModuleProperties:function(){this._updateProperties("legend");this._updateProperties("title");this._updateProperties("sizeLegend");this._updateProperties("tooltip");this._updateProperties("main",true);this._updateControllerProperties("interaction");this._updateControllerProperties("geoController")},_mergeInputProperties:function(){r.extend(true,this._properties,this._inputProperties);this._mergeCanvgProperties()},_mergeCanvgProperties:function(){if(l.enableCanvg()&&this._data.dataPointCount()>=this._max_svg){var F={};F.plotArea={animation:{dataLoading:false,dataUpdating:false}};r.extend(true,this._properties,F)}},render:function(){if(this._data.emptyDataset()===true){return}this._relayout(this.size());this._paint()},_localeChanged:function(){var G=this._config.modules;var F=f(G.legend,this._data);if(F){this._modules.legend.data(F)}F=f(G.sizeLegend,this._data);if(F){this._modules.sizeLegend.data(F)}F=f(G.title,this._data);if(F){this._modules.title.data(F)}this._modules.main.data(this._data);this._updateAllProperties();this.render()},properties:function(F){if(!arguments.length){if(!this._propertiesIsNewest){this._outputProperties=u(this._modules,this._config.id);this._propertiesIsNewest=true}return this._outputProperties}this._propertiesIsNewest=false;this._inputProperties=F;this._updateAllProperties()},style:function(F){if(!arguments.length){return this._styleManager.style}this._styleManager.update(v(F))},data:function(H){if(!arguments.length){return this._data}this._data=H;this._effectManager.ghostEffect(this._data.fakeData());this._updateAllProperties();if(l.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._compoennt_status==="svg"){this._root=this._d3Root;$(this._d3Root.node()).remove();this._d3Root=this._canvas_rootThreshold.select("svg");$(this._d3Root.node()).remove();if(this._canvas_rootThreshold.select("svg").node()===null){this._canvas_rootThreshold.node().appendChild(this._root.node())}else{$(this._root.node()).insertBefore(this._canvas_rootThreshold.select("svg").node())}if(d3.select(this._container.get(0)).select("svg").node()===null){this._container.get(0).appendChild(this._d3Root.node())}else{$(this._d3Root.node()).insertBefore(d3.select(this._container.get(0)).select("svg").node())}this._compoennt_status="canvg"}else{if(l.enableCanvg()&&this._data.dataPointCount()<this._max_svg&&this._compoennt_status==="canvg"){this._canvas_root.node().getContext("2d").clearRect(0,0,this._canvas_root.node().width,this._canvas_root.node().height);this._canvas_root.style("width",0),this._canvas_root.style("height",0);this._canvas_root.attr("width",0),this._canvas_root.attr("height",0);this._d3Root=d3.select(this._container.get(0)).select("svg");this._root=this._canvas_rootThreshold.select("svg");this._root.remove();$(this._root.node()).insertBefore(this._d3Root.node());this._canvas_rootThreshold.insert("svg","svg").attr("width",this.size().width).attr("height",this.size().height);this._d3Root.remove();this._d3Root=this._root;this._compoennt_status="svg"}}var G=this._config.modules;var F=f(G.legend,this._data);if(F){this._modules.legend.data(F)}F=f(G.sizeLegend,this._data);if(F){this._modules.sizeLegend.data(F)}F=f(G.title,this._data);if(F){this._modules.title.data(F)}this._modules.main.data(this._data);this._updateSubModules(this._modules.main);this._updateSubControllers(this._modules.main)},modules:function(){return this._modules},_relayout:function(F){this._doLayout(F);this._loadDependencies();this._doLayout(F,true)},doContentResize:function(G,F){this.callParent("doContentResize",G,F);this.render()},_expandDependencyDefs:function(Q){var I=[];var K=Q.sourceModule;var N=Q.targetModule;var G=this._expandModulePath(K);var M=this._expandModulePath(N);if(G.length>1&&M.length>1){if(G.length!==M.length){w.error("Error on resolving dependency:"+K+","+N)}else{for(var J=0,L=G.length;J<L;J++){I.push({sourceModule:G[J],targetModule:M[J],source:Q.source,target:Q.target,type:Q.type,listener:Q.listener})}}}else{for(var F=0,O=G.length;F<O;F++){for(var H=0,P=M.length;H<P;H++){I.push({sourceModule:G[F],targetModule:M[H],source:Q.source,target:Q.target,type:Q.type,listener:Q.listener})}}}return I},_expandModulePath:function(R){var H=R.split(".");var F=[];var G=[];for(var L=0,M=H.length;L<M;L++){var K=0,Q=F.length;do{var P=Q>0?[F[K],H[L]].join("."):H[L];if(o.isArray(this._modules[P])){for(var J=0,O=this._modules[P].length;J<O;J++){if(this._modules[P][J]){var N=Q>0?[F[K],H[L]+"["+J+"]"].join("."):H[L]+"["+J+"]";G.push(N)}}}else{G.push(P)}K++}while(K<Q);var I=F;F=[].concat(G);G.length=0;I.length=0}return F},_expandModules:function(){var H=this._modules;var G=[];for(var J in H){if(H.hasOwnProperty(J)){var F=H[J];if(o.isArray(F)){for(var I=0;I<F.length;I++){G[J+"["+I+"]"]=F[I]}}else{G[J]=F}}}return G},_loadDependencies:function(){var L=this._config.dependencies,P,J;var N=L.attributes||[],Q=L.events||[];var I,K;var G=this._expandModules();for(J=0;J<N.length;J++){P=N[J];if(P===null){continue}I=this._expandDependencyDefs(P);for(var H=0,O=I.length;H<O;H++){K=I[H];if(G[K.sourceModule]&&G[K.targetModule]){if(typeof G[K.sourceModule][K.source]==="function"&&typeof G[K.targetModule][K.target]==="function"){G[K.targetModule][K.target](G[K.sourceModule][K.source]())}else{w.error("dependency configuration error")}}else{w.error("dependency configuration error")}}}for(J=0;J<Q.length;J++){P=Q[J];I=this._expandDependencyDefs(P);for(var F=0,M=I.length;F<M;F++){K=I[F];if(G[K.targetModule]&&G[K.sourceModule]){if(typeof G[K.targetModule][K.listener]==="function"&&typeof G[K.sourceModule]==="function"){if(typeof G[K.sourceModule].dispatch==="function"){G[K.sourceModule].dispatch().on(K.type+"."+K.targetModule+"."+F,G[K.targetModule][K.listener])}else{w.error("dependency configuration error:"+K.sourceModule+" does not support event!")}}else{w.error("dependency configuration error")}}else{w.error("dependency configuration error: source or target does not exist!")}}}},_paint:function(){if(this._modules.title){this._root.select(".title").call(this._modules.title)}if(this._modules.legend){this._root.select(".legend").datum(this._modules.legend.data()).call(this._modules.legend)}if(this._modules.sizeLegend){this._root.select(".sizeLegend").datum(this._modules.sizeLegend.data()).call(this._modules.sizeLegend)}if(this._modules.main){this._root.select(".main").datum(this._modules.main.data()).call(this._modules.main)}},_exportToCanvas:function(){if(l.enableCanvg()&&this._compoennt_status==="canvg"){this._root.attr("height",this.size().height);this._root.attr("width",this.size().width);this._d3Root.attr("height",0);this._d3Root.attr("width",0);this._canvas_rootThreshold.selectAll("title").remove();if(canvg){canvg(this._canvas_root.node(),this._canvas_rootThreshold.html(),{ignoreMouse:true,ignoreAnimation:true});this._dispatch.dataTruncation()}}},getSupportedEvents:function(){var G=[];var F=this._config.modules;function H(J){for(var I in J){if(J.hasOwnProperty(I)){if(!J[I]){continue}var K=d.module.get(J[I].id);if(K&&K.events){G.push({sourceId:J[I].id,source:{},evtTypes:K.events})}if(J[I].modules){H(J[I].modules)}}}}H(F);return G},destroy:function(){E.removeListener(this._langManagerListener);this.removeFromSuperComponent()}});var p=j.derive(a,{constructor:function(F){this._parseOptions(F)},_parseOptions:function(F){if(!d.viz.get(F.vizType)){w.error("Invalid vizType")}this._dataset=F.dataset?F.dataset:{};this._options=F.option;this._vizType=F.vizType;this._dataFeeding=F.feeding;this._style=F.style;this._events=F.events},initUIComponent:function(H,F){var G=d.viz.get(this._vizType);this._cc_component=new c({id:"rootComponent",data:this._dataset,dataFeeding:this._dataFeeding,config:G,options:this._options,clipToBound:true,size:{w:H,h:F},style:this._style,events:this._events});return this._cc_component},getSupportedEvents:function(){return this._cc_component.getSupportedEvents()},setDataset:function(F){this._cc_component.data(F)},doThemeChanged:function(){this._cc_component.themeChanged()},updateProperties:function(F){this._cc_component.properties(F)},getProperties:function(){return this._cc_component.properties()},style:function(){return this._cc_component.style.apply(this._cc_component,arguments)},render:function(){this._cc_component.render()},destroy:function(){this._cc_component.destroy()},afterUIComponentAppear:function(){var G=this._cc_component.properties();var H;if(!G.plotArea||!G.plotArea.animation||!G.plotArea.animation.dataLoading){if(!this._cc_component.modules()){return}var I=this._cc_component.modules()["main.plot"];if(o.isArray(I)){for(var F=0;F<I.length;F++){if(o.isExist(I[F])){H=I[F].modules()["plot"].afterUIComponentAppear;if(o.isExist(H)){H()}}}}else{H=I.afterUIComponentAppear;if(o.isExist(H)){H()}}}}});var i=j.derive(b,{appDidFinishLaunching:function(I,F){this._vc_vizType=F.vizType;this._vc_dataset=F.data.rawData;this._vc_feeding=F.feeding;this._vc_properties=F.options;var G=this._vc_dataset.getDataPointCount();var J=l.get(this._vc_vizType)?l.get(this._vc_vizType):{};this.max_canvas=l.enableCanvg()&&J.max_canvas?J.max_canvas:Number.POSITIVE_INFINITY;var H=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller=new p({vizType:this._vc_vizType,dataset:H,option:F.options,style:F.style,events:F.events});this.registerPublicMethod("update",this._vc_update);this.registerPublicMethod("destroy",this._vc_destroy);this.registerPublicMethod("getStyle",this._vc_getStyle)},_vc_createAdapter:function(L,F,J,H){var N=q(d.viz.get(L).allFeeds(true),F,J);var P=new x(N,F,H);var Q=N.getFeeds();var M=new z(N.getBindingInfo());M.fakeData(F.hasFakeData());M.emptyDataset(F.isEmptyDataset());M.dataPointCount(F.getDataPointCount());var G,O;for(var I=0,K=Q.length;I<K;I++){G=Q[I].feedId();O=P.getFeedValues(G);if(O!==null){if(Q[I].type()==="Dimension"){M.addAnalysisAxis({values:O,index:Q[I].getIndex()-1})}else{M.addMeasureValuesGroup({values:O,index:Q[I].getIndex()-1})}}}return M},_vc_getStyle:function(){return this._controller.style()},_vc_update:function(H){if(H){var F=false;if(H.properties){if(this._controller){this._vc_properties=H.properties;this._controller.updateProperties(this._vc_properties);F=true}}if(H.style){this._controller.style(H.style);F=true}if(H.data||H.feeding){if(H.data){this._vc_dataset=H.data}if(H.feeding){this._vc_feeding=H.feeding}var G=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller.setDataset(G);F=true}if(F){this._controller.render()}}},rootController:function(){return this._controller},getSupportedEvents:function(){return this._controller.getSupportedEvents()},setDataset:function(G){this._vc_dataset=G;var F=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this._controller.setDataset(F)},getDataset:function(){return this._vc_dataset},updateProperties:function(F){if(this._controller){this._vc_properties=F;this._controller.updateProperties(this._vc_properties)}},getProperties:function(){return this._controller.getProperties()},_vc_destroy:function(){this._controller.destroy()}});var g={constructor:function(){},instances:[],createViz:function(K){var H={};var G=K.feeding;var F={constructor:function(){},on:function(N,M,L){H[N]={callback:M,scope:L};F.app.getDelegate().rootController().rootUIComponent().attachEvent(N,M,L);return F},size:function(L){if(!arguments.length){return F.app.size()}F.app.size(L);return F},data:function(M){if(!arguments.length){return F.app.getDataset()}F.update({data:M});for(var L in H){if(H.hasOwnProperty(L)){F.on(L,H[L].callback,H[L].scope)}}return F},properties:function(L){if(!arguments.length){return F.app.properties()}F.update({properties:L});return F},style:function(L){if(!arguments.length){return F.app.invokePublicMethod("getStyle")}F.update({style:L});return F},feeding:function(L){if(!arguments.length){return G}G=L;F.update({feeding:L});return F},update:function(L){if(L){if(o.isDefined(L.feeding)){G=L.feeding}F.app.invokePublicMethod("update",L)}return F},destroy:function(){g.instances.splice(g.instances.indexOf(this),1);F.app.invokePublicMethod("destroy")},toJSON:function(){var L={};L.type=K.type;L.data=F.app.getDataset();L.properties=F.app.properties();L.style=F.app.invokePublicMethod("getStyle");L.feeding=G;L.size=F.app.size();return L}};var J=D.current();var I=K.type;F.app=new t({wrapperDivEl:K.container,delegateClass:i,launchOption:{vizType:I,options:r.extend(true,null,J.props(I),K.options),style:r.extend(true,null,J.css,v(K.style)),data:{rawData:K.data},feeding:K.feeding||K.dataFeeding,events:K.events}});Object.defineProperty(F,"type",{value:I,enumerable:true});F.app.getDelegate=function(){return this._delegate};g.instances.push(F);return F},destroyViz:function(){for(var G=-1,F=arguments.length;++G<F;){arguments[G].destroy()}},loadViz:function(H,F){var G={};G.container=F;G.type=H.type;G.options=H.properties;G.data=H.data;G.style=H.style;G.feeding=H.feeding;this.createViz(G)},exportViz:function(F){return F.toJSON()}};return g});sap.riv.module({qname:"sap.viz.env",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Logger",version:"4.0.0"},{qname:"sap.viz.config",version:"4.0.0"},{qname:"sap.viz.Locale",version:"4.0.0"}],function Setup(b,c,d,h){var g=function(i){if(b.isExist(i)){c.setLevel(i)}};var a=function(m){if(!m){return}if(m.enable){c.enable()}if(!m.appenders){return}for(var n=0,k=m.appenders.length;n<k;n++){var j=m.appenders[n];if(j.appenderKey){c.addAppender(j.appenderKey,j.appender)}else{c.addAppender(j.appender)}}};var e=function(i,j){h.locale(i.locale,j)};var f={constructor:function(){},initialize:function(i,j){if(!i){return}a(i.log);if(i.locale){e(i,j)}else{if(j){j.call()}}d.enableCanvg(i.enableCanvg)},setLoggerEnable:function(i){if(i===true){c.enable()}else{if(i===false){c.disable()}}},addLogAppender:function(){if(arguments.length===1){return c.addAppender(arguments[0])}else{if(arguments.length===2){return c.addAppender(arguments[0],arguments[1])}}},removeLogAppender:function(i){return c.removeAppender(i)}};return f});sap.riv.module({qname:"sap.viz.util.LogAnalyzer",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.LinkedHashMap",version:"4.0.0"}],function Setup(d){var h;var i={};var e={};var g={};var c=new d();var b=/Chart\[(.+?)\]\sinitializing\./;var a=/Chart\[(.+?)\]application\[(.+?)\]\sinitialized\./;var f=/application\[(.+?)\]component\[(.+?)\]\sinitialized\./;var n=/chartComponent\[(.+?)\]subComponent\[(.+?)\]initialized\./;var o=/layer\[(.+?)\]rendering\send\./;var k=/#(\d+)#/;function m(q){while(q.hasMore()){if(q.nextValue()===-1){return false}}return true}function l(t){var q=t[0];var s=t.length;for(var r=1;r<s;r++){q=t[r]>q?t[r]:q}return q}function p(t,q,s,r){return"#"+t+"#"+r}var j={analyze:function(v,s,A,E){if(A!=="perf"){return}var w=p(v,s,A,E);var t=b.exec(w);if(t){var F=k.exec(w)[1];i[t[1]]=F;h=h||F;return}t=f.exec(w);if(t){g[t[2]]=t[1];return}t=a.exec(w);if(t){e[t[2]]=t[1];return}t=n.exec(w);if(t){if(!c.has(t[1])){c.add(t[1],new d())}c.get(t[1]).add(t[2],-1);return}t=o.exec(w);if(t){var x=k.exec(w)[1];var B=c.getIterator();while(B.hasMore()){var z=B.next();var C=z.value;if(C.has(t[1])&&C.get(t[1])===-1){C.add(t[1],x);var D=C.getIterator();if(m(D)){D.reset();var G=[];while(D.hasMore()){G.push(D.nextValue())}var q=e[g[z.key]];var r=i[q],u=x;c.remove(z.key);return("chart["+q+"] start time:"+r+" end time:"+u+" time consume["+(u-r)+"] total consume["+(u-h)+"]")}}}}}};return j});sap.riv.module({qname:"sap.viz.modules.axis.DataModule",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"}],function Setup(a,b){var c=function(d){var e=null;console.log("reBuildDataModule");return e};return({reBuildDataModule:c,})});sap.riv.module({qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.0",exported:true},[{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(c,d,b){var a=function(e){this._dimensionLabels=[];this.init(e)};a.prototype.init=function(f){for(var e=0;e<f.length;e++){this._dimensionLabels[e]=new c(f[e]["name"],f[e]["type"]?f[e]["type"]:"Dimension",f[e]["values"]);this._dimensionLabels[e].fake(f[e]["isFake"]?f[e]["isFake"]:false);this._dimensionLabels[e].infos(f[e]["infos"]?f[e]["infos"]:null)}};a.prototype.getDimensionLabels=function(){return this._dimensionLabels};a.prototype.getType=function(){return"analysisAxis"};a.prototype.validate=function(){var g=1;var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(e===0){g=f[e].getValues().length;if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}else{if(g!==f[e].getValues().length){d.error(f[e].getId()+" wrong dimension labels count")}if(b.isExist(f[e].infos())&&g!==f[e].infos().length){d.error(f[e].getId()+" wrong infos count")}}}return g};a.prototype.hasFakeData=function(){var f=this.getDimensionLabels();for(var e=0;e<f.length;e++){if(f[e].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.data.description.MeasureValues",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.0"}],function Setup(c,a){var b=c.derive(a,{constructor:function(e,d){this._values=d},getValues:function(){return this._values}});return b});sap.riv.module({qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.0",exported:true},[{qname:"sap.viz.data.description.MeasureValues",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(b,c){var a=function(d){this._measureValues=[];this.init(d)};a.prototype.init=function(e){for(var d=0;d<e.length;d++){this._measureValues[d]=new b(e[d]["name"],e[d]["values"]);this._measureValues[d].fake(e[d]["isFake"]?e[d]["isFake"]:false);this._measureValues[d].infos(e[d]["infos"]?e[d]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(k){var h,g,f,e;if(!arguments.length){var d=[1,1];h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(f===0){if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}d[0]=g[0].length}else{if(g.length!==d[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+d[1])}for(e=0;e<g.length;e++){if(g[e].length!==d[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+d[0])}}}}return d}else{h=this.getMeasureValues();for(f=0;f<h.length;f++){g=h[f].getValues();if(g.length!==k[1]){c.error(h[f].getId()+" wrong values count in aa2. should be "+k[1])}for(e=0;e<g.length;e++){if(g[e].length!==k[0]){c.error(h[f].getId()+" wrong values count in aa1. should be "+k[0])}}}}};a.prototype.hasFakeData=function(){var e=this.getMeasureValues();for(var d=0;d<e.length;d++){if(e[d].fake()){return true}}return false};return a});sap.riv.module({qname:"sap.viz.data.info.Handler",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(h,b){var a="analysisAxis";var d="measureValuesGroup";var f={};var c={};function e(l,k){var i=l[a].concat(l[d]);var j=[];i.forEach(function(o,n){var m=o.data;m.forEach(function(q,p){if(q.name===k){j.push(q)}},this)},this);return j}var g={type:"customlabel",process:function(t,p){var l,o,v,k,n,j,u,s;for(var q=0,r=t.length;q<r;q++){l=t[q];o=l.name;v=e(p,o);v.forEach(function(m,i){u=false;if(!m.infos){s=true;m.infos=[]}j=m.values;k=l.mapping;j.forEach(function(x,w){if(k[x]){if(k[x].type==="string"&&k[x].val===x){if(m.infos[w]){delete m.infos[w][g.type];if(b.isEmptyObject(m.infos[w])){m.infos[w]=undefined}}}else{u=true;m.infos[w]=m.infos[w]?m.infos[w]:{};m.infos[w][g.type]=k[x]}}else{if(!m.infos[w]){m.infos[w]=undefined}}},this);if(s&&!u){delete m.infos}},this)}},merge:function(l){var j={};j.type=g.type;j.value=[];var i=l[a];var k;i.forEach(function(o,n){var m=o.data;m.forEach(function(r,p){if(r.infos){var q={};q.name=r.name;q.mapping={};k=false;r.infos.forEach(function(t,s){if(t&&t[g.type]){k=true;q.mapping[r.values[s]]=t[g.type]}},this);if(k){j.value.push(q)}}},this)},this);if(j.value.length>0){return j}},remove:function(k){var i=k[a];var j=false;i.forEach(function(n,m){var l=n.data;l.forEach(function(p,o){if(p.infos){j=false;p.infos.forEach(function(r,q){if(r){delete r[g.type];if(b.isEmptyObject(r)){p.infos[q]=undefined}else{j=true}}},this);if(!j){delete p.infos}}},this)},this)}};f.register=function(i){c[i.type]=i};f.get=function(i){return c[i]};f.mergeInfo=function(m){var i,j=[],k;for(var l in c){if(c.hasOwnProperty(l)){i=c[l];k=i.merge(m);if(k){j.push(h.extend(true,{},k))}}}return j};f.register(g);return f});sap.riv.module({qname:"sap.viz.data.CrosstableDataset",version:"4.0.0",exported:true},[{qname:"sap.viz.data.feed.feeder",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.data.description.AnalysisAxis",version:"4.0.0"},{qname:"sap.viz.data.description.MeasureValuesGroup",version:"4.0.0"},{qname:"sap.viz.data.info.Handler",version:"4.0.0"}],function Setup(m,b,f,n,j,i){var g="type";var o="name";var l="values";var k="feedId";var h="MeasureNamesDimension";var e="analysisAxis";var a="measureValuesGroup";function d(q){var p=q.getValues();return p.length>0?p.length*p[0].length:0}function c(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._emptyDataset=false}c.prototype.data=function(p){if(!arguments.length){return this._dataSet}this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet=p;this.init(this._dataSet);return this};c.prototype.setData=function(p){this.data(p)};c.prototype.info=function(q){if(!arguments.length){return i.mergeInfo(this._dataSet)}if(q&&q.type){var p=i.get(q.type);if(p){p.process(q.value,this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};c.prototype.clearInfo=function(q){if(q){var p=i.get(q);if(p){p.remove(this._dataSet)}}return this};c.prototype.init=function(u){if(!u||!u[a]||(u[e]&&!u[a])){return}var x=[1,1];var w=u[e];var v=0;var t,q,A;if(w){if(w.length>2){f.error("could not accept more than 2 axes")}for(;v<w.length;v++){var r=w[v];var z=r.index;if(z!==1&&z!==2){f.error("Axis index should be 1 or 2")}if(this._analysisAxis[z-1]){f.error("Axis "+z+" already exists")}var p=new n(r.data);x[z-1]=p.validate();this._analysisAxis[z-1]=p}if(x[0]===0){x[1]=0;this._emptyDataset=true}t=u[a];for(v=0;v<t.length;v++){q=t[v];var s=q.index;if(this._measureValuesGroup[s-1]){f.error("MeausreValuesGroup "+s+" already exists")}A=new j(q.data);A.validate(x);this._measureValuesGroup[s-1]=A}}else{t=u[a];for(v=0;v<t.length;v++){q=t[v];A=new j(q.data);if(v===0){x=A.validate()}else{A.validate(x)}this._measureValuesGroup[q.index-1]=A}}};c.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};c.prototype.getAnalysisAxisByIdx=function(p){return this._analysisAxis[p]};c.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};c.prototype.getMeasureValuesGroupByIdx=function(p){return this._measureValuesGroup[p]};c.prototype.hasFakeData=function(){for(var p=0;p<this._measureValuesGroup.length;p++){if(this._measureValuesGroup[p].hasFakeData()){return true}}for(p=0;p<this._analysisAxis.length;p++){if(this._analysisAxis[p].hasFakeData()){return true}}return false};c.prototype.getDataPointCount=function(){var r=0;var q=d(this._measureValuesGroup[0].getMeasureValues()[0]);for(var p=0;p<this._measureValuesGroup.length;p++){r+=q*this._measureValuesGroup[p].getMeasureValues().length}return r};c.prototype.isEmptyDataset=function(){return this._emptyDataset};return c});sap.viz.lang.langManager.register({id:"dev",value:{IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tag Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",}});