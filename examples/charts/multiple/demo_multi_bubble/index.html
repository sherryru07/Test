<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Viz Multi Bubble Chart</title>
		<script type="text/javascript" src="../../../../libs/d3.v2.js"></script>
		<script type="text/javascript" src="../../../../libs/jquery.js"></script>
		<script type="text/javascript" src="../../../../libs/json2.js"></script>
		<script type="text/javascript" src="../../../../libs/sap.viz.js"></script>
				
	</head>
	<body>
		<div id="chart" style="width: 900px; height: 900px; background-color: #ffffff"></div>	
		<script type='text/javascript'>
		$(function() {
		    var Environment = sap.viz.env;
		    var CrosstableDataset = sap.viz.data.CrosstableDataset;
		    var vizcore = sap.viz.core;
		    
		    Environment.initialize({
		        'log': 'debug'
		    });
		    var chartOption = {
		    	plotArea: {
		        //'colorPalette' : ["#D9B5CA", "#AED1DA", "#DFECB2", "#FCDAB0", "#F5BCB4"]
		        },
		        title: {
		            text: 'Sample Multi Bubble Chart Title'
		        }
		    };
		    
		    var ds = new CrosstableDataset();
		    ds.setData({
			      'analysisAxis':[
			                      {
			                        'index': 1,
			                        'data': [{
			                          'type': 'Dimension',
			                          'name': 'Country',
			                          'values': ['China', 'China', 'USA', 'USA', 'Canada', 'Canada', 'Spain', 'Spain']
			                        }, {
			                          'type': 'Dimension',
			                          'name': 'Year',
			                          'values': ['2001', '2002', '2001', '2002', '2001', '2002', '2001', '2002']
			                        }]
			                      },{
			                        'index' : 2,
			                        'data' : [{
			                          'type' : 'Dimension',
			                          'name' : 'Region',
			                          'values' : ['Asia', 'Asia', 'Asia', 'Asia', 'Asia', 'Europe', 'Europe', 'Europe', 'Europe', 'Europe', 'North America', 'North America',
			                                      'North America', 'North America', 'North America', 'Others', 'Others', 'Others', 'Others']
			                        }, {
			                          'type' : 'Dimension',
			                          'name' : 'Company',
			                          'values' : ['FJ', 'JL', 'MU', 'NG', 'SQ', 'AB', 'AF', 'AZ', 'BA', 'LH', 'AA', 'AC', 'DL', 'NW', 'UA', 'CO', 'MO', 'QF', 'SA']
			                        }]
			                      }], /*{
			                      'feedId' : 'sap.viz.correlation.shape',
			                      'data' : [{
			                        'type' : 'Dimension',
			                        'name' : 'Product',
			                        'values' : ['Car', 'Truck']
			                      }]
			                    },*/ 
			                     'measureValuesGroup':[{
			                      'index' : 1,
			                      'data' : [{
			                        'type' : 'Measure',
			                        'name' : 'Revenue',
			                        'values' : [[8.44,23.76,27.98,16.95,42.67,64.29,41.20,32.78],[26.73,19.19,19.19,45.05,67.20,55.83,67.42,77.40],[15.99,23.41,15.77,43.30,29.32,39.96,24.65,65.75],[10.28,23.64,11.14,19.47,14.86,14.03,79.63,58.90],[23.57,28.31,36.03,41.03,39.23,76.72,50.59,35.11],[15.46,29.83,26.86,30.71,61.58,46.44,37.36,74.16],[19.03,30.05,20.07,22.19,40.13,35.19,51.90,57.88],[39.97,43.93,46.42,57.27,36.25,90.79,56.93,56.94],[8.76,11.70,18.62,20.65,33.31,33.58,75.17,62.12],[34.34,34.85,41.54,41.03,41.27,70.43,57.62,79.03],[21.19,27.71,43.75,55.28,58.76,49.99,81.44,74.99],[16.78,23.00,14.69,11.61,54.15,24.19,56.28,49.86],[22.87,26.56,33.69,25.43,48.83,33.29,19.45,52.54],[11.16,24.01,17.30,38.19,41.83,66.25,30.31,69.26],[29.08,26.41,30.54,41.63,40.00,65.52,24.21,25.50],[15.19,11.13,35.03,21.24,43.84,33.13,57.13,40.58],[12.87,16.78,17.62,13.49,11.12,36.92,58.76,27.86],[25.17,34.67,28.82,52.36,34.98,74.60,81.54,65.02],[9.61,19.00,12.58,8.31,51.87,32.14,3.71,76.89]]
			                      }]
			                    }, {
			                      'index' : 2,
			                      'data' : [{
			                        'type' : 'Measure',
			                        'name' : 'Number of Countries',
			                        'values' : [[10.71,22.31,16.15,3.05,11.67,5.55,7.25,55.89],[22.91,21.34,32.17,48.59,34.81,24.25,51.93,71.14],[11.41,19.94,21.99,24.53,51.77,37.07,32.94,63.71],[16.92,20.30,34.39,44.85,41.22,60.70,46.97,13.06],[22.40,18.19,32.10,47.12,41.91,55.66,75.82,51.80],[12.68,29.99,18.33,51.52,34.82,71.89,14.54,26.56],[22.12,16.29,31.51,35.84,32.04,63.23,39.00,27.27],[36.96,38.04,39.00,44.04,54.73,76.35,43.00,46.85],[6.69,24.98,27.58,15.31,47.62,16.35,26.53,61.53],[27.33,25.00,32.33,24.15,65.39,78.59,72.10,89.56],[22.20,26.88,22.46,22.68,50.58,36.47,36.80,91.14],[6.71,20.18,20.36,41.93,20.72,39.85,6.49,60.51],[23.11,18.79,27.61,25.09,21.54,19.52,64.08,91.80],[9.20,23.50,11.90,36.02,24.06,16.24,68.20,18.25],[29.51,40.52,34.57,21.40,62.28,33.30,58.21,79.77],[13.77,9.61,33.32,32.92,48.65,18.96,60.37,12.10],[5.14,10.46,29.14,33.65,2.35,51.85,44.53,42.01],[20.64,18.72,19.06,15.52,23.87,26.49,25.46,85.27],[11.11,18.52,17.36,40.98,23.34,30.52,50.68,77.45]]
			                      }]
			                    }, {
			                      'index' : 3,
			                      'data' : [{
			                        'type' : 'Measure',
			                        'name' : 'Number of Planes',
			                        'values' : [[18.25,131.08,30.36,21.41,51.66,39.01,33.86,18.36],[102.80,117.46,125.98,127.89,114.09,151.38,137.29,113.39],[34.07,45.67,50.60,59.75,35.11,37.09,95.81,38.67],[55.57,62.19,73.47,81.20,65.61,78.11,72.61,72.54],[104.41,103.10,126.54,113.46,114.66,155.93,159.11,155.33],[104.48,116.91,117.08,132.28,128.54,159.30,147.88,124.36],[106.40,117.60,103.07,132.36,118.42,108.69,127.45,125.44],[152.94,157.62,150.46,174.23,177.82,207.39,172.04,195.68],[81.04,77.02,96.30,100.90,93.32,75.87,80.75,78.23],[105.82,118.59,103.12,126.12,135.23,130.77,148.11,167.62],[101.95,113.50,120.71,135.95,136.98,117.03,120.70,152.17],[22.48,39.88,38.05,49.17,26.18,49.50,82.00,47.60],[125.71,137.52,132.33,157.59,132.47,161.14,184.16,161.99],[35.66,33.24,52.65,59.31,41.43,52.78,44.42,385.55],[132.67,130.94,153.57,155.48,161.03,159.05,171.54,185.46],[64.82,75.29,86.41,76.68,83.02,74.20,114.61,61.75],[33.30,36.97,35.28,58.98,74.83,88.84,60.75,60.90],[98.89,111.87,116.72,109.55,101.11,137.62,160.89,113.07],[22.07,28.25,45.22,38.26,43.47,36.93,63.11,32.76]]
			                      }]
			                    }/*, {
			                      'feedId' : 'sap.viz.correlation.marker.height',
			                      'data' : [{
			                        'type' : 'Measure',
			                        'name' : 'Total',
			                        'values' : [[4, 8, 14, 11], [12, 6, 9, 3]]
			                      }]
			                    }*/]});		    
			    
			//TODO How to define feeding API?
			var chart = vizcore.createViz({
		        type: 'viz/multi_bubble',
		        data: ds,
		        container: $('#chart'),
		        options: chartOption
		    });

		});

		</script>
		
	</body>
</html>