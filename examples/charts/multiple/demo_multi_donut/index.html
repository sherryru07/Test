<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Viz Multi Donut Chart</title>
		<script type="text/javascript" src="../../../../libs/d3.v2.js"></script>
		<script type="text/javascript" src="../../../../libs/jquery.js"></script>
		<script type="text/javascript" src="../../../../libs/json2.js"></script>
		<script type="text/javascript" src="../../../../libs/sap.viz.js"></script>
				
	</head>
	<body>
		<div id="chart" style="width: 900px; height: 900px; background-color: #ffffff"></div>	
		<script type='text/javascript'>
		$(function() {
		    var Environment = sap.viz.env;
		    var CrosstableDataset = sap.viz.data.CrosstableDataset;
		    var vizcore = sap.viz.core;
		    
		    Environment.initialize({
		        'log': 'debug'
		    });
		    var chartOption = {
		    	plotArea: {
		        //'colorPalette' : ["#D9B5CA", "#AED1DA", "#DFECB2", "#FCDAB0", "#F5BCB4"]
		        },
		        title: {
		            text: 'Sample Multi Donut Chart Title'
		        }
		    };
		    
		    var ds = new CrosstableDataset();
		    ds.setData({
      'analysisAxis' : [{
                'index': 1,
                'data': [{
                        'type': 'Dimension',
                        'name': 'Country',
                        'values': ['China', 'China', 'USA', 'USA', 'Canada', 'Canada', 'Spain', 'Spain']
                    }, {
                        'type': 'Dimension',
                        'name': 'Year',
                        'values': ['2001', '2002', '2001', '2002', '2001', '2002', '2001', '2002']
                    }]
            },{
                'index': 2,
                'data': [{
                        'type': 'Dimension',
                        'name': 'Product',
                        'values': ['Car', 'Car', 'Truck', 'Truck']
                    },{
                        'type': 'Dimension',
                        'name': 'Color',
                        'values': ['Black', 'Red', 'Black', 'Red']
                    }]
            }],
           'measureValuesGroup' : [{
                'index': 1,
                'data': [{
                        'type': 'Measure',
                        'name': 'Profit',
                        'values': [[16, 2, 13, 2, 31, 3, 58, 7], [75, 2, 95, 6, 22, 3, 3, 48], [6, 62, 3, 82, 1, 13, 8, 37], [45, 2, 65, 6, 82, 3, 13, 8]]
                    }]
            }]});		   

		    //TODO How to define feeding API?
		    var bar = vizcore.createViz({
		        type: 'viz/multi_donut',
		        data: ds,
		        container: $('#chart'),
		        options: chartOption
		    });

		});

		</script>
		
	</body>
</html>