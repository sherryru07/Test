(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(P){if(this==null){throw new TypeError()}var Q=Object(this);var N=Q.length>>>0;if(N===0){return -1}var R=0;if(arguments.length>0){R=Number(arguments[1]);if(R!=R){R=0}else{if(R!=0&&R!=Infinity&&R!=-Infinity){R=(R>0||-1)*Math.floor(Math.abs(R))}}}if(R>=N){return -1}var O=R>=0?R:Math.max(N-Math.abs(R),0);for(;O<N;O++){if(O in Q&&Q[O]===P){return O}}return -1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(P){if(this==null){throw new TypeError()}var Q=Object(this);var N=Q.length>>>0;if(N===0){return -1}var R=N;if(arguments.length>1){R=Number(arguments[1]);if(R!=R){R=0}else{if(R!=0&&R!=(1/0)&&R!=-(1/0)){R=(R>0||-1)*Math.floor(Math.abs(R))}}}var O=R>=0?Math.min(R,N-1):N-Math.abs(R);for(;O>=0;O--){if(O in Q&&Q[O]===P){return O}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(O){if(this==null){throw new TypeError()}var S=Object(this);var N=S.length>>>0;if(typeof O!="function"){throw new TypeError()}var R=[];var Q=arguments[1];for(var P=0;P<N;P++){if(P in S){var T=S[P];if(O.call(Q,T,P,S)){R.push(T)}}}return R}}if(!Array.prototype.forEach){Array.prototype.forEach=function(V,P){var R,Q;if(this==null){throw new TypeError("this is null or not defined")}var U=Object(this);var N=U.length>>>0;if({}.toString.call(V)!="[object Function]"){throw new TypeError(V+" is not a function")}if(P){R=P}Q=0;while(Q<N){var S;if(Q in U){S=U[Q];V.call(R,S,Q,U)}Q++}}}if(!Array.prototype.every){Array.prototype.every=function(O){if(this==null){throw new TypeError()}var R=Object(this);var N=R.length>>>0;if(typeof O!="function"){throw new TypeError()}var Q=arguments[1];for(var P=0;P<N;P++){if(P in R&&!O.call(Q,R[P],P,R)){return false}}return true}}if(!Array.prototype.map){Array.prototype.map=function(X,W){var P,N,Q;if(this==null){throw new TypeError(" this is null or not defined")}var S=Object(this);var U=S.length>>>0;if({}.toString.call(X)!="[object Function]"){throw new TypeError(X+" is not a function")}if(W){P=W}N=new Array(U);Q=0;while(Q<U){var R,V;if(Q in S){R=S[Q];V=X.call(P,R,Q,S);N[Q]=V}Q++}return N}}if(!Array.prototype.some){Array.prototype.some=function(O){if(this==null){throw new TypeError()}var R=Object(this);var N=R.length>>>0;if(typeof O!="function"){throw new TypeError()}var Q=arguments[1];for(var P=0;P<N;P++){if(P in R&&O.call(Q,R[P],P,R)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function k(O){if(this===null||this===j){throw new TypeError("Object is null or undefined")}var P=0,N=this.length>>0,Q;if(typeof O!=="function"){throw new TypeError("First argument is not callable")}if(arguments.length<2){if(N===0){throw new TypeError("Array length is 0 and no second argument")}Q=this[0];P=1}else{Q=arguments[1]}while(P<N){if(P in this){Q=O.call(j,Q,this[P],P,this)}++P}return Q}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(O){if(this==null){throw new TypeError()}var R=Object(this);var N=R.length>>>0;if(typeof O!="function"){throw new TypeError()}if(N===0&&arguments.length===1){throw new TypeError()}var Q=N-1;var P;if(arguments.length>=2){P=arguments[1]}else{do{if(Q in this){P=this[Q--];break}if(--Q<0){throw new TypeError()}}while(true)}while(Q>=0){if(Q in R){P=O.call(j,P,R[Q],Q,R)}Q--}return P}}if(!Function.prototype.bind){Function.prototype.bind=function(N){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var R=Array.prototype.slice.call(arguments,1),Q=this,O=function(){},P=function(){return Q.apply(this instanceof O?this:N,R.concat(Array.prototype.slice.call(arguments)))};O.prototype=this.prototype;P.prototype=new O();return P}}if(!Object.create){Object.create=function(O){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.")}function N(){}N.prototype=O;return new N()}}function x(R,O){function S(Y){function T(Z,aa){return Object.prototype.hasOwnProperty.call(Z,aa)}function X(Z){return typeof Z==="function"}if(typeof Y!=="object"||Y===null){throw new TypeError("bad desc")}var W={};if(T(Y,"enumerable")){W.enumerable=!!R.enumerable}if(T(Y,"configurable")){W.configurable=!!R.configurable}if(T(Y,"value")){W.value=R.value}if(T(Y,"writable")){W.writable=!!Y.writable}if(T(Y,"get")){var V=Y.get;if(!X(V)&&V!=="undefined"){throw new TypeError("bad get")}W.get=V}if(T(Y,"set")){var U=Y.set;if(!X(U)&&U!=="undefined"){throw new TypeError("bad set")}W.set=U}if(("get" in W||"set" in W)&&("value" in W||"writable" in W)){throw new TypeError("identity-confused descriptor")}return W}if(typeof R!=="object"||R===null){throw new TypeError("bad obj")}O=Object(O);var P=Object.keys(O);var Q=[];for(var N=0;N<P.length;N++){Q.push([P[N],S(O[P[N]])])}for(var N=0;N<Q.length;N++){Object.defineProperty(R,Q[N][0],Q[N][1])}return R}if(!Object.keys){Object.keys=(function(){var P=Object.prototype.hasOwnProperty,Q=!({toString:null}).propertyIsEnumerable("toString"),O=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],N=O.length;return function(T){if(typeof T!=="object"&&typeof T!=="function"||T===null){throw new TypeError("Object.keys called on non-object")}var R=[];for(var U in T){if(P.call(T,U)){R.push(U)}}if(Q){for(var S=0;S<N;S++){if(P.call(T,O[S])){R.push(O[S])}}}return R}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(N){return N.__proto__}}else{Object.getPrototypeOf=function(N){return N.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}var j=void (0);if(window.sap!==j&&window.sap.riv!==j&&window.sap.riv.module!==j){return}var n=jQuery!==j?true:false;var o=function(N){if(n){if(jQuery.holdReady){jQuery.holdReady(N)}else{if(N){jQuery.readyWait+=1}else{jQuery.ready(true)}}}};var f=j;var H="/";var h=document.getElementsByTagName("script");var s=function(){};if(h.length&&h[h.length-1].getAttribute("src")&&h[h.length-1].getAttribute("src").lastIndexOf("sap.viz.base.js")){f=h[h.length-1];if(((f.getAttribute("trace")||"").toLowerCase()==="true")&&(typeof console!==j)){s=function(N){console.log(N)}}var H=f.getAttribute("base-url");if(!H){var r=f.getAttribute("src");H=r.substring(0,r.lastIndexOf("/"))}if(H.charAt(H.length-1)!=="/"){H=H+"/"}}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var F=0,i=1,l=2,A=3;var c=Object.prototype.hasOwnProperty;var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var M=function(N){return N==null?String(N):a[Object.prototype.toString.call(N)]||"object"};var m=function(N){return M(N)==="function"};var u=Array.isArray||function(N){return M(N)==="array"};var g=function(N){return M(N)==="string"};var E=function(N){return N&&typeof N==="object"&&"setInterval" in N};var L=function(N){return N==null||!/\d/.test(N)||L(N)};var K=function(N){return !L(parseFloat(N))&&isFinite(N)};var t=function(N){return typeof(N)!=="undefined"};var p=function(N){return typeof(N)==="undefined"};var J=function(O){if(!O||M(O)!=="object"||O.nodeType||E(O)){return false}if(O.constructor&&!c.call(O,"constructor")&&!c.call(O.constructor.prototype,"isPrototypeOf")){return false}var N;for(N in O){}return N===j||c.call(O,N)};var B=function(O){for(var N in O){return false}return true};var e=function(O,N){this._qname=O;this._version=N;this._moduleSetupFunc=j;this._status=F;this._moduleObject=j;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];o(true)};e.prototype.moduleObject=function(N){return this._moduleObject};e.prototype.setupFunction=function(N){if(t(N)){this._moduleSetupFunc=N;return this}else{return this._moduleSetupFunc}};e.prototype.setModuleObject=function(N){this._moduleObject=N};e.prototype.qname=function(){return this._qname};e.prototype.version=function(){return this._version};e.prototype.status=function(N){if(N!==j){this._status=N;return this}else{return this._status}};e.prototype.dependentModules=function(N){if(t(N)){this._depList=N;return this}else{return this._depList}};e.prototype.exportToGlobal=function(N){if(t(N)){this._exportToGlobal=N;return this}else{return this._exportToGlobal}};e.prototype.waitUntilDefined=function(N){this._pendingDefTaskList.push(N)};e.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var I={};var D={};var q=function(P){if(!D.hasOwnProperty(P)){D[P]=false;var Q=document.getElementsByTagName("head")[0]||document.documentElement;var O=document.createElement("script");O.type="text/javascript";O.src=P;var N=false;O.onload=O.onreadystatechange=function(){if(!N&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){N=true;O.onload=O.onreadystatechange=null;if(Q&&O.parentNode){Q.removeChild(O)}D[P]=true}};if(O.addEventListener){O.addEventListener("error",function(){throw new Error("Loading "+P+" failed.")},true)}Q.insertBefore(O,Q.firstChild)}return j};var d=function(O){if(O===j||typeof O!=="string"){return false}var Q=O.split(".");if(Q.length>3){return false}for(var P=0,N=Q.length;P<N;P++){if(parseInt(Q[P])===NaN){return false}}return true};var y=function(Q,N){var O=Q.split(".");var P=O.splice(O.length-1,1);return H+O.join("/")+"/"+P+"."+N+".js"};var z=function(T){var N;if(m(T.setupFunction())){var V=[];for(var R=0,Q,Y=T.dependentModules(),U=Y.length;R<U;R++){Q=Y[R];V.push(I[Q.qname][Q.version].moduleObject())}N=T.setupFunction().apply(window,V)}else{N=T.moduleObject()}if(T.exportToGlobal()){var W=T.qname().split(".");var S=window;for(var R=0,P,U=W.length;R<U;R++){P=W[R];if(R===U-1){S[P]=N}else{S[P]=S[P]||{};S=S[P]}}}T.setModuleObject(N);T.status(l);s(T.qname()+" "+T.version()+" loaded");var X=T.getPendingDefTasks();while(X.length){var O=X.pop();O(T)}o(false)};var v=function(O,N){return(function(P){delete O[P.qname()][P.version()];if(B(O[P.qname()])){delete O[P.qname()]}if(B(O)){z(N)}})};sap.riv.module=function(P,Y,T){if(p(P)||p(P.qname)||p(P.version)){throw new Error("Bad Arguments: you have to specify the qname and version for the module.")}if(!g(P.qname)||!d(P.version)){throw new Error("Invalid qname or version string")}if(arguments.length===2){if(!J(Y)&&!m(Y)){throw new Error("You must specify a plain object or a module setup function")}T=Y;Y=[]}if(arguments.length===3){if(!u(Y)||(!J(T)&&!m(T))){throw new Error("Dependencies must be array, and you must specify an plain object or a module setup function")}}var N=P.qname,X=P.version,U=p(P.exported)?false:P.exported,V;if(!c.call(I,N)||!c.call(I,X)){I[N]=I[N]||{};I[N][X]=I[N][X]||new e(N,X)}V=I[N][X];if(V.status()===F){if(typeof T==="object"){V.exportToGlobal(U).setModuleObject(T)}else{var R=[];for(var S=0,O,W=Y.length;S<W;S++){O=Y[S];if(!g(O.qname)||!d(O.version)){throw new Error("You must specify qname and version for the depending module")}R.push({qname:O.qname,version:O.version})}V.exportToGlobal(U).dependentModules(R).setupFunction(T)}}if(V.status()===l||V.status()===i){return}V.status(i);if(V.dependentModules().length===0){z(V);return}else{var Q={};for(var S=0,Z,R=V.dependentModules(),W=R.length;S<W;S++){Z=R[S];if(!(c.call(I,Z.qname)&&c.call(I[Z.qname],Z.version))||(I[Z.qname][Z.version].status()!==l)){Q[Z.qname]=Q[Z.qname]||{};Q[Z.qname][Z.version]=Q[Z.qname][Z.version]||{qname:Z.qname,version:Z.version,url:Z.url||y(Z.qname,Z.version)}}}if(B(Q)){z(V);return}else{for(var N in Q){for(var X in Q[N]){if(!c.call(I,N)||!c.call(I[N],X)){I[N]=I[N]||{};I[N][X]=I[N][X]||new e(N,X);I[N][X].waitUntilDefined(v(Q,V));q(Q[N][X].url)}else{I[N][X].waitUntilDefined(v(Q,V))}}}}}};var w=function(R,O){var P=[];for(var Q=0,S,N=O.length;Q<N;Q++){S=O[Q];P.push(I[S.qname][S.version].moduleObject())}R.apply(window,P)};var G=function(O,P,N){return(function(Q){delete O[Q.qname()][Q.version()];if(B(O[Q.qname()])){delete O[Q.qname()]}if(B(O)){w(P,N)}})};sap.riv.require=function(R,P){if(arguments.length===1){if(!m(R)){throw new Error("You have to specify a function to run")}P=R;R=[]}if(arguments.length===2){if(!u(R)||!m(P)){throw new Error("the first argument has to be array of depending modules, the second argument should be function type")}}if(!R.length){w(P,R);return}var T={};for(var Q=0,S,N=R.length;Q<N;Q++){S=R[Q];if(!(c.call(I,S.qname)&&c.call(I[S.qname],S.version))||(I[S.qname][S.version].status()!==l)){T[S.qname]=T[S.qname]||{};T[S.qname][S.version]=T[S.qname][S.version]||{qname:S.qname,version:S.version,url:S.url||y(S.qname,S.version)}}}if(B(T)){w(P,R);return}else{for(var U in T){for(var O in T[U]){if(!c.call(I,U)||!c.call(I[U],O)){I[U]=I[U]||{};I[U][O]=I[U][O]||new e(U,O);I[U][O].waitUntilDefined(G(T,P,R));q(T[U][O].url)}else{I[U][O].waitUntilDefined(G(T,P,R))}}}}};var C=function(P){if(P&&/\S/.test(P)){var O=document.getElementsByTagName("head")[0]||document.documentElement,N=document.createElement("script");N.type="text/javascript";try{N.appendChild(document.createTextNode(P))}catch(Q){N.text=P}O.insertBefore(N,O.firstChild);O.removeChild(N)}};sap.riv.setBaseUrl=function(N){H=N};if(f){var b=f.innerHTML;if(b){C(b)}}})();sap.riv.module({qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},[],function Setup(){var c={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"};var b=Object.prototype.hasOwnProperty;var e=/\d/;var d=function(f){return f==null?String(f):c[Object.prototype.toString.call(f)]||"object"};var a={isFunction:function(f){return d(f)==="function"},isArray:Array.isArray||function(f){return d(f)==="array"},isString:function(f){return d(f)==="string"},isNonEmptyString:function(f){return this.isString(f)&&f.length!==0},isEmptyString:function(f){return this.isString(f)&&f.length===0},isNaN:function(f){return f===null||f===undefined||!e.test(f)||isNaN(f)},isNumber:function(f){return !this.isNaN(parseFloat(f))&&isFinite(f)},isDefined:function(f){return typeof(f)!=="undefined"},isUndefined:function(f){return typeof(f)==="undefined"},isPlainObject:function(g){if(!g||d(g)!=="object"||g.nodeType||(g&&typeof g==="object"&&"setInterval" in g)){return false}if(g.constructor&&!b.call(g,"constructor")&&!b.call(g.constructor.prototype,"isPrototypeOf")){return false}var f;for(f in g){}return f===undefined||b.call(g,f)},isEmptyObject:function(g){for(var f in g){return false}return this.isPlainObject(g)},isExist:function(f){if((typeof(f)==="undefined")||(f===null)){return false}return true}};return a});sap.riv.module({qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var d=/\{(\d+)\}/g;var b=function(){};var c={noop:b,unsupported:function(){throw new Error("Unsupported function!")},unimplemented:function(){throw new Error("Unimplemented function!")},error:function(f){var e=arguments;if(e[0]){var f=e[0].replace(d,function(g,h){return e[parseInt(h)+1]});throw f}else{throw"unknown error!"}},createCallChain:function(){var e=arguments.length;if(e>1){var g=[];for(var f=0;f<e;f++){if(a.isFunction(arguments[f])){g.push(arguments[f])}else{c.error("Could not create call chain for non-function object")}}return(function(){for(var h=0;h<e;h++){g[h].apply(this,arguments)}})}else{return a.isFunction(arguments[0])?arguments[0]:b}}};return c});sap.riv.module({qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a,j){var f=function(){};var d=/^\s+/,h=/\s+$/,g=/^[\],:{}\s]*$/,k=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c=/(?:^|:|,)(?:\s*\[)+/g;var b=b?function(l){return l==null?"":b.call(l)}:function(l){return l==null?"":l.toString().replace(d,"").replace(h,"")};var e={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var m=Math.random()*16|0,l=n=="x"?m:m&3|8;return l.toString(16)})},proxy:function(n,m,l){if(arguments.length===2){if(typeof m==="string"){l=n;n=l[m];m=undefined}else{if(m&&!a.isFunction(m)){l=m;m=undefined}}}if(!m&&n){m=function(){return n.apply(l||this,arguments)}}return m},extend:function(){var u,n,l,m,r,s,q=arguments[0]||{},p=1,o=arguments.length,t=false;if(typeof q==="boolean"){t=q;q=arguments[1]||{};p=2}if(typeof q!=="object"&&!a.isFunction(q)){q={}}if(o===p){q=this;--p}for(;p<o;p++){if((u=arguments[p])!=null){for(n in u){l=q[n];m=u[n];if(q===m){continue}if(t&&m&&(a.isPlainObject(m)||(r=a.isArray(m)))){if(r){r=false;s=l&&a.isArray(l)?l:[]}else{s=l&&a.isPlainObject(l)?l:{}}q[n]=e.extend(t,s,m)}else{if(m!==undefined){q[n]=m}}}}}return q},each:function(o,s,n){var m,p=0,q=o.length,l=q===undefined||a.isFunction(o);if(n){if(l){for(m in o){if(s.apply(o[m],n)===false){break}}}else{for(;p<q;){if(s.apply(o[p++],n)===false){break}}}}else{if(l){for(m in o){if(s.call(o[m],m,o[m])===false){break}}}else{for(var r=o[0];p<q&&s.call(r,p,r)!==false;r=o[++p]){}}}return o},parseJSON:function(l){if(typeof l!=="string"||!l){return null}l=b(l);if(g.test(l.replace(k,"@").replace(i,"]").replace(c,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(l):(new Function("return "+l))()}else{a.error("Invalid JSON: "+l)}},derive:function(o,s){var r;var v;if(typeof o==="function"){if(typeof s==="function"){if(s.prototype.constructor==Object.prototype.constructor){s.prototype.constructor=s}f.prototype=s.prototype;var q=new f();var l=o.prototype;for(var m in l){if(l.hasOwnProperty(m)){q[m]=l[m]}}r=j.createCallChain(s,o);v=r.prototype=q;v.constructor=r;v.superclass=s.prototype;v.callParent=(function(){var p=[];return function(){var A=arguments[0];if(!p.length){p.push({funcName:A,thisObj:this,level:0})}else{if(p[p.length-1].funcName!==A||p[p.length-1].thisObj!==this){p.push({funcName:A,thisObj:this,level:0})}}var z=p[p.length-1].level;var y=this.superclass;while(z--){y=y.superclass}p[p.length-1].level++;var w=[];for(var x=1;x<arguments.length;x++){w.push(arguments[x])}y[A].apply(p[p.length-1].thisObj,w);p[p.length-1].level--;if(!p[p.length-1].level){p.pop()}}})();r.superclazz=s;return r}else{if(typeof s==="object"){var n=o;var t=s;var u=n.prototype;f.prototype=u;var q=new f();r=j.createCallChain(n,t.constructor);v=r.prototype=q;for(m in t){if(t.hasOwnProperty(m)){v[m]=t[m]}}v.constructor=r;v.superclass=n.prototype;v.callParent=(function(){var p=[];return function(){var A=arguments[0];if(!p.length){p.push({funcName:A,thisObj:this,level:0})}else{if(p[p.length-1].funcName!==A||p[p.length-1].thisObj!==this){p.push({funcName:A,thisObj:this,level:0})}}var z=p[p.length-1].level;var y=this.superclass;while(z--){y=y.superclass}p[p.length-1].level++;var w=[];for(var x=1;x<arguments.length;x++){w.push(arguments[x])}y[A].apply(p[p.length-1].thisObj,w);p[p.length-1].level--;if(!p[p.length-1].level){p.pop()}}})();r.superclazz=n}}}return r}};return e});sap.riv.module({qname:"sap.viz.data.description.DataContainer",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"}],function Setup(b){var a=function(c){this._uId=c;this._isFake=false;this._infos=null};a.prototype.getId=function(){return this._uId};a.prototype.fake=function(c){if(!arguments.length){return this._isFake}this._isFake=c};a.prototype.infos=function(c){if(!arguments.length){return this._infos}this._infos=c};return a});sap.riv.module({qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a,c){function b(d){this._bindingInfo=d;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}b.prototype.addAnalysisAxis=function(d){if(d){this._aa.push(d)}};b.prototype.addMeasureValuesGroup=function(d){if(d){this._mg.push(d)}};b.prototype.getAnalysisAxisDataByIdx=function(d){if(!arguments.length){return this._aa}for(var e=0;e<this._aa.length;e++){if(this._aa[e].index===d){return this._aa[e]}}return null};b.prototype.getMeasureValuesGroupDataByIdx=function(d){if(!arguments.length){return this._mg}for(var e=0;e<this._mg.length;e++){if(this._mg[e].index===d){return this._mg[e]}}return null};b.prototype.createDataAdapterForModule=function(d){var g=new b();var f;if(d&&d.aa){for(f=0;f<d.aa.length;f++){var h=this.getAnalysisAxisDataByIdx(d.aa[f]-1);if(h){g.addAnalysisAxis({index:f,values:h.values})}}}if(d&&d.mg){for(f=0;f<d.mg.length;f++){var e=this.getMeasureValuesGroupDataByIdx(d.mg[f]-1);if(e){g.addMeasureValuesGroup({index:f,values:e.values})}}}return g};b.prototype.getBindingInfo=function(){return this._bindingInfo};b.prototype.fakeData=function(d){if(!arguments.length){return this._fakeData}this._fakeData=d};b.prototype.dataPointCount=function(d){if(!arguments.length){return this._dataPointCount}this._dataPointCount=d};b.prototype.emptyDataset=function(d){if(!arguments.length){return this._emptyDataset}this._emptyDataset=d};return b});sap.riv.module({qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"},[],function Setup(){var a={drawBound:function(d,c,b){if(d.select(".bound").node()==null){d.insert("rect",":first-child").attr("class","bound").attr("width",c).attr("height",b).attr("visibility","hidden")}else{d.select(".bound").attr("width",c).attr("height",b)}}};return a});sap.riv.module({qname:"sap.viz.util.Objects",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var b={extend:function(){var m,e,c,d,j,k,h=arguments[0]||{},g=1,f=arguments.length,l=false;if(typeof h==="boolean"){l=h;h=arguments[1]||{};g=2}if(typeof h!=="object"&&!a.isFunction(h)){h={}}if(f===g){h=this;--g}for(;g<f;g++){if((m=arguments[g])!==null){for(e in m){if(m.hasOwnProperty(e)){c=h[e];d=m[e];if(h===d){continue}if(l&&d&&(a.isPlainObject(d))){if(j){j=false;k=c&&a.isArray(c)?c:[]}else{k=c&&a.isPlainObject(c)?c:{}}h[e]=b.extend(l,k,d)}else{if(d!==undefined){h[e]=d}}}}}}return h},equal:function(f,d){if(typeof arguments[0]!==typeof arguments[1]){return false}if(f===undefined){if(d!==undefined){return false}}if(f===null){if(d!==null){return false}}if(f instanceof Array){if(!(d instanceof Array)){return false}if(f.length!==d.length){return false}var h=true;for(var e=0;e<f.length;e++){if(typeof f[e]!==typeof d[e]){return false}if(typeof f[e]==="boolean"||typeof f[e]==="number"||typeof f[e]==="string"||typeof f[e]==="undefined"||f[e]===null){h=(f[e]===d[e])}else{if(f[e] instanceof Object){h=this.equal(f[e],d[e])}else{return false}}if(!h){return false}}return true}if(f instanceof Object&&d instanceof Object&&typeof f!=="function"&&typeof d!=="function"){if(d===null||d instanceof Array){return false}var j=0,g=0;var c;for(c in f){if(f.hasOwnProperty(c)){if(typeof f[c]==="boolean"||typeof f[c]==="number"||typeof d[c]==="string"||typeof f[c]==="undefined"||f[c]===null){if(f[c]!==d[c]){return false}}else{if(!this.equal(f[c],d[c])){return false}}j++}}for(c in d){if(d.hasOwnProperty(c)){g++}}if(j!==g){return false}return true}return f===d}};return b});sap.riv.module({qname:"sap.viz.modules.dispatch",version:"4.0.0",exported:true},[],function Setup(){return d3.dispatch});sap.riv.module({qname:"sap.viz.base.Repository",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(){var h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){var l=Math.random()*16|0,k=m=="x"?l:l&3|8;return k.toString(16)})};var g={ID_REGISTERED:1,OBJ_REGISTERED:2,ID_NEEDED:3,ID_NOT_REGISTERED:4,OBJ_NULL:5};var j=function(l,m){var k={};k.type=l;switch(l){case g.ID_REGISTERED:k.message="ID '"+m+"' has been registered.";break;case g.OBJ_REGISTERED:k.message="The vizObj has been registered, its Id is '"+m+"'.";break;case g.ID_NEEDED:k.message="Please specify Id";break;case g.ID_NOT_REGISTERED:k.message="No vizObj was registered with Id '"+m+"'";break;case g.OBJ_NULL:k.message="Null object is not allowed";break}return k};var a={};var e=function(m,l){if(!l){throw j(g.OBJ_NULL)}m=m?m:h();if(a[m]){throw j(g.ID_REGISTERED,m)}for(var k in a){if(l==a[k]){throw j(g.OBJ_REGISTERED,k)}}a[m]=l;return m};var b=function(k){if(!k){throw j(g.ID_NEEDED)}if(!a[k]){throw j(g.ID_NOT_REGISTERED,k)}delete a[k]};var d=function(k){if(!k){throw j(g.ID_NEEDED,k)}return a[k]};var i=function(){var l=[];for(var k in a){l.push(k)}return l};var c=function(k){var l=h();return k?k+"_"+l:l};var f={register:e,unregister:b,get:d,getAll:i,newId:c};return f});sap.riv.module({qname:"sap.viz.modules.background",version:"4.0.0",exported:true},[{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,b,c,d){return function(g,q){var j="viz-plot-background-border",p="viz-plot-background";var i=a.newId();var h=0,n=0;var l=q.effectManager,k,r;var e=new b("initialized");function f(v){r=v;d.drawBound(v,h,n);if(k.visible){o();m();var u=r.select("#background-rect-"+i);if(u.empty()){u=r.append("svg:rect").attr("id","background-rect-"+i)}var t=l.register({graphType:"background",fillColor:k.style.fillColor,drawingEffect:k.drawingEffect,direction:k.direction});u.attr("x",0).attr("y",0).attr("width",h).attr("height",n).attr("fill",t);var w=[];if(k.border.left.visible){w.push({x1:0,y1:0,x2:0,y2:n})}if(k.border.right.visible){w.push({x1:h,y1:0,x2:h,y2:n})}if(k.border.top.visible){w.push({x1:0,y1:0,x2:h,y2:0})}if(k.border.bottom.visible){w.push({x1:0,y1:n,x2:h,y2:n})}var x=v.selectAll("."+j).data(w);x.enter().append("svg:line").attr("class",j);x.exit().remove();x.attr("x1",function(y){return y.x1}).attr("y1",function(y){return y.y1}).attr("x2",function(y){return y.x2}).attr("y2",function(y){return y.y2})}else{var s=r.node();while(s.hasChildNodes()){s.removeChild(s.firstChild)}}e.initialized();return f}f.properties=function(s){if(!arguments.length){return k}c.extend(true,k,s);return f};f.size=function(s){if(arguments.length===0){return{width:h,height:n}}h=s.width;n=s.height;return f};f.width=function(s){if(arguments.length===0){return h}h=s;return f};f.height=function(s){if(arguments.length===0){return n}n=s;return f};f.data=function(s){if(!arguments.length){return{}}return f};f.parent=function(){return null};f.dispatch=function(s){if(!arguments.length){return e}e=s;return f};function m(){var u=r.select("#background-defs-"+i);if(u.empty()){u=r.insert("defs",":first-child").attr("id","background-defs-"+i)}var t=u.select("style");if(t.empty()){t=u.insert("style",":first-child");t[0][0].setAttribute("type","text/css")}var s="."+j+"{"+q.styleManager.cssText(j)+"}";t[0][0].textContent=s}function o(){if(!k.style){k.style={}}var s=q.styleManager.query(p);if(s){if(s.fill){k.style.fillColor=s.fill}}}k=g.props(null);return f}});sap.riv.module({qname:"sap.viz.Constants",version:"4.0.0"},[],function Setup(){var a={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]};a.SAPColor=a.SAPColorSingleAxis;return a});sap.riv.module({qname:"sap.viz.Locale",version:"4.0.0",exported:true},[],function Setup(f,b){var a="en",c=[];function d(g){c.forEach(function(h){h.fn.apply(h.scope,[g])})}var e={constructor:function(){return},locale:function(g){if(!arguments.length){return a}a=g;d(a);return e},addListener:function(g){c.push(g);return e},removeListener:function(h){var g=c.indexOf(h);if(g!=-1){c.splice(g,1)}return e}};return e});sap.riv.module({qname:"sap.viz.lang.langManager",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.Locale",version:"4.0.0"}],function Setup(h,e,b,a){function o(t,q,v){var u=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type="text/javascript";s.src=t;var r=false;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){r=true;s.onload=s.onreadystatechange=null;if(u&&s.parentNode){u.removeChild(s)}q()}};if(s.addEventListener){s.addEventListener("error",function(){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s);v()},true)}u.insertBefore(s,u.firstChild)}function p(s,u,x,q,w){if(u<s.length){var t=s[u]+"language_"+x+".js";var r=function(){p(s,u+1,x,q,w)};o(t,r,r)}else{var v=d(x);if(v){q(v)}else{w()}}}function m(){var q=d3.map();q.set("ar_AE","ar");q.set("ar_EG","ar");q.set("ar_SA","ar");q.set("bg_BG","bg");q.set("ca_ES","ca");q.set("cs_CZ","cs");q.set("da_DK","da");q.set("de_CH","de");q.set("de_AT","de");q.set("de_BE","de");q.set("de_LU","de");q.set("de_DE","de");q.set("el_CY","el");q.set("el_GR","el");q.set("en_AU","en");q.set("en_CA","en");q.set("en_GB","en");q.set("en_HK","en");q.set("en_ID","en");q.set("en_IE","en");q.set("en_IN","en");q.set("en_IS","en");q.set("en_MY","en");q.set("en_NZ","en");q.set("en_PH","en");q.set("en_SG","en");q.set("en_US","en");q.set("en_ZA","en");q.set("es_AR","es");q.set("es_BO","es");q.set("es_CL","es");q.set("es_CO","es");q.set("es_ES","es");q.set("es_MX","es");q.set("es_PE","es");q.set("es_UY","es");q.set("es_VE","es");q.set("et_EE","et");q.set("fa_IR","fa");q.set("fi_FI","fi");q.set("fr_BE","fr");q.set("fr_CA","fr");q.set("fr_CH","fr");q.set("fr_FR","fr");q.set("fr_LU","fr");q.set("he_IL","iw");q.set("hr_HR","hr");q.set("hu_HU","hu");q.set("it_CH","it");q.set("it_IT","it");q.set("ja_JP","ja");q.set("ko_KR","ko");q.set("lt_LT","lt");q.set("lv_LV","lv");q.set("nl_BE","nl");q.set("nl_NL","nl");q.set("nn_NO","no");q.set("pl_PL","pl");q.set("pt_BR","pt");q.set("pt_PT","pt");q.set("ro_RO","ro");q.set("ru_KZ","ru");q.set("ru_RU","ru");q.set("ru_UA","ru");q.set("sh_ME","sr");q.set("sh_RS","sr");q.set("sk_SK","sk");q.set("sl_SL","sl");q.set("sv_SE","sv");q.set("th_TH","th");q.set("tr_CY","tk");q.set("tr_TR","tk");q.set("uk_UA","uk");q.set("vi_VI","vi");q.set("zf_TW","zh_TW");q.set("zh_CN","zh_CN");q.set("zh_HK","zh_CN");q.set("ar","ar");q.set("bg","bg");q.set("ca","ca");q.set("cs","cs");q.set("da","da");q.set("de","de");q.set("el","el");q.set("en","en");q.set("es","es");q.set("et","et");q.set("fi","fi");q.set("fr","fr");q.set("iw","iw");q.set("hr","hr");q.set("hu","hu");q.set("it","it");q.set("ja","ja");q.set("ko","ko");q.set("lt","lt");q.set("lv","lv");q.set("nl","nl");q.set("no","no");q.set("pl","pl");q.set("pt","pt");q.set("ro","ro");q.set("ru","ru");q.set("sr","sr");q.set("sk","sk");q.set("sl","sl");q.set("sv","sv");q.set("th","th");q.set("tk","tk");q.set("uk","uk");q.set("vi","vi");q.set("zh_TW","zh_TW");return q}var k=[];var l=m();function g(q){k.forEach(function(r){r.fn.apply(r.scope,[c])});if(q){q()}}function d(q){return n[q]}var n={};var c=n.dev={IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TREEMAPCHART:"Tree Map",IDS_GEOBUBBLE:"Geo Bubble Chart",IDS_GEOPIE:"Geo Pie Chart",IDS_CHOROPLETH:"Geo Choropleth Chart",IDS_MULTIGEOBUBBLE:"Multiple Geo Bubble Chart",IDS_MULTICHOROPLETH:"Multiple Geo Choropleth Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tag Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",IDS_MEKKOCHART:"Mekko Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_AREACHART:"Area Chart",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_MULTIAREACHART:"Multi Area Chart",IDS_MULTIHORIZONTALAREACHART:"Multi Horizontal Area Chart",IDS_MULTIPERCENTAGEAREACHART:"Multi 100% Area Chart",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multi 100% Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart"};var j="dev",i="en";var f={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return j},register:function(q){j=q.id;c=n[q.id]=e.extend(true,n[q.id],q.value);return f},apply:function(r,q){if(r){r=l.get(r);p(f.loadPath,0,r,function(){g(q)},function(){p(f.loadPath,0,i,function(){g(q);h.error("Loading language {0} failed.",r)},function(){j="dev",c=n.dev;g(q);h.error("Loading language {0}, {1} failed.",r,i)})})}return f},get:function(q){if(c[q]){return c[q]}return n.dev[q]},addListener:function(q){k.push(q);return f},removeListener:function(r){var q=k.indexOf(r);if(q!=-1){k.splice(q,1)}return f}};a.addListener({fn:function(q,r){f.apply(q,r)},scope:f});return f});sap.riv.module({qname:"sap.viz.data.description.DimensionLabels",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.data.description.DataContainer",version:"4.0.0"}],function Setup(c,b){var a=c.derive(b,{constructor:function(e,f,d){this._type=f;this._values=d},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:"sap.viz.data.feed.feed",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a){return function(s,o,e,m,p,d,c,l,n){var g=s;var u=o;var q=e;var r=m;var t=p;var k=d;var i=c;var b=l;var f=n;var j=[];function h(){return h}h.feedId=function(v){if(!arguments.length){return g}g=v;return h};h.feedName=function(v){if(!arguments.length){return u}u=v;return h};h.type=function(v){if(!arguments.length){return q}q=v;return h};h.min=function(v){if(!arguments.length){return r}r=v;return h};h.max=function(v){if(!arguments.length){return t}t=v;return h};h.analysisAxisIndex=function(v){if(!arguments.length){return k}k=v;return h};h.measureGroupIndex=function(v){if(!arguments.length){return b}b=v;return h};h.acceptMND=function(v){if(!arguments.length){return i}i=v;return h};h.maxStackedDims=function(v){if(!arguments.length){return f}f=v;return h};h.data=function(v){if(!arguments.length){return j}j=v;return h};h.addData=function(v){j.push(v);return h};h.getMeasureNames=function(){var w=b-1;var x=[];for(var v=0;v<j.length;v++){x.push({val:j[v]["name"],ctx:{mg:w,mi:v}})}return x};h.getMeasureValues=function(){var v=[];if(j.length>0){return j[0].getMeasureValues()}return v};h.getMeasureCount=function(){return j.length};h.hasMNDFeeded=function(){var w=h.data();for(var v=0;v<w.length;v++){if(w[v].getType()==="measureNamesDimension"){return true}}return false};h.hasFeeded=function(){return h.data().length>0?true:false};h.getIndex=function(){return h.analysisAxisIndex()?h.analysisAxisIndex():h.measureGroupIndex()};h.getDataCount=function(){if(h.type()==="Dimension"){return h.data().length}else{return h.data().length>0?h.data()[0].getMeasureValues().length:0}};return h}});sap.riv.module({qname:"sap.viz.data.feed.feeder",version:"4.0.0"},[{qname:"sap.viz.data.feed.feed",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.data.description.DimensionLabels",version:"4.0.0"}],function Setup(c,d,a,b){return function(s,m,u){var n="Dimension";var h="Measure";var t="feedId";var r="binding";var p="type";var w="index";var i=[];var o=[];var e=[];var f={};var v=[];function g(){return g}g.init=function(){j(s);if(m){if(u){k(m,u)}else{l(m)}g.checkValid()}};g.getFeeds=function(){return e};g.findFeed=function(x){return f[x]};g.getAnalysisAxisIndex=function(y){for(var x=0;x<i.length;x++){if(i[x]===y){return x}}};g.getMeasureValuesGroupIndex=function(y){for(var x=0;x<o.length;x++){if(o[x]===y){return x}}};g.getMeasureValuesGroupFeeds=function(){return o};g.checkValid=function(){for(var x=0;x<e.length;x++){var y=e[x];var z;if(y.type()==="Dimension"){z=y.getDataCount();if(z<y.min()||(y.max()!==Number.POSITIVE_INFINITY&&z>y.max())){d.error(y.feedId()+": does not meet min or max number of feed definition")}}else{if(y.type()==="Measure"){z=y.getDataCount();if(z<y.min()||(y.max()!==Number.POSITIVE_INFINITY&&z>y.max())){d.error(y.feedId()+": does not meet min or max number of feed definition")}}else{d.error(y.feedId()+": wrong feed type")}}}};g.getBindingInfo=function(){return v};function j(C){if(a.isArray(C)){var z=0;for(var B=0;B<C.length;B++){var y=C[B]["type"];var x=C[B]["aaIndex"];var A=C[B]["id"];if(y!==n&&y!==h){d.error("wrong feed type in feed definition: "+C[B]["id"])}if(C[B]["type"]===n){if(C[B]["aaIndex"]<=0){d.error("wrong analysis axis index in feed definition: "+C[B]["id"])}z++}if(C[B]["type"]===h){if(C[B]["mgIndex"]<=0){d.error("wrong  measure axis index in feed definition: "+C[B]["id"])}}var D=e.push(c(A,C[B]["name"],y,C[B]["min"],C[B]["max"],x,C[B]["acceptMND"],C[B]["mgIndex"],C[B]["maxStackedDims"]));f[A]=e[D-1]}for(B=0;B<z;B++){v[B]=false}}}function l(C){var B=C.getAnalysisAxisCount();var A;for(var x=0;x<B;x++){A=q(e,n,x+1);if(A){var y=C.getAnalysisAxisByIdx(x);if(a.isExist(A.maxStackedDims())&&y.getDimensionLabels().length>A.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+A.feedId()+" feed")}i[x]=A;v[x]=true;A.addData(y)}}var z=C.getMeasureValuesGroupCount();for(x=0;x<z;x++){A=q(e,h,x+1);if(A){o[x]=A;A.addData(C.getMeasureValuesGroupByIdx(x))}}}function q(x,A,y){for(var z=0;z<x.length;z++){if(x[z].type()===A&&x[z].getIndex()===y){return x[z]}}return null}function k(C,H){var A;for(var E=0;E<H.length;E++){var F=H[E];var B=F[t];if(!B){d.error("Invalid Feeding: no feed id")}var J=f[B];if(!J){d.error("Invalid Feeding: no "+B+" feed")}var y=F[r];for(var D=0;D<y.length;D++){var I=y[D][p];var G=y[D][w];if(I==="analysisAxis"){var x=C.getAnalysisAxisByIdx(G-1);if(!x){d.error("could not find axis "+G+" in data set"+B+" feed")}if(a.isExist(J.maxStackedDims())&&x.getDimensionLabels().length>J.maxStackedDims()){d.error("Invalid Feeding: exceed max stacked dimension number "+B+" feed")}A=J.getDataCount();if(J.max()!==Number.POSITIVE_INFINITY&&A>=J.max()){d.error(B+" feed could not accept more data containers")}J.addData(x);i[G-1]=J;v[J.getIndex()-1]=true}else{if(I==="measureValuesGroup"){var z=C.getMeasureValuesGroupByIdx(G-1);if(!z){d.error("could not find measure values group "+G+" in data set"+B+" feed")}A=J.getDataCount();if(J.max()!==Number.POSITIVE_INFINITY&&A>=J.max()){d.error(B+" feed could not accept more data containers")}J.addData(z);o[G-1]=J}else{if(I==="measureNamesDimension"){if(J.acceptMND()<0){d.error("could not accpet MeasureNamesDimension "+B+" feed")}A=J.getDataCount();if(J.max()!==Number.POSITIVE_INFINITY&&A>=J.max()){d.error(B+" feed could not accept more data containers")}J.addData(new b("","measureNamesDimension",""))}else{d.error("Invalid Binding")}}}}}}g.init();return g}});sap.riv.module({qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.data.feed.feeder",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(b,e,d){var c=function(){var g=[];var h={};var f=e.get("IDS_ISNOVALUE");var i=function(j){if(j===null||j===undefined){return f}else{return j}};h.generateTooltipData=function(n,l,q,p,k,m){var o=function(Q){var N;var y=false;if(l[q][0]!==undefined&&l[q][0].length>0){N=d3.merge([l[q][0],l[q][1]]);y=true}else{N=l[q]}var E={body:[],footer:[]};var G=N.length;var z=false;var C=0;var J=[Q.getMeasureValuesGroupDataByIdx(0),Q.getMeasureValuesGroupDataByIdx(1)];var O=[Q.getAnalysisAxisDataByIdx(0),Q.getAnalysisAxisDataByIdx(1)];var F=a(O);if(J[0]&&J[1]){z=true;C=J[0].values.length}var u=false;var w;var K=0,I=0,H=0,L;var t;var B;var x;var P;var M;var D;if(!F.hasMNDonCate&&!F.hasMNDonColor){if(O[1]){t=0;if(J[0]){for(K=0;K<J[0].values.length;++K){B={name:i(J[0].values[K].col),val:[]};for(I=0,L=J[0].values[K].rows.length;I<L;++I){x=t*L+I;P=[];for(H=0;H<O[1].values.length;++H){P.push(O[1].values[H].rows[I])}M={shape:k[x%k.length],color:p[x%p.length],label:P,value:N[x].val===" "?f:m===undefined?i(N[x].val):m(N[x].val),valueAxis:0};B.val.push(M)}E.body.push(B);++t}}if(J[1]){for(K=0;K<J[1].values.length;++K){B={name:i(J[1].values[K].col),val:[]};for(I=0,L=J[1].values[K].rows.length;I<L;++I){x=t*L+I;P=[];for(H=0;H<O[1].values.length;++H){P.push(O[1].values[H].rows[I])}M={shape:k[x%k.length],color:p[x%p.length],label:P,value:N[x].val===" "?f:m===undefined?i(N[x].val):m(N[x].val),valueAxis:1};B.val.push(M)}E.body.push(B);++t}}}else{B={name:i(J[0].values[0].col),val:[]};M={shape:k[0%k.length],color:p[0%p.length],label:null,value:N[0].val===" "?f:m===undefined?i(N[0].val):m(N[0].val),valueAxis:0};B.val.push(M);E.body.push(B)}for(K=0,L=O[0].values.length;K<L;++K){D={label:O[0].values[K].col,value:O[0].values[K].rows[q]};E.footer.unshift(D)}}else{if(F.hasMNDonColor){for(K=0;K<O[1].values.length;++K){if(O[1].values[K].type==="MND"){w=O[1].values[K].rows.length;if(K===0){u=true}break}}t=0;var v;if(J[0]){for(K=0;K<J[0].values.length;++K){B={name:i(J[0].values[K].col),val:[]};for(I=0,L=J[0].values[K].rows.length;I<L;++I){v=undefined;if(u){x=t*L+I}else{if(!y||!z){x=I*w+t}else{x=I*C+t;v=I*w+t}}P=[];for(H=0;H<O[1].values.length;++H){if(O[1].values[H].type!=="MND"){P.push(O[1].values[H].rows[I])}}M={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:P,value:N[x].val===" "?f:m===undefined?i(N[x].val):m(N[x].val),valueAxis:0};B.val.push(M)}E.body.push(B);++t}}if(J[1]){for(K=0;K<J[1].values.length;++K){B={name:i(J[1].values[K].col),val:[]};for(I=0,L=J[1].values[K].rows.length;I<L;++I){v=undefined;if(u){x=t*L+I}else{if(!y||!z){x=I*w+t}else{x=I*(w-C)+t-C+parseInt(G*C/w,10);v=I*w+t}}P=[];for(H=0;H<O[1].values.length;++H){if(O[1].values[H].type!=="MND"){P.push(O[1].values[H].rows[I])}}M={shape:v!==undefined?k[v%k.length]:k[x%k.length],color:v!==undefined?p[v%p.length]:p[x%p.length],label:P,value:N[x].val===" "?f:m===undefined?i(N[x].val):m(N[x].val),valueAxis:1};B.val.push(M)}E.body.push(B);++t}}for(K=0,L=O[0].values.length;K<L;++K){D={label:O[0].values[K].col,value:O[0].values[K].rows[q]};E.footer.unshift(D)}}else{var A=null;var r;for(K=0;K<O[0].values.length;++K){if(O[0].values[K].type==="MND"){w=O[0].values[K].rows.length;var s=0;if(l.length!==undefined){s=l.length}else{for(I in l){if(l.hasOwnProperty(I)){++s}}}r=s/w;if(K===0){u=true;A=O[0].values[K].rows[parseInt(q/r,10)]}else{A=O[0].values[K].rows[q%w]}break}}B={name:A,val:[]};if(O[1]){if(J[0]){for(I=0,L=J[0].values[0].rows.length;I<L;++I){x=I;P=[];for(H=0;H<O[1].values.length;++H){P.push(O[1].values[H].rows[I])}M={shape:k[x%k.length],color:p[x%p.length],label:P,value:N[x].val===" "?f:m===undefined?i(N[x].val):m(N[x].val),valueAxis:0};B.val.push(M)}}}else{M={shape:k[0%k.length],color:p[0%p.length],label:null,value:N[0].val===" "?f:m===undefined?i(N[0].val):m(N[0].val),valueAxis:0};B.val.push(M)}E.body.push(B);for(K=0,L=O[0].values.length;K<L;++K){if(O[0].values[K].type!=="MND"){D={label:O[0].values[K].col,value:null};if(u){D.value=O[0].values[K].rows[q%r]}else{D.value=O[0].values[K].rows[parseInt(q/w,10)]}E.footer.unshift(D)}}}}return E};var j=function(r){if(g[r]===undefined){g[r]=o(n)}return g[r]};return j(q)};return h};function a(i){var g=false;var h,f;if(i[0]){for(h=0,f=i[0].values.length;h<f;++h){if(i[0].values[h].type&&i[0].values[h].type==="MND"){g=true}}}var k=false;if(!g){if(i[1]){for(h=0,f=i[1].values.length;h<f;++h){if(i[1].values[h].type&&i[1].values[h].type==="MND"){k=true}}}}return{hasMNDonCate:g,hasMNDonColor:k}}c.formatTooltipData=function(g){var f={name:d.Module.Event.TooltipShow.name,data:g};return f};c.dataTransform=function(n){var l=n.MG1;var k=n.MG2;var s=[];var p,m;if(n.hasMND&&n.MNDOnColor&&n.MNDInner){var r=0,o=0,g=0;if(n.MG1Number){r=n.MG1Number;g=l.length/r}if(n.MG2Number){o=n.MG2Number;g=k.length/o}for(p=0;p<g;p++){for(m=0;m<r;m++){s.push(l[p*r+m])}for(m=0;m<o;m++){s.push(k[p*o+m])}}}else{if(l){for(p=0;p<l.length;p++){s.push(l[p])}}if(k){for(p=0;p<k.length;p++){s.push(k[p])}}}var q=[];var f;if(l.length!==0){f=l[0].length}else{f=k[0].length}for(m=0;m<f;m++){var h=[];for(p=0;p<s.length;p++){h.push(s[p][m])}q.push(h)}return q};return c});sap.riv.module({qname:"sap.viz.mvc.CSSParserUtility",version:"4.0.0"},[],function Setup(){var a=function(){};var b=a.prototype;b.split=function(o,e){if(/['"]/.test(e)){throw"' \" is not allowed in splitter."}if(o==""){return[o]}var p=[];var m=[];var f=0;var h=e.length;var g=o.length;for(var k=0;k<g;k++){var n=o.charAt(k);if(n=="'"||n=='"'){if(p.length>0){var j=p.pop();if(n!=j){p.push(j);p.push(n)}}else{p.push(n)}continue}if(p.length>0){continue}var d=o.substring(k,k+h);if(d==e){m.push(o.substring(f,k));k=f=k+h}}if(f<g){m.push(o.substring(f))}return m};b.COLORS=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","orange","purple","red","silver","teal","white","yellow","transparent"];b.isColor=function(f){f=f.toLowerCase();if(this.COLORS.indexOf(f)>=0){return true}if(f.charAt(0)=="#"){var d=f.length;if(d!=4&&d!=7){return false}return !/[^0-9a-f]/.test(f.substring(1))}var e="-?[0-9\\.]+%?";var c=RegExp("^rgb\\("+e+","+e+","+e+"\\)$");if(c.test(f)){return true}return false};b.NUM_RE_STR="[0-9]+|[0-9]*\\.[0-9]+";b.isLength=function(c){c=c.toLowerCase();var d=new RegExp("^("+this.NUM_RE_STR+")(em|ex|in|cm|mm|pt|pc|px)$");return d.test(c)};b.isPercentage=function(d){var c=new RegExp("^"+this.NUM_RE_STR+"%$");return c.test(d)};b.WIDTHS=["thin","medium","thick"];b.isWidth=function(c){return this.WIDTHS.indexOf(c)>=0||this.isLength(c)};b.BORDER_STYLES=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];b.isBorderStyle=function(c){c=c.toLowerCase();return this.BORDER_STYLES.indexOf(c)>=0};b.FONT_STYLES=["italic","oblique"];b.isFontStyle=function(c){return this.FONT_STYLES.indexOf(c.toLowerCase())>=0};b.isFontVariant=function(c){return"small-caps"==c};b.FONT_WEIGHTS=["bold","bolder","lighter","100","200","300","400","500","600","700","800","900"];b.isFontWeight=function(c){return this.FONT_WEIGHTS.indexOf(c.toLowerCase())>=0};b.TYPE_COLOR="color";b.TYPE_WIDTH="width";b.TYPE_BORDERSTYLE="borderstyle";b.TYPE_FONTSTYLE="font-style";b.TYPE_FONTVARIANT="font-variant";b.TYPE_FONTWEIGHT="font-weight";b.TYPE_UNKNOWN="unknown";b.valueType=function(c){if(this.isColor(c)){return this.TYPE_COLOR}if(this.isWidth(c)){return this.TYPE_WIDTH}if(this.isBorderStyle(c)){return this.TYPE_BORDERSTYLE}if(this.isFontStyle(c)){return this.TYPE_FONTSTYLE}if(this.isFontVariant(c)){return this.TYPE_FONTVARIANT}if(this.isFontWeight(c)){return this.TYPE_FONTWEIGHT}return this.TYPE_UNKNOWN};b.FONT_SIZES=["xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"];b.validateFontSize=function(c){return this.FONT_SIZES.indexOf(c)>=0||this.isLength(c)||this.isPercentage(c)};b.validateMargin=function(c){return c=="auto"||this.isLength(c)||this.isPercentage(c)};b.validatePadding=function(c){return this.isLength(c)||this.isPercentage(c)};return a});sap.riv.module({qname:"sap.viz.mvc.CSSParser",version:"4.0.0"},[{qname:"sap.viz.mvc.CSSParserUtility",version:"4.0.0"}],function Setup(d){var f=(function(){var m={trace:function i(){},yy:{},symbols_:{error:2,theme:3,ruleset:4,rule:5,selector_list:6,"{":7,declaration_list:8,"}":9,selector:10,",":11,"class":12,".":13,IDENT:14,declaration:15,";":16,property:17,":":18,expr:19,prio:20,IMPORTANT_SYM:21,term:22,operator:23,"/":24,signed_term:25,STRING:26,URI:27,HASH:28,"function":29,NUMBER:30,PERCENTAGE:31,LENGTH:32,EMS:33,EXS:34,ANGLE:35,TIME:36,FREQ:37,unary_operator:38,FUNCTION:39,")":40,"-":41,"+":42,"$accept":0,"$end":1},terminals_:{2:"error",7:"{",9:"}",11:",",13:".",14:"IDENT",16:";",18:":",21:"IMPORTANT_SYM",24:"/",26:"STRING",27:"URI",28:"HASH",30:"NUMBER",31:"PERCENTAGE",32:"LENGTH",33:"EMS",34:"EXS",35:"ANGLE",36:"TIME",37:"FREQ",39:"FUNCTION",40:")",41:"-",42:"+"},productions_:[0,[3,1],[4,1],[4,2],[5,4],[6,1],[6,3],[10,1],[10,2],[12,2],[8,1],[8,3],[8,2],[15,3],[15,2],[17,1],[20,1],[19,1],[19,2],[19,3],[23,1],[23,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,2],[29,3],[38,1],[38,1]],performAction:function h(n,q,r,u,t,p,s){var o=p.length-1;switch(t){case 1:return p[o];case 2:this.$=[p[o]];break;case 3:this.$=p[o-1];this.$.push(p[o]);break;case 4:this.$={selector:p[o-3],declaration:p[o-1]};break;case 5:this.$=[p[o]];break;case 6:this.$=p[o-2];this.$.push(p[o]);break;case 7:this.$=p[o];break;case 8:this.$=p[o-1]+p[o];break;case 9:this.$=p[o-1]+p[o];break;case 10:this.$=[p[o]];break;case 11:this.$=p[o-2];this.$.push(p[o]);break;case 12:this.$=p[o-1];break;case 13:this.$={name:p[o-2],value:p[o]};break;case 14:this.$=p[o-1];this.$.important=true;break;case 18:this.$=p[o-1]+" "+p[o];break;case 19:this.$=p[o-2]+p[o-1]+p[o];break;case 36:this.$=p[o-1]+p[o];break;case 37:this.$=p[o-2]+p[o-1]+p[o];break}},table:[{3:1,4:2,5:3,6:4,10:5,12:6,13:[1,7]},{1:[3]},{5:8,6:4,10:5,12:6,13:[1,7],1:[2,1]},{1:[2,2],13:[2,2]},{7:[1,9],11:[1,10]},{12:11,13:[1,7],7:[2,5],11:[2,5]},{7:[2,7],13:[2,7],11:[2,7]},{14:[1,12]},{1:[2,3],13:[2,3]},{8:13,15:14,17:15,14:[1,16]},{10:17,12:6,13:[1,7]},{7:[2,8],13:[2,8],11:[2,8]},{7:[2,9],11:[2,9],13:[2,9]},{9:[1,18],16:[1,19]},{20:20,21:[1,21],9:[2,10],16:[2,10]},{18:[1,22]},{18:[2,15]},{12:11,13:[1,7],7:[2,6],11:[2,6]},{1:[2,4],13:[2,4]},{15:23,17:15,14:[1,16],9:[2,12],16:[2,12]},{9:[2,14],21:[2,14],16:[2,14]},{21:[2,16],9:[2,16],16:[2,16]},{19:24,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{20:20,21:[1,21],9:[2,11],16:[2,11]},{22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43],9:[2,13],21:[2,13],16:[2,13]},{9:[2,17],16:[2,17],30:[2,17],31:[2,17],32:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],41:[2,17],42:[2,17],26:[2,17],14:[2,17],27:[2,17],28:[2,17],39:[2,17],24:[2,17],11:[2,17],21:[2,17],40:[2,17]},{16:[2,22],9:[2,22],21:[2,22],11:[2,22],24:[2,22],39:[2,22],28:[2,22],27:[2,22],14:[2,22],26:[2,22],42:[2,22],41:[2,22],37:[2,22],36:[2,22],35:[2,22],34:[2,22],33:[2,22],32:[2,22],31:[2,22],30:[2,22],40:[2,22]},{16:[2,23],9:[2,23],21:[2,23],11:[2,23],24:[2,23],39:[2,23],28:[2,23],27:[2,23],14:[2,23],26:[2,23],42:[2,23],41:[2,23],37:[2,23],36:[2,23],35:[2,23],34:[2,23],33:[2,23],32:[2,23],31:[2,23],30:[2,23],40:[2,23]},{16:[2,24],9:[2,24],21:[2,24],11:[2,24],24:[2,24],39:[2,24],28:[2,24],27:[2,24],14:[2,24],26:[2,24],42:[2,24],41:[2,24],37:[2,24],36:[2,24],35:[2,24],34:[2,24],33:[2,24],32:[2,24],31:[2,24],30:[2,24],40:[2,24]},{16:[2,25],9:[2,25],21:[2,25],11:[2,25],24:[2,25],39:[2,25],28:[2,25],27:[2,25],14:[2,25],26:[2,25],42:[2,25],41:[2,25],37:[2,25],36:[2,25],35:[2,25],34:[2,25],33:[2,25],32:[2,25],31:[2,25],30:[2,25],40:[2,25]},{16:[2,26],9:[2,26],21:[2,26],11:[2,26],24:[2,26],39:[2,26],28:[2,26],27:[2,26],14:[2,26],26:[2,26],42:[2,26],41:[2,26],37:[2,26],36:[2,26],35:[2,26],34:[2,26],33:[2,26],32:[2,26],31:[2,26],30:[2,26],40:[2,26]},{16:[2,27],9:[2,27],21:[2,27],11:[2,27],24:[2,27],39:[2,27],28:[2,27],27:[2,27],14:[2,27],26:[2,27],42:[2,27],41:[2,27],37:[2,27],36:[2,27],35:[2,27],34:[2,27],33:[2,27],32:[2,27],31:[2,27],30:[2,27],40:[2,27]},{9:[2,28],16:[2,28],30:[2,28],31:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],41:[2,28],42:[2,28],26:[2,28],14:[2,28],27:[2,28],28:[2,28],39:[2,28],24:[2,28],11:[2,28],21:[2,28],40:[2,28]},{9:[2,29],16:[2,29],30:[2,29],31:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],37:[2,29],41:[2,29],42:[2,29],26:[2,29],14:[2,29],27:[2,29],28:[2,29],39:[2,29],24:[2,29],11:[2,29],21:[2,29],40:[2,29]},{9:[2,30],16:[2,30],30:[2,30],31:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],37:[2,30],41:[2,30],42:[2,30],26:[2,30],14:[2,30],27:[2,30],28:[2,30],39:[2,30],24:[2,30],11:[2,30],21:[2,30],40:[2,30]},{9:[2,31],16:[2,31],30:[2,31],31:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],37:[2,31],41:[2,31],42:[2,31],26:[2,31],14:[2,31],27:[2,31],28:[2,31],39:[2,31],24:[2,31],11:[2,31],21:[2,31],40:[2,31]},{9:[2,32],16:[2,32],30:[2,32],31:[2,32],32:[2,32],33:[2,32],34:[2,32],35:[2,32],36:[2,32],37:[2,32],41:[2,32],42:[2,32],26:[2,32],14:[2,32],27:[2,32],28:[2,32],39:[2,32],24:[2,32],11:[2,32],21:[2,32],40:[2,32]},{9:[2,33],16:[2,33],30:[2,33],31:[2,33],32:[2,33],33:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],41:[2,33],42:[2,33],26:[2,33],14:[2,33],27:[2,33],28:[2,33],39:[2,33],24:[2,33],11:[2,33],21:[2,33],40:[2,33]},{9:[2,34],16:[2,34],30:[2,34],31:[2,34],32:[2,34],33:[2,34],34:[2,34],35:[2,34],36:[2,34],37:[2,34],41:[2,34],42:[2,34],26:[2,34],14:[2,34],27:[2,34],28:[2,34],39:[2,34],24:[2,34],11:[2,34],21:[2,34],40:[2,34]},{9:[2,35],16:[2,35],30:[2,35],31:[2,35],32:[2,35],33:[2,35],34:[2,35],35:[2,35],36:[2,35],37:[2,35],41:[2,35],42:[2,35],26:[2,35],14:[2,35],27:[2,35],28:[2,35],39:[2,35],24:[2,35],11:[2,35],21:[2,35],40:[2,35]},{25:48,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,41:[1,42],42:[1,43]},{19:49,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,38],31:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],41:[2,38],42:[2,38]},{30:[2,39],31:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],41:[2,39],42:[2,39]},{9:[2,18],16:[2,18],30:[2,18],31:[2,18],32:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],41:[2,18],42:[2,18],26:[2,18],14:[2,18],27:[2,18],28:[2,18],39:[2,18],24:[2,18],11:[2,18],21:[2,18],40:[2,18]},{22:50,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,20],31:[2,20],32:[2,20],33:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],41:[2,20],42:[2,20],26:[2,20],14:[2,20],27:[2,20],28:[2,20],39:[2,20]},{30:[2,21],31:[2,21],32:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],41:[2,21],42:[2,21],26:[2,21],14:[2,21],27:[2,21],28:[2,21],39:[2,21]},{9:[2,36],16:[2,36],30:[2,36],31:[2,36],32:[2,36],33:[2,36],34:[2,36],35:[2,36],36:[2,36],37:[2,36],41:[2,36],42:[2,36],26:[2,36],14:[2,36],27:[2,36],28:[2,36],39:[2,36],24:[2,36],11:[2,36],21:[2,36],40:[2,36]},{40:[1,51],22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{9:[2,19],16:[2,19],30:[2,19],31:[2,19],32:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],41:[2,19],42:[2,19],26:[2,19],14:[2,19],27:[2,19],28:[2,19],39:[2,19],24:[2,19],11:[2,19],21:[2,19],40:[2,19]},{9:[2,37],16:[2,37],30:[2,37],31:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],41:[2,37],42:[2,37],26:[2,37],14:[2,37],27:[2,37],28:[2,37],39:[2,37],24:[2,37],11:[2,37],21:[2,37],40:[2,37]}],defaultActions:{16:[2,15]},parseError:function j(o,n){throw new Error(o)},parse:function l(y){var F=this,v=[0],O=[null],A=[],P=this.table,o="",z=0,M=0,s=0,x=2,C=1;this.lexer.setInput(y);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var q=this.lexer.yylloc;A.push(q);var t=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function E(p){v.length=v.length-2*p;O.length=O.length-p;A.length=A.length-p}function D(){var p;p=F.lexer.lex()||1;if(typeof p!=="number"){p=F.symbols_[p]||p}return p}var L,H,u,K,Q,B,J={},G,N,n,w;while(true){u=v[v.length-1];if(this.defaultActions[u]){K=this.defaultActions[u]}else{if(L===null||typeof L=="undefined"){L=D()}K=P[u]&&P[u][L]}_handle_error:if(typeof K==="undefined"||!K.length||!K[0]){var I="";if(!s){w=[];for(G in P[u]){if(this.terminals_[G]&&G>2){w.push("'"+this.terminals_[G]+"'")}}if(this.lexer.showPosition){I="Parse error on line "+(z+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[L]||L)+"'"}else{I="Parse error on line "+(z+1)+": Unexpected "+(L==1?"end of input":("'"+(this.terminals_[L]||L)+"'"))}this.parseError(I,{text:this.lexer.match,token:this.terminals_[L]||L,line:this.lexer.yylineno,loc:q,expected:w})}if(s==3){if(L==C){throw new Error(I||"Parsing halted.")}M=this.lexer.yyleng;o=this.lexer.yytext;z=this.lexer.yylineno;q=this.lexer.yylloc;L=D()}while(1){if((x.toString()) in P[u]){break}if(u===0){throw new Error(I||"Parsing halted.")}E(1);u=v[v.length-1]}H=L==2?null:L;L=x;u=v[v.length-1];K=P[u]&&P[u][x];s=3}if(K[0] instanceof Array&&K.length>1){throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+L)}switch(K[0]){case 1:v.push(L);O.push(this.lexer.yytext);A.push(this.lexer.yylloc);v.push(K[1]);L=null;if(!H){M=this.lexer.yyleng;o=this.lexer.yytext;z=this.lexer.yylineno;q=this.lexer.yylloc;if(s>0){s--}}else{L=H;H=null}break;case 2:N=this.productions_[K[1]][1];J.$=O[O.length-N];J._$={first_line:A[A.length-(N||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(N||1)].first_column,last_column:A[A.length-1].last_column};if(t){J._$.range=[A[A.length-(N||1)].range[0],A[A.length-1].range[1]]}B=this.performAction.call(J,o,M,z,this.yy,K[1],O,A);if(typeof B!=="undefined"){return B}if(N){v=v.slice(0,-1*N*2);O=O.slice(0,-1*N);A=A.slice(0,-1*N)}v.push(this.productions_[K[1]][0]);O.push(J.$);A.push(J._$);n=P[v[v.length-2]][v[v.length-1]];v.push(n);break;case 3:return true}}return true}};var g=(function(){var q=({EOF:1,parseError:function s(v,u){if(this.yy.parser){this.yy.parser.parseError(v,u)}else{throw new Error(v)}},setInput:function(u){this._input=u;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var v=this._input[0];this.yytext+=v;this.yyleng++;this.offset++;this.match+=v;this.matched+=v;var u=v.match(/(?:\r\n?|\n).*/g);if(u){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return v},unput:function(w){var u=w.length;var v=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-u-1);this.offset-=u;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(v.length-1){this.yylineno-=v.length-1}var x=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===y.length?this.yylloc.first_column:0)+y[y.length-v.length].length-v[0].length:this.yylloc.first_column-u};if(this.options.ranges){this.yylloc.range=[x[0],x[0]+this.yyleng-u]}return this},more:function(){this._more=true;return this},less:function(u){this.unput(this.match.slice(u))},pastInput:function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var u=this.match;if(u.length<20){u+=this._input.substr(0,20-u.length)}return(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var u=this.pastInput();var v=new Array(u.length+1).join("-");return u+this.upcomingInput()+"\n"+v+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var A,y,v,x,w,u;if(!this._more){this.yytext="";this.match=""}var B=this._currentRules();for(var z=0;z<B.length;z++){v=this._input.match(this.rules[B[z]]);if(v&&(!y||v[0].length>y[0].length)){y=v;x=z;if(!this.options.flex){break}}}if(y){u=y[0].match(/(?:\r\n?|\n).*/g);if(u){this.yylineno+=u.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+y[0].length};this.yytext+=y[0];this.match+=y[0];this.matches=y;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(y[0].length);this.matched+=y[0];A=this.performAction.call(this,this.yy,this,B[x],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(A){return A}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function n(){var u=this.next();if(typeof u!=="undefined"){return u}else{return this.lex()}},begin:function o(u){this.conditionStack.push(u)},popState:function t(){return this.conditionStack.pop()},_currentRules:function r(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function o(u){this.begin(u)}});q.options={flex:true,"case-insensitive":true};q.performAction=function p(y,v,x,u){var w=u;switch(x){case 0:break;case 1:break;case 2:break;case 3:return"CDO";case 4:return"CDC";case 5:return"INCLUDES";case 6:return"DASHMATCH";case 7:return 26;case 8:return"BAD_STRING";case 9:return 14;case 10:return 28;case 11:return"IMPORT_SYM";case 12:return"PAGE_SYM";case 13:return"MEDIA_SYM";case 14:return"CHARSET_SYM";case 15:return 21;case 16:return 33;case 17:return 34;case 18:return 32;case 19:return 32;case 20:return 32;case 21:return 32;case 22:return 32;case 23:return 32;case 24:return 35;case 25:return 35;case 26:return 35;case 27:return 36;case 28:return 36;case 29:return 37;case 30:return 37;case 31:return"DIMENSION";case 32:return 31;case 33:return 30;case 34:return 27;case 35:return 27;case 36:return"BAD_URI";case 37:return 39;case 38:return v.yytext;case 39:console.log(v.yytext);break}};q.rules=[/^(?:([ \t\r\n\f]+))/i,/^(?:\/\*[^*]*\*+([^\/*][^*]*\*+)*\/)/i,/^(?:((\/\*[^*]*\*+([^\/*][^*]*\*+)*)|(\/\*[^*]*(\*+[^\/*][^*]*)*)))/i,/^(?:<!--)/i,/^(?:-->)/i,/^(?:~=)/i,/^(?:\|=)/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*')))/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:#(([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))+))/i,/^(?:@([iI])([mM])([pP])([oO])([rR])([tT]))/i,/^(?:@([pP])([aA])([gG])([eE]))/i,/^(?:@([mM])([eE])([dD])([iI])([aA]))/i,/^(?:@charset )/i,/^(?:!((([ \t\r\n\f]+)?)|(\/\*[^*]*\*+([^\/*][^*]*\*+)*\/))*([iI])([mM])([pP])([oO])([rR])([tT])([aA])([nN])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([cC])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([iI])([nN]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([cC]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([dD])([eE])([gG]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([gG])([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([kK])([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)%)/i,/^(?:([0-9]+|[0-9]*\.[0-9]+))/i,/^(?:url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?)\))/i,/^(?:url\((([ \t\r\n\f]+)?)(([!#$%&*-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)(([ \t\r\n\f]+)?)\))/i,/^(?:((url\((([ \t\r\n\f]+)?)([!#$%&*-\[\]-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)\()/i,/^(?:.)/i,/^(?:.)/i];q.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:true}};return q})();m.lexer=g;function k(){this.yy={}}k.prototype=m;m.Parser=k;return new k()})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=f;exports.Parser=f.Parser;exports.parse=function(){return f.parse.apply(f,arguments)};exports.main=function c(g){if(!g[1]){throw new Error("Usage: "+g[0]+" FILE")}var i,h;if(typeof process!=="undefined"){i=require("fs").readFileSync(require("path").resolve(g[1]),"utf8")}else{i=require("file").path(require("file").cwd()).join(g[1]).read({charset:"utf-8"})}return exports.parser.parse(i)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}var a=function(){};var e=a.prototype;var b=new d();e._processBorderCommon=function(k,o){var t=k.split(" ");var m=t.length;if(m==0||m>3){return null}var q={};var r=[];var u=[b.TYPE_COLOR,b.TYPE_WIDTH,b.TYPE_BORDERSTYLE];for(var p=0;p<m;p++){var h=t[p];var s=b.valueType(h);if(u.indexOf(s)<0||q[s]){return null}q[s]="XXX";for(var n=0;n<o.length;n++){var g=o[n]+"-";switch(s){case b.TYPE_COLOR:g+="color";break;case b.TYPE_WIDTH:g+="width";break;case b.TYPE_BORDERSTYLE:g+="style";break}r.push({name:g,value:h})}}if(!q[b.TYPE_BORDERSTYLE]){return null}return r};e.processBorder=function(h){var g=["border-top","border-right","border-bottom","border-left"];return this._processBorderCommon(h,g)};e.processBorderEdge=function(h,g){return this._processBorderCommon(h,[g])};e._expandAttrTo4Edges=function(h,s,n,q,o){var t=h.split(" ");var j=t.length;if(j==0||j>4){return null}var r=[];for(var p=0;p<4;p++){var g=o[p].replace("*",s);var m=p;m<j||(m-=2)<j||(m-=3)<j;m>=0||(m=0);var u=t[m];if(h!="inherit"&&!n.call(q,u)){return null}r.push({name:g,value:u})}return r};e._processBorderAttr=function(i,h){var j=null;switch(h){case"color":j=b.isColor;break;case"width":j=b.isWidth;break;case"style":j=b.isBorderStyle;break;default:return null}var g=["border-top-*","border-right-*","border-bottom-*","border-left-*"];return this._expandAttrTo4Edges(i,h,j,b,g)};e.processBorderColor=function(g){return this._processBorderAttr(g,"color")};e.processBorderWidth=function(g){return this._processBorderAttr(g,"width")};e.processBorderStyle=function(g){return this._processBorderAttr(g,"style")};e.processFont=function(j){var p=b.split(j," ");if(p.length<2){return null}var r=j.indexOf("/")>=0;var n=[];n.push({name:"font-family",value:p.pop()});var s=p.pop();if(r){var t=s.split("/");if(t.length!=2||t[1]==""){return null}n.push({name:"line-height",value:t[1]});s=t[0]}if(s==""){return null}if(!b.validateFontSize(s)){return null}n.push({name:"font-size",value:s});var m={};var q=[b.TYPE_FONTSTYLE,b.TYPE_FONTVARIANT,b.TYPE_FONTWEIGHT];for(var k=0,h=p.length;k<h;k++){var o=b.valueType(p[k]);if(q.indexOf(o)<0||m[o]){return null}m[o]="XXX";var g=null;n.push({name:o,value:p[k]})}return n};e.processMargin=function(h){var g=["*-top","*-right","*-bottom","*-left"];return this._expandAttrTo4Edges(h,"padding",b.validateMargin,b,g)};e.processPadding=function(h){var g=["*-top","*-right","*-bottom","*-left"];return this._expandAttrTo4Edges(h,"margin",b.validatePadding,b,g)};e.processParentAttrs=function(p){var o=[];for(var n=0,j=p.length;n<j;n++){var h=p[n];var m=h.name.toLowerCase();var k=h;switch(m){case"border":k=this.processBorder(h.value);break;case"border-top":case"border-right":case"border-bottom":case"border-left":k=this.processBorderEdge(h.value,m);break;case"border-color":k=this.processBorderColor(h.value);break;case"border-style":k=this.processBorderStyle(h.value);break;case"border-width":k=this.processBorderWidth(h.value);break;case"font":k=this.processFont(h.value);break;case"margin":k=this.processMargin(h.value);break;case"padding":k=this.processPadding(h.value);break;default:break}if(k===h){o.push(h)}else{for(var g in k){k[g].important=h.important;o.push(k[g])}}}return o};e.parse=function(g){var t=null;try{t=f.parse(g)}catch(u){alert("Parse error, please check your console output: \n"+u);console.log(u);console.log(u.message);return null}var h=[];var v=1;for(var q=0,m=t.length;q<m;q++){var o=t[q];var s=this.processParentAttrs(o.declaration);for(var p=0,n=s.length;p<n;p++){var r={idx:v++,selector:o.selector,property:s[p].name,value:s[p].value,important:s[p].important?true:false};h.push(r)}}return h};return new a()});sap.riv.module({qname:"sap.viz.util.parseCSS",version:"4.0.0"},[{qname:"sap.viz.mvc.CSSParser",version:"4.0.0"}],function Setup(a){function b(e,f,c){var d;e=e.toLowerCase();switch(e){case"border":d=a.processBorder(f);break;case"border-top":case"border-right":case"border-bottom":case"border-left":d=a.processBorderEdge(f,name);break;case"border-color":d=a.processBorderColor(f);break;case"border-style":d=a.processBorderStyle(f);break;case"border-width":d=a.processBorderWidth(f);break;case"font":d=a.processFont(f);break;case"margin":d=a.processMargin(f);break;case"padding":d=a.processPadding(f);break;default:break}if(!d){c[e]=f}else{d.forEach(function(g){c[g.name]=g.value})}}return function(g){var e={};for(var d in g){if(g.hasOwnProperty(d)){var c=g[d];var h={};for(var f in c){if(c.hasOwnProperty(f)){b(f,c[f],h)}}e[d]=h}}return e}});sap.riv.module({qname:"sap.viz.manifest",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"}],function Setup(a,c,d){var b={};b.registerCategory=function(f,e,h){if(!a.isNonEmptyString(f)){c.error("The category name must be a non-empty string.")}if(e&&!a.isFunction(e)){c.error("The category factory must be a function.")}if(b.hasOwnProperty(f)){c.error('There is already a category named "{0}"',f)}var i=d3.map();var g={get:function(l,k){var j=i.get(l);if(j===undefined&&k){c.error('Cannot find "{0}" in category "{1}"',l,f)}return j},each:function(k,j){i.forEach(function(m,l){k.call(j,l,m)});return b},unregister:function(k){var j;if(a.isExist(k)){j=i.get(k);i.remove(k)}return j},register:function(){Array.prototype.forEach.call(arguments,function(l){if(a.isUndefined(l)){c.error("Cannot register a undefined object.")}var j=l.id;if(!a.isNonEmptyString(j)){c.error("Cannot register without a valid id.")}if(i.has(j)){c.error('There is already an item named "{0}" in category "{1}".',j,f)}var k=l["abstract"]===true;l=d.extend(true,null,l.base!==undefined?g.get(l.base,true):null,l);Object.defineProperty(l,"abstract",{value:k,enumerable:false});if(e&&!k){e.call(h,l,b)}i.set(j,l)});return b}};b[f]=g;return g};b.unregisterCategory=function(e){return e in b&&delete b[e]};return b});sap.riv.module({qname:"sap.viz.TemplateManager",version:"4.0.0",exported:true},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.util.parseCSS",version:"4.0.0"}],function Setup(b,l,a,i,f){function o(u,r,w){var v=document.getElementsByTagName("head")[0]||document.documentElement;var t=document.createElement("script");t.type="text/javascript";t.src=u;var s=false;t.onload=t.onreadystatechange=function(){if(!s&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){s=true;h(t);r()}};if(t.addEventListener){t.addEventListener("error",function(){h(t);w()},true)}v.insertBefore(t,v.firstChild)}function d(y,u,v,r,x){if(u<y.length){var t=y[u]+v+"/template.js";var s=function(){d(y,u+1,v,r,x)};o(t,s,s)}else{var w=e(v);if(w){r(w)}else{x()}}}function p(s,r){d(j.loadPath,0,s,r,function(){l.error("Loading template {0} failed.",s)})}function h(r){r.onload=r.onreadystatechange=null;r.parentNode.removeChild(r)}var n=b.registerCategory("template",function(r){r.css=f(r.css);Object.defineProperties(r,{props:{value:function(t){var s=r.properties;if(s){return s[t]}}}});return r});var m;function e(r){return n.get(r)}function q(s,r,t){m=s;if(r){r.call(t,m)}}var k="default",c={id:k,name:"Default"};var j={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return m},apply:function(u,r,t){var s=e(u);if(!s){p(u,function(v){q(v,r,t)})}else{q(s,r,t)}return j},register:function(){n.register.apply(n,arguments);return j},extend:function(t,s){var r=n.get(t,true);i.extend(true,r,s);return j}};delete j.constructor;var g={writable:false,configurable:false};Object.defineProperties(j,{loadPath:{configurable:false},current:g,apply:g,register:g});j.register(c);m=e(k);return j});sap.riv.module({qname:"sap.viz.GeoManager",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.TemplateManager",version:"4.0.0"}],function Setup(c,g,k){var f="../../extension/viz.ext.geomaps/resources",b,e="NAVTEQ",d=false,i=32;function h(){if(f){g.loadPath.push(f+"/langs/");k.loadPath.push(f+"/templates/")}}function a(){var o=g.loadPath;var n=f+"/langs/";for(var m=0;m<o.length;m++){if(o[m]===n){o.splice(m,1);break}}o=k.loadPath;n=f+"/templates/";for(m=0;m<o.length;m++){if(o[m]===n){o.splice(m,1);break}}}function l(){h()}var j=c.extend({},{resourcePath:function(m){if(!arguments.length){return f}a();f=m;h();return j},dataPath:function(m){if(!arguments.length){return(b)?b:f+"/data/geo/"}b=m;return j},mapProvider:function(m){if(!arguments.length){return e}e=m;return j},detailMapEnabled:function(m){if(!arguments.length){return d}d=m;return j},zoomExtent:function(m){if(!arguments.length){return i}i=m;return j}});l();return j});sap.riv.module({qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},[],function Setup(){var b={getScale:function(w,k,f,o,n){var y=d3.scale.linear().domain([w,k]).range([o,n]).nice();var h=y.domain();var m=a(h[0]),l=a(h[1]);var e=m>l?m:l;e++;var x=y.domain();x=c(x,e);w=x[0];k=x[1];if(w===k){f=1}var q=k-w,z=[],j,v=0;if(q/f>1){if(q%f===0){j=d(q/f,e+1);v=a(j);for(var r=0;r<f+1;r++){z.push(w+d(r*j,v))}}else{j=Math.ceil(q/f);v=a(j);var g=Math.floor(w/j)*j;if(g===0||(g+j*f<k)){g=w}for(var r=0;r<f+1;r++){z.push(g+d(r*j,v))}}}else{g=w,j=d(q/f,e+1);v=a(j);for(var r=0;r<f;r++){z.push(g+d(r*j,v))}z.push(d(k,v))}for(var r=0,u=z.length;r<u;r++){z[r]=d(z[r],v)}y=d3.scale.linear().domain([0,f-1]).range([o,n]);var p=[],t=[];for(var r=0,u=z.length-1;r<u;r++){p.push([z[r],z[r+1]]);t.push(y(r))}var s=d3.scale.ordinal().domain(p).range(t);return s}};var c=function(g,f){for(var h=0,e=g.length;h<e;h++){g[h]=d(g[h],f)}return g};var a=function(f){var e=f.toString().split(".");return e.length>1?e[1].length:0};var d=function(f,e){return Math.round(Math.pow(10,e)*f)/Math.pow(10,e)};return b});sap.riv.module({qname:"sap.viz.util.BoundingBox",version:"4.0.0"},[],function Setup(){var a={};a.getBBox=function(d,c){var b;if(arguments.length===1){b=d.getCTM()}else{b=d.getTransformToElement(c)}return a.getBBoxHelp(d,b)};a.getBBoxHelp=function(e,m){var h=e.getBBox();var j=new Array();var n=d3.select("svg")[0][0].createSVGPoint();n.x=h.x;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y;j.push(n.matrixTransform(m));n.x=h.x+h.width;n.y=h.y+h.height;j.push(n.matrixTransform(m));n.x=h.x;n.y=h.y+h.height;j.push(n.matrixTransform(m));var f=j[0].x;var c=j[0].x;var d=j[0].y;var b=j[0].y;for(var g=1;g<j.length;g++){var l=j[g].x;var k=j[g].y;if(l<f){f=l}else{if(l>c){c=l}}if(k<d){d=k}else{if(k>b){b=k}}}return{x:f,y:d,width:c-f,height:b-d}};a.intersects=function(d,c){return(d.x<=(c.x+c.width)&&c.x<=(d.x+d.width)&&d.y<=(c.y+c.height)&&c.y<=(d.y+d.height))};a.intersection=function(d,b){if(a.intersects(d,b)){var e=Math.max(d.x,b.x),c=Math.min(d.x+d.width,b.x+b.width),g=Math.max(d.y,b.y),f=Math.min(d.y+d.height,b.y+b.height);return{x:e,y:g,width:c-e,height:f-g}}return null};return a});sap.riv.module({qname:"sap.viz.modules.geo.GeoUtils",version:"4.0.0"},[{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(f,b){function g(h){var j=h.pathSegList,l,m,o=[],r=Math.min,k=Math.max;for(var n=0,q=j.numberOfItems;n<q;n++){m=j.getItem(n);switch(m.pathSegType){case 1:o.push({x:l.x1,y:l.y1,width:l.x2-l.x1,height:l.y2-l.y1});break;case 2:l={x1:m.x,x2:m.x,y1:m.y,y2:m.y};break;case 4:l.x1=r(m.x,l.x1);l.x2=k(m.x,l.x2);l.y1=r(m.y,l.y1);l.y2=k(m.y,l.y2);break;default:}}return o}function a(m,l){var k=g(m);for(var j=0,h=k.length;j<h;j++){if(f.intersects(k[j],l)){return true}}return false}function c(i,h){var j=i.getBBox();if(f.intersects(h,j)){if(i.tagName==="path"){return a(i,h)}else{return true}}return false}function e(h){return b.isArray(h)&&h.length>=2&&b.isNumber(h[0])&&b.isNumber(h[1])&&(h[1]>=-90&&h[1]<=90)}function d(j){var i=j||{},h=i.type;return h==="Point"||(h==="Feature"&&d(i.geometry))}return{checkIntersection:c,boxIntersection:f.intersection,getBBox:f.getBBox,isCoordinate:e,isPointFeature:d}});sap.riv.module({qname:"sap.viz.modules.geo.GeoFeatureLayer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoUtils",version:"4.0.0"}],function Setup(b,f,g,c){var e={pointRadius:4.5,strokeWidth:1,attributes:{fill:"transparent","fill-rule":"evenodd"},dataAdapter:function(h){return h}},a=0;function d(j,k,i){this.sel=j;this.data=k;this.options=g.extend({},e,i);this.zoomlevel=0;this.getFeatureFromData=this.options.dataAdapter;this.projection=d3.geo.mercator().scale(1000).translate([0,0]);this.path=d3.geo.path().projection(this.projection);this.path.pointRadius(0);this.size={height:this.options.height||0,width:this.options.width||0};this.svg=this.sel.append("g").attr("display","none").attr("class","datashapesgroup");var h="featclip"+a;a+=1;this.clipRect=this.svg.append("defs").append("clipPath").attr("id",h).append("rect").attr("width",this.size.width).attr("height",this.size.height);this.svg.attr("clip-path","url(#"+h+")");this.g=this.svg.append("g");this.scale=null;this.render()}g.extend(d.prototype,{render:function(){var m=this.data,l=[],h=[],p,o;for(var k=m.length-1;k>=0;k--){var n=m[k],j=this.getFeatureFromData(n);if(j){if(c.isPointFeature(j)){l.push(n)}else{h.push(n)}}}if(h.length){p=this.g.selectAll("path").data(h).enter().append("path");this.renderPaths(p);this.applyAttributes(p)}if(l.length&&this.options.pointRadius>0){o=this.g.selectAll("circle").data(l).enter().append("circle");this.renderCircles(o);this.applyAttributes(o)}},renderPaths:function(i){var h=this;i.attr("d",function(k){var j=h.getFeatureFromData(k);return h.path(j)})},renderCircles:function(j){var h=this.scale&&this.options.pointRadius?this.options.pointRadius/this.scale:0,i=this;j.each(function(){var l=d3.select(this),k=i.getFeatureFromData(l.datum()),m=k.geometry.coordinates,n=i.projection(m);l.attr("cx",n[0]).attr("cy",n[1]).attr("r",h)})},applyAttributes:function(h){g.each(this.options.attributes,function(i,j){h.attr(i,j)})},move:function(h,i){var j=this.scale===null;this.scale=i;var k=this.adjustElementScale(i);this.g.attr("transform","translate("+(h[0])+","+(h[1])+") scale("+k+")");if(j){this.svg.attr("display",null)}},height:function(h){if(!arguments.length){return this.size.height}this.size.height=h;this.clipRect.attr("height",h);return this},width:function(h){if(!arguments.length){return this.size.width}this.size.width=h;this.clipRect.attr("width",h);return this},getFeatureElements:function(){return d3.selectAll(this.g.node().childNodes)},remove:function(){this.svg.remove();this.svg=null},switchLayer:function(h){if(h.length>0){this.data=h;this.getFeatureElements().remove();this.render();this.adjustElementScale()}},zoomLevel:function(h){if(!arguments.length){return this.zoomlevel}this.zoomlevel=h;return this},adjustElementScale:function(){var j=this.projection.scale(),l=this.scale/j,i=this.options.pointRadius/l,h=this.options.strokeWidth/l,k=this.getFeatureElements();k.filter("circle").attr("r",i).attr("stroke-width",h);k.filter("path").attr("stroke-width",h);return l}});return d});sap.riv.module({qname:"sap.viz.modules.geo.NameSearch",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"}],function Setup(k,n,b){var s=false,e=null,d=false,a=",NAVTEQ",i=[],p={ID:0,Names:1,GeoLevel:2,Parent:3},q={Country:"0",SubAdmin1:"1",SubAdmin2:"2",City:"c"};var j=function(u,t,v){Object.defineProperties(this,{featureId:{value:u[p.ID]+a,enumerable:true},level:{value:u[p.GeoLevel],enumerable:true},ancestors:{value:t,enumerable:true},names:{value:u[p.Names],enumerable:true},featureIndex:{value:v,enumerable:false}})};function h(t){var u=t||"";return u.toLowerCase()}function l(x,t){var w=[],v=x.features,u=t;while(!!(u=v[u[p.Parent]])){var y=u[p.ID]+a;w.push(y)}return w.reverse()}function c(w,v){if(!v){return true}for(var u=0;u<v.length;u++){var t=v[u];if(w.indexOf(t)!==-1){return true}}return false}function m(t,u,v,H){var F=h(u),G=t.names[F]||[],z=[];for(var A=0;A<G.length;A++){var E=G[A],D=t.features[E],x=D[p.GeoLevel],C=typeof(v)!=="string"||v===x,w=l(t,D),y=c(w,H);if(C&&y){var B=new j(D,w,E);z.push(B)}}return z}function r(){for(var t=0;t<i.length;t++){i[t]()}i=[]}function f(){if(!d){var u=s?"?"+Date.now():"",t=[b.dataPath(),"namesMap.json",u].join("");d3.json(t,function(v){d=false;if(!v){n.error("NameSearch could not load resource: "+t)}e=v;r()})}}var g=function(t){this.namesMap=t};g.prototype={constructor:g,searchByPath:function(B){var y=[],C=null;for(var z=0;z<B.length;z++){var A=B[z],w=k.isPlainObject(A),t=w?A.name:A,u=w?A.level:null,v=m(this.namesMap,t,u,C);y.push(v);C=[];for(var x=0;x<v.length;x++){C.push(v[x].featureId)}}return y[y.length-1]},searchById:function(y){var x=this.namesMap.features,u=y.replace(a,""),w;for(var v=0,t=x.length;v<t;v++){w=x[v];if(w[p.ID]===u){return new j(w,l(this.namesMap,w),v)}}return null}};var o={getInstance:function(t){if(!k.isFunction(t)){n.error("Error: first parameter must be callback function")}if(e){t(new g(e))}else{i.push(function(){if(e){t(new g(e))}});f()}},buildLocationPath:function(y,v,u,x){var t=[],w=function(A,z){if(A){t.push({name:A,level:z})}};w(y,q.Country);w(v,q.SubAdmin1);w(u,q.SubAdmin2);w(x,q.City);return t}};return o});sap.riv.module({qname:"sap.viz.modules.geo.GeoDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoUtils",version:"4.0.0"},{qname:"sap.viz.modules.geo.NameSearch",version:"4.0.0"}],function Setup(a,c,b,m,i,n,d){function e(p){return a.isNonEmptyString(p)}function o(v){var t=v.info,u=t.featureId,s=t.latLong;if(e(u)){var p=this._featureCache[u]||{},q=p.properties||{},r=q.officialNames||{};return v.val||r[this._langId]||q.name}else{if(s){if(e(v.val)){return v.val}return[s[1],s[0]].join(", ")}}return null}function l(t){var r=t.info,s=r.featureId,q=r.latLong;if(e(s)){return this._featureCache[s]}else{if(n.isCoordinate(q)){var p=(e(t.val))?t.val:[q[1],q[0]].join(",");return{type:"Feature",properties:{name:p},geometry:{type:"Point",coordinates:q}}}}return null}function h(t){var r=t.info;if(!r){return false}var s=r.featureId,q=r.latLong,p=r.location;return e(s)||n.isCoordinate(q)||a.isArray(p)}function k(r){for(var q=0,p=r.length;q<p;q++){var s=r[q].info||{};if(s.location!==undefined){return true}}return false}function g(u,p){var w=u.featureId,t=u.latLong,r=w?this._featureCache[w]:null,s=d3.geo.path().projection(p);if(r){var v=r.geometry||{},q=r.properties||{};if(v.type==="Point"){return p(v.coordinates)}else{if(n.isCoordinate(q.centroid)){return p(q.centroid)}else{return s.centroid(r)}}}else{if(n.isCoordinate(t)){return p(t)}}return null}function j(){this._ready=true;this._dispatch.ready()}function f(q,r){this._axis=q;this._rows=q.values[0].rows;this._featureResolver=r;this._dispatch=new m("ready","unresolvedFeatures");this._featureCache={};this._unresolved=[];this._ready=false;this.setLanguage();i.addListener({scope:this,fn:this.setLanguage});this._nameSearch=null;var p=this;if(k(this._rows)){d.getInstance(function(s){p._nameSearch=s;p.init()})}else{this.init()}}b.extend(f.prototype,{init:function(){var w=this._rows,r={},u=null,p=this._featureCache,y=this;for(var t=0;t<w.length;t++){var q=w[t].info||{},s=q.featureId,v=q.latLong,x=q.location;if(!s&&!n.isCoordinate(v)&&!x){this._unresolved.push(t);continue}if(!s&&x){var z=this._nameSearch.searchByPath(x);if(z.length===1){s=q.featureId=z[0].featureId}else{this._unresolved.push(t)}}if(s&&!p[s]){r[s]=true}}u=Object.keys(r);if(u.length>0){this._featureResolver.getFeatures(u,function(A){b.each(A,function(C,B){if(B){y._featureCache[C]=B}delete r[C]});if(a.isEmptyObject(r)){j.apply(y,[])}})}else{j.apply(this,[])}},featureResolver:function(){return this._featureResolver},labels:function(){var q=this._rows,r=[],p;for(p=0;p<q.length;p++){r[p]=o.apply(this,[q[p]])}return r},features:function(){var r=this._rows,q=[],p;for(p=0;p<r.length;p++){q[p]=l.apply(this,[r[p]])}return q},validateAtIndex:function(p){return h.apply(this,[this._rows[p]])},centroids:function(p){var s=this._rows,r=[],q;for(q=0;q<s.length;q++){var t=s[q].info;r[q]=g.apply(this,[t,p])}return r},centroidAtIndex:function(q,p){var r=this._rows,t=r[q],s=t.info;return g.apply(this,[s,p])},featureSet:function(){var t=this.features(),p={},s=[];for(var q=0;q<t.length;q++){var r=t[q];if(r){var u=r.id||r.properties.name;if(u){if(!p[u]){s.push(r)}p[u]=true}}}return s},bounds:function(){var q=this.featureSet(),p={type:"FeatureCollection",features:q};if(q&&q.length>0){return d3.geo.bounds(p)}return null},onReady:function(p,r){var q="ready";if(p){q+="."+p}this._dispatch.on(q,r);if(this.isReady()){r()}return this},isReady:function(){return this._ready},columnId:function(){return this._axis.values[0].col.val},setLanguage:function(){var p=i.current();this._langId=p.split(/_/)[0].toLowerCase()}});return f});sap.riv.module({qname:"sap.viz.util.NumberUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){var b={isNoValue:function(c){return a.isNaN(c)}};return b});sap.riv.module({qname:"sap.viz.base.UADetector",version:"4.0.0"},[],function Setup(){var l=window.devicePixelRatio||1;var r;var g=function(v){for(var s=0;s<v.length;s++){var t=v[s].string;var u=v[s].prop;r=v[s].versionSearch||v[s].identity;if(t){if(t.indexOf(v[s].subString)!=-1){return v[s].identity}}else{if(u){return v[s].identity}}}};var n=[";"," "];var k=function(v){var t=v.indexOf(r);if(t==-1){return}var w=v.substring(t+r.length+1);var u=0,s=n.length,x=-1;while(x===-1&&u<s){x=w.indexOf(n[u++])}if(x!==-1){w=w.slice(0,x)}return w};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"RIV",versionSearch:"RIV/",identity:"RIV"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var b=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var p=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"},{string:navigator.userAgent,subString:"RivKit",identity:"RivKit"}];var h=g(c)||"An unknown browser",m=k(navigator.userAgent)||k(navigator.appVersion)||"an unknown version",d=g(c)==="Explorer",o=g(c)==="Firefox",e=g(c)==="Chrome",a=g(c)==="Safari",i=g(c)==="UIWebView",q=g(b)||"an unknown OS",j=g(p)||"An unknown RenderEngine";var f={userAgent:function(){return h},version:function(){return m},isIE:function(){return d},isFirefox:function(){return o},isChrome:function(){return e},isSafari:function(){return a},isUIWebView:function(){return i},os:function(){return q},devicePixelRatio:function(){return l},renderEngine:function(){return j}};return(f)});sap.riv.module({qname:"sap.viz.util.TextUtils",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.UADetector",version:"4.0.0"}],function Setup(a,f){var h="http://www.w3.org/2000/svg";var e;var c=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var b=[];function d(){if(!e){var j=document.body.appendChild(document.createElementNS(h,"svg"));j.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";e=j.appendChild(document.createElementNS(h,"text"))}return e}function g(n,l){var m=d();if(!l){m.removeAttribute("style")}else{if(!a.isString(l)){var j=f.isIE()?l.ownerSVGElement.getComputedStyle(l):getComputedStyle(l);var k="";c.forEach(function(o){var p=j.getPropertyValue(o);if(p!=null){k+=o+":"+p+";"}});l=k}m.style.cssText=l}if(n==null){n=""}m.textContent=n;return m}function i(q,k,r,p,l){if(r>0){var j=l?d():g(q,(p!=null?p:k));if(j.getComputedTextLength()<=r){if(k){k.textContent=q}return q}j.textContent="...";r-=j.getComputedTextLength();j.textContent=q;if(r>0){var o=q.length;var n=0;while(++n<o){if(j.getSubStringLength(0,o-n)<=r){var m=q.substring(0,o-n)+"...";if(k){k.textContent=m;k.appendChild(document.createElementNS(k.namespaceURI,"title")).textContent=q}return m}}}}if(k){k.textContent=""}return""}return{measure:function(l,j){if(l===""){return{width:0,height:0,x:0,y:0}}var k=g(l,j).getBBox();return{width:k.width,height:k.height,x:k.x,y:k.y}},fastMeasure:function(n,l,o,m){var j=n+l+o+m;var k=b[j];if(!k){b[j]=this.measure(n,"font-size:"+l+"; font-weight:"+o+"; font-family:"+m);k=b[j]}return k},ellipsis:function(l,k,j,m){return i(l,k,j,m,false)},ellipsisInCircle:function(o,n,m,k){var l=g(o,n);var j=Math.sqrt(Math.pow(m,2)-Math.pow(k+l.getBBox().height/2,2))*2;i(o,n,j,null,true)},verticalCentralOffset:function(n,m){var j=g(n,m);var k=j.getBBox();var o=-k.y;var l=parseInt(j.ownerSVGElement.getComputedStyle(j)["fontSize"]);return(o-(k.height-l))/2}}});sap.riv.module({qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(a){var b={sap32:function(){return d3.scale.ordinal().range(a.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(a.SAPColorDualAxis2)},};return b});sap.riv.module({qname:"sap.viz.modules.geo.Choropleth",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoFeatureLayer",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.MeasureBasedColoring",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(h,o,m,a,f,e,j,b,d,n,g,c,l,k,i){return function(t,L){var s=new h("selectData","deselectData","showTooltip","hideTooltip","initialized"),y=null,U=null,H=null,I={startColor:"rgb(194,227,169)",endColor:"rgb(115,192,60)",nullColor:"rgb(204,204,204)",numberOfTicks:5,strokeColor:"#CCC",hoverStrokeColor:"#000",activeStrokeColor:"#FFF"},K=b.extend(true,{},I,t.props()),O=L.effectManager,z=null,w=null,M=null,N=0,p=0,E=false,Q,B,D;function P(){N=null;p=null;E=false;if(!H||!w){return}var Y=H.getMeasureValuesGroupDataByIdx(0),aa=Y.values[0].rows[0],W=0,V=false,Z=[],X,ab;for(X=0;X<aa.length;X++){if(!w.validateAtIndex(X)){continue}ab=aa[X].val;if(!j.isNoValue(ab)){Z.push(ab);W+=1}else{V=true}}E=V;if(W>0){N=d3.min(Z);p=d3.max(Z)}}function q(){if(a.isNumber(N)&&a.isNumber(p)){M=l.getScale(N,p,K.numberOfTicks,K.startColor,K.endColor);if(E){M.domain().push([]);M.range().push(K.nullColor)}}else{if(E){M=d3.scale.ordinal().domain([[]]).range([K.nullColor])}else{M=undefined}}}function A(ac){var W=ac,ab=w.labels(),V=H.getMeasureValuesGroupDataByIdx(0),ae=V.values[0].rows[0],Y=V.values[0].col,X=w.columnId(),aa=[];for(var Z=0;Z<ae.length;Z++){var ad=W[Z];if(ad){aa.push({feature:W[Z],label:ab[Z],value:ae[Z].val,measureLabel:Y,dimensionLabel:X,hover:false,selected:false,idx:Z,val:[ae[Z].val],ctx:[ae[Z].ctx]})}}return aa}function v(){if(D&&a.isNumber(U)&&a.isNumber(y)){D.height(U).width(y)}}function T(V){var W=d3.geo.path().projection(Q);V.sort(function(Y,X){var aa=W.area(Y.feature),Z=W.area(X.feature);return aa===Z?0:aa>Z?-1:1})}function J(V){return V.selected?K.activeStrokeColor:K.strokeColor}function G(V){var W=d3.select(this.cloneNode());W.datum(V).attr("pointer-events","none").attr("fill-opacity",0).attr("class","hover-clone").attr("stroke",K.hoverStrokeColor);D.g.node().appendChild(W.node())}function C(){var V=D.getFeatureElements(),W=V.filter(function(X){return X.hover});D.getFeatureElements().filter(".hover-clone").remove();W.each(G)}function x(aa){var X,ab;if(!j.isNoValue(aa.value)){var Z=M.domain(),W=M.range();for(var Y=0,V=Z.length;Y<V;Y++){if(Z[Y].length<2){continue}if(aa.value>=Z[Y][0]){X=W[Y]}else{break}}}else{X=K.nullColor}ab={drawingEffect:"normal",fillColor:X};return O.register(ab)}function u(){var W=A(w.features()),V={dataAdapter:function(X){return X.feature},attributes:{fill:x,"class":"viz-geo-choropleth-feature datapoint",stroke:K.strokeColor},pointRadius:5};if(D){D.remove()}D=new n(z,W,V);D.move(Q.translate(),Q.scale());T(D.getFeatureElements());v();s.initialized()}function S(V){if(!z){z=V.append("g").attr("class","viz-geo-choropleth")}u()}function R(V){if(V){B=V;S(V)}return R}function F(W,X,V){if(X&&X.length>0){D.switchLayer(A(X));T(D.getFeatureElements());D.zoomLevel(V);C()}}function r(X){var Y=X/Math.max(y,U);if(k.detailMapEnabled()){var W=w.features();if(W){if(Y>8){var V=0;if(Y<=16){if(D.zoomLevel()!==1){V=0.05;w.featureResolver().detailFeatures(W,V,function(Z){F(X,Z,1)})}}else{if(D.zoomLevel()!==2){w.featureResolver().detailFeatures(W,V,function(Z){F(X,Z,2)})}}}else{if(D.zoomLevel()!==0){F(X,W,0)}}}}}b.extend(R,{width:function(V){if(!arguments.length){return y}y=V;v();return R},height:function(V){if(!arguments.length){return U}U=V;v();return R},size:function(){if(!arguments.length){return{width:y,height:U}}return R},data:function(V){if(!arguments.length){return H}H=V;return R},properties:function(V){if(!arguments.length){return K}i.extend(true,K,V);return R},legendScale:function(){q();return{colorScale:M,title:H.getMeasureValuesGroupDataByIdx(0).values[0].col}},dispatch:function(V){if(!arguments.length){return s}s=V;return R},parent:function(){if(!arguments.length){return B}return R},featureValuesDataRange:function(V){if(!arguments.length){return{min:N,max:p,hasNoValue:E}}p=V.max;N=V.min;E=V.hasNoValue;q();return R},geoDataHandler:function(V){if(!arguments.length){return w}w=V;P();return R},projection:function(V){if(!arguments.length){return Q}Q=V;return R},move:function(V,W){if(D){r(W);D.move(V,W)}},mouseover:function(Z){var ad=d3.select(Z);var Y=ad.datum(),V=w.centroidAtIndex(Y.idx,Q),X=z.node(),aa=X.getTransformToElement(X.ownerSVGElement),ab={x:V[0]+aa.e,y:V[1]+aa.f},ac=j.isNoValue(Y.value)?c.get("IDS_ISNOVALUE"):Y.value,W={footer:[{label:Y.dimensionLabel,value:Y.label}],body:[{name:Y.measureLabel,val:[{value:ac}]}],point:ab,orientation:"left",plotArea:b.extend({},ab,{width:10,height:0})};s.showTooltip(o.formatTooltipData(W));Y.hover=true;C()},mouseout:function(W){var V=d3.select(W);s.hideTooltip();V.datum().hover=false;C()},highlight:function(V){var W=a.isArray(V)?d3.selectAll(V):d3.select(V);W.each(function(X){X.selected=true});W.attr("fill-opacity",1).attr("stroke",J)},unhighlight:function(V){var W=a.isArray(V)?d3.selectAll(V):d3.select(V);W.each(function(X){X.selected=false});W.attr("fill-opacity",0.2).attr("stroke","transparent")},clear:function(V){var X=D.getFeatureElements(),W=V?0.2:1;X.attr("fill-opacity",W).attr("stroke",V?"transparent":J)},getDatapointsByRange:function(Y){var W=Y.ctx||{},V=W.ranges||{},X=D.getFeatureElements().filter(function(aa){var Z=aa.value;return(j.isNoValue(Y.val)&&j.isNoValue(Z))||(Z<V.endValue&&Z>V.startValue)||(!V.isLeftOpen&&Z===V.startValue)||(!V.isRightOpen&&Z===V.endValue)});return X[0]},getDatapointsInRect:function(V){var Z=D.getFeatureElements(),X=Z.node(),Y=g.getBBox(D.clipRect.node(),X),aa=g.getBBox(V,X),W=g.boxIntersection(Y,aa);if(!W){return[]}return Z.filter(function(){return g.checkIntersection(this,W)})[0]}});return R}});sap.riv.module({qname:"sap.viz.modules.layout",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(a){return function(i){var c={resize:true,type:"grid",padding:[0,0,0,0],hgap:0,vgap:0};var f=i.hgap||c.hgap,k=i.vgap||c.vgap,h=i.padding||c.padding,e=i.bias||"none";var g;switch(i.type){case"border":d(i.prefs);break;case"grid":b(i.prefs);break;case"table":j();break;default:b(i.prefs)}function d(s){g={};var t={};t.width=i.size.width-h[1]-h[3];t.height=i.size.height-h[0]-h[2];var p=h[3],o=h[0],n=i.size.width-h[1],m=i.size.height-h[2];var r=new Array,q;if(e instanceof Array){r[0]=e[0];r[1]=e[1];r[2]="north";r[3]="south"}else{switch(e){case"west":r[0]="west";r[1]="north";r[2]="south";r[3]="east";break;case"east":r[0]="east";r[1]="north";r[2]="south";r[3]="west";break;default:r[0]="north";r[1]="south";r[2]="east";r[3]="west"}}r[4]="center";for(q=0;q<r.length;q++){l(r[q])}function l(B){function z(I){if(arguments.length<2){return 0}var H=Array.prototype.slice.apply(arguments).slice(1);var F=[];for(var G=0;G<H.length;G++){if(H[G].length>1){F[G]=H[G].slice(1);F[G].push(H[G][0])}}var D=0;var C=0;for(var G=0;G<F[0].length;G++){for(var E=0;E<F.length;E++){C+=F[E][G]}if(C>I){return D}D+=F[0][G]}return D}var y={},v={};if(B==="north"&&s.north){y=g.north={};v=s.north.size;var A=v.height;var x=A;if(v.spacings&&s.south&&s.south.size.spacings){x+=s.south.size.height}if(v.maxSizeConstant&&x>t.height*v.maxSizeConstant){if(v.hideOversize){A=0}else{if(v.spacings){if(s.south&&s.south.size.spacings){A=z(t.height*v.maxSizeConstant,v.spacings,s.south.size.spacings)}else{A=z(t.height*v.maxSizeConstant,v.spacings)}}else{A=t.height*v.maxSizeConstant}}}y.bounds={x:p,y:o,width:n-p,height:A};o+=(y.bounds.height+f);if(y.bounds.height==0){g.north=null}}if(B==="east"&&s.east){y=g.east={};v=s.east.size;var w=v.width;var u=w;if(v.spacings&&s.west&&s.west.size.spacings){u+=s.west.size.width}if(v.maxSizeConstant&&u>t.width*v.maxSizeConstant){if(v.hideOversize){w=0}else{if(v.spacings){if(s.west&&s.west.size.spacings){w=z(t.width*v.maxSizeConstant,v.spacings,s.west.size.spacings)}else{w=z(t.width*v.maxSizeConstant,v.spacings)}}else{w=t.width*v.maxSizeConstant}}}if(w<v.minWidth){w=0}y.bounds={x:n-w,y:o,width:w,height:m-o};if(y.bounds.height<v.minHeight){y.bounds.width=0}n-=(y.bounds.width-k);if(y.bounds.width==0){g.east=null}}if(B==="south"&&s.south){y=g.south={};v=s.south.size;var A=v.height;var x=A;if(v.spacings&&s.north&&s.north.size.spacings){x+=s.north.size.height}if(v.maxSizeConstant&&x>t.height*v.maxSizeConstant){if(v.hideOversize){A=0}else{if(v.spacings){if(s.north&&s.north.size.spacings){A=z(t.height*v.maxSizeConstant,v.spacings,s.north.size.spacings)}else{A=z(t.height*v.maxSizeConstant,v.spacings)}}else{A=t.height*v.maxSizeConstant}}}y.bounds={x:p,y:(m-A)<o?o:(m-A),width:n-p};y.bounds.height=A;m-=(y.bounds.height-f);if(y.bounds.height==0){g.south=null}}if(B==="west"&&s.west){y=g.west={};v=s.west.size;var w=v.width;var u=w;if(v.spacings&&s.east&&s.east.size.spacings){u+=s.east.size.width}if(v.maxSizeConstant&&u>t.width*v.maxSizeConstant){if(v.hideOversize){w=0}else{if(v.spacings){if(s.east&&s.east.size.spacings){w=z(t.width*v.maxSizeConstant,v.spacings,s.east.size.spacings)}else{w=z(t.width*v.maxSizeConstant,v.spacings)}}else{w=t.width*v.maxSizeConstant}}}y.bounds={x:p,y:o,width:w,height:(o+v.height)>m?m:(o+v.height)};p+=(y.bounds.width+k);if(y.bounds.width==0){g.west=null}}if(B==="center"&&s.center){y=g.center={};y.bounds={x:p,y:o,width:n-p,height:m-o}}}}function b(l){}function j(o){g=[];var n=a.isExist(i.columns)?i.columns:3;var t=a.isExist(i.rows)?i.rows:2;var x=a.isExist(i.cellpadding)?i.cellpadding:5;var u=a.isExist(i.paddingThreshold)?i.paddingThreshold:0.1;var r={};r.width=i.size.width-h[1]-h[3];r.height=i.size.height-h[0]-h[2];var s=r.width/n;var C=r.height/t;if(x>s*u||x>C*u){x=2}var w=(r.width-2*n*x)/n;w=w>0?w:0;var m=(r.height-2*t*x)/t;m=m>0?m:0;var B=h[3],z=h[0],A=i.size.width-h[1],y=i.size.height-h[2];for(var p=0;p<n;p++){var l=[];for(var q=0;q<t;q++){var v={};v.bounds={x:p*s+s/2-w/2,y:q*C+C/2-m/2,width:w,height:m};l.push(v)}g.push(l)}}return g}});sap.riv.module({qname:"sap.viz.format.XCFormat",version:"4.0.0"},[{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(b){var c={format:function(e){return e},locale:function(){},DEFAULT_FORMAT_DATE_TIME:"",DEFAULT_FORMAT_TIME:"",DEFAULT_FORMAT_SHORT_DATE:"",DEFAULT_FORMAT_LONG_DATE:"",DEFAULT_FORMAT_NUMBER:"",DEFAULT_FORMAT_BOOLEAN:""},d=null,a="en";if(sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){d=sap.common.globalization.NumericFormatManager;c=b.extend(true,c,{format:function(f,e){return d.formatToText(f,e,true)},locale:function(e){if(!arguments.length){return a}a=e;d.setPVL(a);c.DEFAULT_FORMAT_DATE_TIME=d.DEFAULT_FORMAT_DATE_TIME;c.DEFAULT_FORMAT_TIME=d.DEFAULT_FORMAT_TIME;c.DEFAULT_FORMAT_SHORT_DATE=d.DEFAULT_FORMAT_SHORT_DATE;c.DEFAULT_FORMAT_LONG_DATE=d.DEFAULT_FORMAT_LONG_DATE;c.DEFAULT_FORMAT_NUMBER=d.DEFAULT_FORMAT_NUMBER;c.DEFAULT_FORMAT_BOOLEAN=d.DEFAULT_FORMAT_BOOLEAN},DEFAULT_FORMAT_DATE_TIME:d.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:d.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:d.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:d.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:d.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:d.DEFAULT_FORMAT_BOOLEAN})}return c});sap.riv.module({qname:"sap.viz.format.FormatManager",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.format.XCFormat",version:"4.0.0"},{qname:"sap.viz.Locale",version:"4.0.0"}],function Setup(b,f,g){var a="en",c=f,d=null;var e={constructor:function(){return},apply:function(h){a=h;c.locale(a)},format:function(i,h){return c.format(i,h)},formatFunc:function(h){if(!arguments.length){return c}c=h},DEFAULT_FORMAT_DATE_TIME:c.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:c.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:c.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:c.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:c.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:c.DEFAULT_FORMAT_BOOLEAN};g.addListener({fn:function(h){e.apply(h)},scope:e});return e});sap.riv.module({qname:"sap.viz.modules.geo.GeoPie",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.BoundingBox",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(d,m,e,a,b,f,c,h,k,i,j,g){return function l(z,Q){var o=500,C=300,G=0,n,al,s,p,ai,r={colorPalette:e.sap32().range(),tooltip:{enabled:true},animation:{dataLoading:true,dataUpdating:true},drawingEffect:"normal"},W=b.extend(true,{},r,z.props()),w,ab,ag=0,aa=0,L,V=1/6,ah=e.sap32().range(),v=true,O=d3.geo.mercator().scale(1).translate([0,0]),M=null,K=null,J=null;var Y=f.newId();var Z={stroke:"#ffffff","stroke-width":1};var S={stroke:"#333333","stroke-width":1};var A=new d("selectData","deselectData","showTooltip","hideTooltip","initialized");var R=true,H=true,ae=true,ac=false;function D(){return al.getAnalysisAxisDataByIdx(0)}function T(){return(w&&w.isReady())}function t(){if(T()){return w.centroids(O)}var aq=D().values[0].rows.length;var ao=[];for(var ap=0;ap<aq;ap++){ao.push([-8000,-8000])}return ao}function y(){if(!a.isExist(o)||!a.isExist(C)||!a.isExist(al)){return}var ao=al.getMeasureValuesGroupDataByIdx(0);if(ao&&ao.values.length&&ag>aa){ab=F(ag);M=ao.values[0].col}else{ab=function(){return 16}}}function af(ao,aw){var au=[];if(ao&&ao.length>0){for(var at=0;at<ao.length;at++){var ap={col:ao[at].col};var ay=[];var av=ao[at].rows;for(var ar=0;ar<av.length;ar++){var aq=av[ar];var ax={val:aq.val,ctx:{type:"Dimension",path:{aa:aw,di:at,dii:ar}}};if(aq.info){ax.info=aq.info}ay.push(ax)}ap.rows=ay;au.push(ap)}}if(!au.length){return null}return{index:aw,values:au}}function N(at,ao,av){var aA=[];for(var au=0;au<at.length;au++){var aq=at[au];var aC=[];var az={col:aq.col,rows:aC};var aB=[];var ay=aq.rows;for(var ar=0;ar<ay.length;ar++){var aw=ay[ar];var ax=aw[av];var ap=ax.val;if(a.isNumber(ap)&&ap<0){ap=null}aB.push({val:ap,ctx:{type:"Measure",path:{mg:ao,mi:0,dii_a1:av,dii_a2:ar}}})}aC.push(aB);aA.push(az)}return{index:ao,values:aA}}function q(){var ao=al.getAnalysisAxisDataByIdx(1);if(!ao||!ao.values.length||!ao.values[0].rows.length){return null}var av=[];b.each(ao.values,function(aA,az){if(aA>0){av.push("/")}av.push(az.col.val)});var au={col:{val:av.join("")}};var ay=[];var at=ao.values[0].rows.length;for(var ar=0;ar<at;ar++){var ap=[],aw;for(var aq=0;aq<ao.values.length;aq++){aw=ao.values[aq];if(aq>0){ap.push(" / ")}ap.push(aw.rows[ar].val)}var ax={val:ap.join(""),ctx:{type:"Dimension",path:{aa:0,di:0,dii:ar}}};ay.push(ax)}au.rows=ay;return{index:0,values:[au]}}function ad(){if(!al||!w){return}var aA=D();var ao=al.getAnalysisAxisDataByIdx(1);var aw=al.getMeasureValuesGroupDataByIdx(0);if(!aA||!ao||!aw){return}s=[];var av=aA.values[0].rows.length;var at=af(ao.values,0);var au,aq;for(au=0;au<av;au++){var ax=new i();ax.addAnalysisAxis(at);ax.addMeasureValuesGroup(N(aw.values,0,au));aq={data:ax};s.push(aq)}ag=0;aa=Number.MAX_VALUE;L={};for(au=0;au<av;au++){aq=s[au];var aB=aq.data;var ar=aB.getMeasureValuesGroupDataByIdx(0);var az=null;if(w.validateAtIndex(au)&&ar&&ar.values.length>0){for(var ap=0;ap<ar.values[0].rows[0].length;ap++){var ay=ar.values[0].rows[0][ap].val;if(!h.isNoValue(ay)){az+=Math.abs(ay)}}}if(a.isNumber(az)&&az>0){L[az]=true;ag=az>ag?az:ag;aa=az<aa?az:aa}aq.total=az;aq.colors=ah}}function ak(ap,aq,at){function ar(au){return j.module.get(au).execute(Q)}var ao=ar("sap.viz.modules.pie");ao.properties({animation:{dataLoading:aq},maxRadius:true,alignCenter:true,isGeoPie:true,drawingEffect:W.drawingEffect});ao.width(ap.w);ao.height(ap.h);if(ap.data){ao.data(ap.data)}if(ap.colors){ao.colorPalette(ap.colors)}ap.renderer=ao;ap.target.call(ao);if(aq){ao.dispatch().on("initialized",at)}}function u(ap,ao,aq){return ap.append("g").attr("transform","translate("+ao+","+aq+") scale(1)").attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"]).attr("class","viz-geo-pie-marker")}function aj(ap,aq,ar,at){var ao=u(ap,aq.x,aq.y);aq.target=ao;ao.datum(aq);ak(aq,ar,at)}function U(ao,ap,aq,ar){if(h.isNoValue(ap.x)||h.isNoValue(ap.y)){if(aq){ar()}}else{aj(ao,ap,aq,ar)}}function I(ar,aq){var ao="scale("+(1/aq)+")",ap=/scale\([^\)]+\)/;if(K){K.attr("transform","translate("+ar[0]+","+ar[1]+") scale("+aq+")");K.selectAll(".viz-geo-pie-marker").attr("transform",function(){var at=d3.select(this),au=at.attr("transform");return au.replace(ap,ao)})}J={t:ar,s:aq}}function x(){E();if(p){p.remove()}if(ai){ai.remove()}if(!al||!n){return}B();var aw=t();var au=w.labels();var aC="edge-clip-"+Y;ai=n.append("defs");ai.append("clipPath").attr("id",aC).append("rect").attr("width",o).attr("height",C);p=n.append("g").attr("class","datashapesgroup");p.attr("clip-path","url(#"+aC+")");p.append("rect").attr("x",0).attr("y",0).attr("width",o).attr("height",C).attr("fill-opacity",0).attr("id","event-rect"+Y);p.append("line").attr("id","cross_x"+Y).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");p.append("line").attr("id","cross_y"+Y).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");K=p.append("g").attr("color-rendering","optimizeSpeed");var ao=ah[0];var av=[],at;for(at=0;at<aw.length;at++){var aD=aw[at];if(!aD){continue}var az=aD[0],ay=aD[1];var aq=s[at];var aA=ab(aq.total);var aB={x:az,y:ay,w:aA,h:aA,geoIndex:at,data:aq.data,colors:aq.colors,colorValue:ao,label:au[at]};av.push(aB)}av.sort(function(aG,aE){var aF=aG.h||aG.w;var aH=aE.h||aE.w;return Math.abs(aE.w*aH)-Math.abs(aG.w*aF)});var ap=0;ac=false;function ax(){ap++;if(ap==av.length){ac=true;A.initialized()}}var ar=(R&&ae)||(H&&!ae);for(at=0;at<av.length;at++){U(K,av[at],ar,ax)}if(J){I(J.t,J.s)}if(!ar||!av.length){ac=true;A.initialized()}n.selectAll(".datapoint").attr("class","viz-correlation-marker datapoint").attr("fill-opacity","0.8").attr("stroke-opacity","0.8")}function F(ao){return function(ar){if(h.isNoValue(ar)){return 4}var ap=Math.min(o,C);var aq=Math.pow(Math.abs(ar)/ao,0.5)*(ap-G)*V;return aq>4?aq:4}}function B(){var ap=Q.styleManager.query("viz-correlation-marker");if(ap){if(ap.stroke){Z.stroke=ap.stroke}if(ap["stroke-width"]){Z["stroke-width"]=ap["stroke-width"]}}var ao=Q.styleManager.query("viz-correlation-marker-selected");if(ao){if(ao.stroke){S.stroke=ao.stroke}if(ao["stroke-width"]){S["stroke-width"]=ao["stroke-width"]}}}function P(){var ao=Object.keys(L).length;if(ao===0){return[]}else{if(ao===1){return[aa]}else{if(ao===2){return[ag,aa]}else{return[ag,(ag+aa)/2,aa]}}}}function X(ar){var aq=ar.parentNode;while(aq){var ao=d3.select(aq);if(ao.classed("viz-geo-pie-marker")){var ap=ao.datum();if(ap){return ap.target}}aq=aq.parentNode}return null}function an(aA,az,ar,ax,at){var aC=D();var aw=al.getMeasureValuesGroupDataByIdx(0);var ap=al.getAnalysisAxisDataByIdx(1);var au=[];if(ap&&ap.values.length>0){b.each(ap.values,function(aE,aD){au.push({label:aD.col.val,value:ax.dimValues()[aE]})})}if(aC&&aC.values.length>0){au.push({label:aC.values[0].col.val,value:ar.label})}var av=[];if(aw&&aw.values.length>0){var ao=(W&&W.tooltip)?W.tooltip:{};var aB,aq;if(a.isExist(ao.formatString)){aB=c.format(ax.value(),ao.formatString[0]);aq=c.format(ax.proportion(),ao.formatString[1])}else{aB=ax.value(ao.valueFormat||"n");aq=ax.proportion(ao.percentageFormat||".0%")}av.push({name:aw.values[0].col,val:[{value:aB+" ("+aq+")"}]})}var ay={footer:au,body:av,point:{x:aA+at.e,y:az+at.f},orientation:"left",plotArea:{x:aA+at.e,y:az+at.f,width:Math.max(15,ar.w/4),height:5}};A.showTooltip(m.formatTooltipData(ay))}function E(){if(v){A.hideTooltip()}}function am(ao){n=d3.select(ao.node());x();ae=false;return am}am.parent=function(){return n};am.width=function(ao){if(!arguments.length){return o}o=ao;y();return am};am.height=function(ao){if(!arguments.length){return C}C=ao;y();return am};am.padding=function(ao){if(!arguments.length){return G}G=ao;y();return am};am.bubbleRadius=function(){return Math.ceil(ab(ag)/2)+1};am.colorPalette=function(ao){if(!arguments.length){return ah}ah=ao;return am};am.sizeLegend=function(){return{bubbleScale:V,space:G,scale:ab,data:P(),title:M}};am.legendData=function(){var ao=new i();if(L&&Object.keys(L).length>0){ao.addAnalysisAxis(q())}return ao};am.dispatch=function(ao){if(!arguments.length){return A}A=ao;return this};am.data=function(ao){if(!arguments.length){return al}al=ao;return am};am.properties=function(ao){if(!arguments.length){return W}g.extend(true,W,ao);if(a.isExist(W.colorPalette)){ah=W.colorPalette}if(a.isExist(W.tooltip.enabled)){v=W.tooltip.enabled}if(a.isExist(W.animation)){R=W.animation.dataLoading;H=W.animation.dataUpdating}return am};am.geoDataHandler=function(ao){if(!arguments.length){return w}w=ao;ad();y();return am};am.mouseover=function(ar){if(!ar){return}var ax=d3.select(ar);if(ax.attr("id")==("event-rect"+Y)||ax.attr("id")==("cross_x"+Y)||ax.attr("id")==("cross_y"+Y)){return}ax.attr("fill-opacity","1").attr("stroke-opacity","1");var at=ax.datum();var aq=X(ar);var ao=aq.datum();var aw=k.getBBox(ar,n.node());var av=aw.x+aw.width/2;var au=aw.y+aw.height/2;if(v){var ap=n.node();an(av,au,ao,at,ap.getTransformToElement(ap.ownerSVGElement))}};am.mouseout=function(aq,ao){if(!aq){return}var ap=d3.select(aq);if(ap.attr("id")==("event-rect"+Y)){return}if(ao){ap.attr("fill-opacity","0.8").attr("stroke-opacity","0.8")}else{ap.attr("fill-opacity","0.2").attr("stroke-opacity","0.2")}n.select("#cross_x").attr("visibility","hidden");n.select("#cross_y").attr("visibility","hidden");E()};am.highlight=function(ao){var ap=a.isArray(ao)?d3.selectAll(ao):d3.select(ao);ap.attr("class","viz-correlation-marker-selected datapoint").attr("fill-opacity","0.8").attr("stroke-opacity","0.8").attr("stroke",S.stroke).attr("stroke-width",S["stroke-width"])};am.unhighlight=function(ao){var ap=a.isArray(ao)?d3.selectAll(ao):d3.select(ao);ap.attr("class","viz-correlation-marker datapoint").attr("fill-opacity","0.2").attr("stroke-opacity","0.2").attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"])};am.clear=function(ao){var ap=n.selectAll(".datapoint").attr("class","viz-correlation-marker datapoint").attr("stroke",Z.stroke).attr("stroke-width",Z["stroke-width"]);if(ao){ap.attr("fill-opacity","0.2").attr("stroke-opacity","0.2")}else{ap.attr("fill-opacity","0.8").attr("stroke-opacity","0.8")}};am.getDatapointsByLegend=function(aq){var ap=[];var ao=aq.ctx.path.dii_a1[0];n.selectAll(".viz-geo-pie-marker").selectAll(".datapoint").filter(function(at){var ar=at.ctx.path.dii_a2;return ar==ao}).each(function(){ap.push(this)});return ap};am.move=I;return am}});sap.riv.module({qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"}],function Setup(a){var b={makeMeasureValues:function(l,c,k,d,f){var h=[];for(var e=0;e<c.values.length;e++){if(f&&e!==l.path.mi){continue}var g={};var j=c.values[e];var m=j.rows;g.col=j.col;if(l){g.rows=this.createMeasureValues(l,m,k,d)}else{g.rows=this.createMeasureValuesWithoutCtx(m,k,d)}h.push(g)}return h},createMeasureValuesWithoutCtx_1_2:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push(g)}else{if(e[0]===2){for(d=0;d<f[0].length;d++){g=[];g.push(f[0][d]);c.push(g)}}else{a.error("Not supported")}}return c},createMeasureValuesWithoutCtx_1_3:function(f,e){var c=[],d,g;if(e[0]===1){g=[];for(d=0;d<f[0].length;d++){g.push(f[0][d])}c.push([g])}else{if(e[0]===2){g=[];for(d=0;d<f[0].length;d++){g.push([f[0][d]])}c.push(g)}else{if(e[0]===3){for(d=0;d<f[0].length;d++){g=[];g.push([f[0][d]]);c.push(g)}}else{a.error("Not supported")}}}return c},createMeasureValuesWithoutCtx:function(e,d,c){if(d.length===1){if(c===1||c===2){return this.createMeasureValuesWithoutCtx_1_2(e,d)}else{if(c===3){return this.createMeasureValuesWithoutCtx_1_3(e,d)}else{a.error("Not supported")}}}else{if(d.length===2){if(c===2){return e}else{if(c===3){return this.createMeasureValues_2_3(e,d)}else{a.error("Not supported")}}}else{a.error("Not supported")}}a.error("Not supported")},createMeasureValues_1_2:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push(h)}else{if(f[0]===2){for(e=0;e<g.length;e++){h=[];h.push(g[e][c.path.dii]);d.push(h)}}else{a.error("Not supported")}}return d},createMeasureValues_1_3:function(c,g,f){var d=[],e,h;if(f[0]===1){h=[];for(e=0;e<g.length;e++){h.push(g[e][c.path.dii])}d.push([h])}else{if(f[0]===2){h=[];for(e=0;e<g.length;e++){h.push([g[e][c.path.dii]])}d.push(h)}else{if(f[0]===3){for(e=0;e<g.length;e++){h=[];h.push([g[e][c.path.dii]]);d.push(h)}}else{a.error("Not supported")}}}return d},createMeasureValues:function(d,g,f,c){var e=[];if(f.length===1){if(c===1||c===2){return this.createMeasureValues_1_2(d,g,f)}else{if(c===3){return this.createMeasureValues_1_3(d,g,f)}else{a.error("Not supported")}}}else{if(f.length===2){if(c===2){return g}else{if(c===3){return this.createMeasureValues_2_3(g,f)}else{a.error("Not supported")}}}else{a.error("Not supported")}}return e},createMeasureValues_2_3:function(k,g){var f,e,c;if(g[0]===1&&g[1]===2){return[k]}else{if(g[0]===1&&g[1]===3){c=[];for(f=0;f<k.length;f++){c.push([k[f]])}return c}else{if(g[0]===2&&g[1]===3){c=[];for(f=0;f<k.length;f++){var h=[];var l=k[f];for(e=0;e<l.length;e++){var d=l[e];h.push([d])}c.push(h)}return c}else{a.error("Not supported")}}}}};return b});sap.riv.module({qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(d,e,b,a){var c=function(z){var y=400,x=200,k={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},i,r=[],C={width:18,height:20},m=10,n=1,g=[],q="selectionMode",t={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},A=-1,f=20,B=false,D=e.get("IDS_ISNOVALUE"),l;var j=null;var w=function(E){E.each(function(){o();p();var N=i,O,Q=0,K="visible",L,S;var G=d3.select(this);var P=G.selectAll("rect.indicatedRect");if(P.empty()){P=G.append("rect").attr("class","indicatedRect")}P.attr("visibility","hidden").attr("width",C.width+8).attr("height",C.height+2);var M=G.selectAll("g.row").data(N,function(V,U){return V.val});M.exit().remove();var T=M.enter().append("g").attr("class","row");T.append("rect").attr("class",function(V,U){return"marker ID_"+U});T.append("text");var I=M.selectAll("rect.marker").attr("width",C.width).attr("height",C.height);var R,F;for(L=0,S=I.length;L<S;L++){Q=(C.height+n)*((A!==-1)?(L-1):L);if(N[L].val==="N/A"){Q=(C.height+n)*(S>1?S:0)}I[L][0].setAttribute("y",Q);R={drawingEffect:"normal",fillColor:r[N.length-L-1]};F=j.register(R);I[L][0].setAttribute("fill",F)}O=M.selectAll("text").text(function(W,V){var U=W.val;if(U==="N/A"){U=D}if(a.isExist(l.formatString)){U=b.format(U,l.formatString)}return U}).attr("x",C.width+m);Q=0;for(L=0,S=O.length;L<S;L++){Q=C.height*((A!==-1)?L:(L+1))+f/2;if(N[L].val==="N/A"){Q=(C.height+n)*(S>1?S:0)+f/2+C.height/2}if(B&&L!==S-1&&(N[L].val!=="N/A")){K="hidden"}else{K="visible"}O[L][0].setAttribute("y",Q);O[L][0].setAttribute("visibility",K)}if(N.length>1){var J=G.selectAll("text.topText");if(J.empty()){J=G.append("text").attr("class","topText")}var H;if(A!==-1){H=N[1].ctx.ranges.endValue}else{H=N[0].ctx.ranges.endValue}if(a.isExist(l.formatString)){H=b.format(H,l.formatString)}J.text(H).attr("x",C.width+m).attr("y",f/2)}else{if(N.length===1){O[0][0].setAttribute("y",f/2+C.height/2)}}G.attr("style","font-size: "+k.fontsize+"; font-family:"+k.fontfamily+"; font-weight:"+k.fontweight+"; fill: "+k.color+";");G.on("mouseover",h).on("mouseout",s).on("mousedown",u).on("mouseup",s)})};var h=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var H=d3.select(d3.event.target);var F=H.attr("class");if(!F||F.search("marker")===-1){return}var E=H.attr("x"),I=H.attr("y");var G=d3.selectAll(".indicatedRect");G.attr("visibility","visible").attr("fill","#cccccc").attr("x",E-4).attr("y",I-1)};var s=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var G=d3.select(d3.event.target);var E=G.attr("class");if(!E||E.search("marker")===-1){return}var F=d3.selectAll(".indicatedRect");F.attr("visibility","hidden")};var u=function(){if(q==="single"||q==="none"||l.isHierarchy){return}var H=d3.select(d3.event.target);var F=H.attr("class");if(!F||F.search("marker")===-1){return}var E=H.attr("x"),I=H.attr("y");var G=d3.selectAll(".indicatedRect");G.attr("visibility","visible").attr("fill","#808080").attr("x",E-4).attr("y",I-1)};w.clickHandler=function(){if(q==="single"||q==="none"||l.isHierarchy){return}if(d3.event.type==="touchstart"){u()}var E=false;if(v(g,d3.event.target)){E=true}else{g.push(d3.event.target)}return E};w.width=function(E){if(!arguments.length){return y}y=E;return w};w.height=function(E){if(!arguments.length){return x}x=E;return w};w.properties=function(E){if(!arguments.length){return l}l=E;return w};w.data=function(E){if(!arguments.length){return i}i=E;return w};w.setSelectionMode=function(E){q=E};w.getPreferredSize=function(){var L=0,M=0,N=0,F=i;if(F){A=-1;o();var O=-1,J,H="font-size:"+k.fontsize+"; font-weight:"+k.fontweight+"; font-family:"+k.fontfamily;var I=F.length;for(var E=0;E<I;E++){if(F[E].val==="N/A"){J=d.measure(D,H);A=E}else{var K=F[E].val;if(a.isExist(l.formatString)){K=b.format(K,l.formatString)}J=d.measure(K,H)}if((J===undefined)||(J.width>O)){O=J.width}}f=parseInt(k.fontsize,10);var G=(t.maxValueSpace+1)*f;L=C.width+t.markerPaddingRight*f+O;if(A!==-1){M=(G+n)*(I+1)+f;N=(t.minMarkerHeight+n)*(I+1)+f}else{M=(G+n)*I+f;N=(t.minMarkerHeight+n)*I+f}}return{minHeight:N,minWidth:L,width:L,height:M}};w.color=function(E){if(!arguments.length){return r}r=E;return w};w.effectManager=function(E){if(!arguments.length){return j}j=E;return w};var p=function(){var E=i.length,H=0,I=0;B=false;if(A!==-1){I=(x-(E+2)*f)/(E+1)}else{I=(x-(E+1)*f)/E}H=I+f;var G=t.maxValueSpace*f;if(I>G){I=G;H=I+f}else{var F=t.minValueSpace*f;if(I<F){H=t.minMarkerHeight;I=0;B=true}}t.space=I;C.height=H};var v=function(E,G){for(var F=0;F<E.length;F++){if(E[F]===G){return true}}return false};var o=function(){var E=z.styleManager.query("viz-legend-valueLabel");if(E){if(E.fill){k.color=E.fill}if(E["font-family"]){k.fontfamily=E["font-family"]}if(E["font-size"]){k.fontsize=E["font-size"]}if(E["font-weight"]){k.fontweight=E["font-weight"]}}};return w};return c});sap.riv.module({qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"}],function Setup(d,e,b,a){var f=function(t){var h=400,s=200,j={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"normal",color:"#333333"},n=[0,0,0],m,g,i,k=10,l=15,q=0,u;var p=null;var o=function(v){v.each(function(){if(m===undefined){return}r();var y=[],F="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;if(q===0){q=d.measure("M",F).height}var E=Math.round(s/q);switch(E){case 0:case 1:case 2:case 3:y.push(n[0]);break;case 4:y.push(n[0]);if(n.length>1){y.push(n[n.length-1])}break;default:y=n}var P=[],O=-1,B,K;for(var M=0,N=y.length;M<N;M++){P.push(m(y[M])/2);K=c(y[M]);if(a.isExist(u.formatString)){K=b.format(K,u.formatString)}B=d.measure(K,F).width;if(B>O){O=B}}var A=P[0];var G=d3.select(this);var w=parseInt(j.fontsize,10);var C=G.selectAll("g.legend-circles");if(C.empty()){C=G.append("g").attr("class","legend-circles").data([P])}C.attr("transform","translate("+A+","+(A+w)+")");var z={drawingEffect:u.drawingEffect,graphType:"circle",fillColor:"#748CB2"};var I=p.register(z);var L=C.selectAll("circle").data(P,function(R,Q){return R});L.exit().remove();L.enter().append("circle").attr("stroke","white").attr("stroke-width",1).attr("fill",I).attr("opacity","0.85");L.attr("r",function(R,Q){return R}).attr("cx",function(R,Q){return 0}).attr("cy",function(R,Q){return A-R});var J=G.selectAll("g.legend-valueLabels");if(J.empty()){J=G.append("g").attr("class","legend-valueLabels").data([y])}var H=(A*2+l+k+O)>h?h:(A*2+l+k+O);J.attr("transform","translate("+H+", "+(A+w*3/2)+")");var D=J.selectAll("text").data(y,function(R,Q){return R});D.exit().remove();D.enter().append("text").attr("text-anchor","end");D.attr("font-family",j.fontfamily).attr("font-size",j.fontsize).attr("font-weight",j.fontweight).attr("fill",j.color).text(function(S,Q){var R=c(S);if(a.isExist(u.formatString)){R=b.format(R,u.formatString)}return R}).attr("dx",0).attr("dy",function(S,R){var Q=(R-1)*A-2;if(y.length===2&&R===1){Q=A-2}return Q});var x=G.selectAll("g.legend-guideLines");if(!x.empty()){x.remove()}x=G.append("g").attr("class","legend-guideLines").attr("transform","translate("+A+","+(A+w)+")");if(y.length>0){x.append("path").attr("stroke","gray").attr("d","M 0 "+-A+" L "+(A+k)+" "+-A)}if(y.length>1){x.append("path").attr("stroke","gray").attr("d","M 0 "+A+"L"+(A+k)+" "+A)}if(y.length>2){x.append("path").attr("stroke","gray").attr("d","M 0 "+(A-P[1])+" L "+A+" 0 M "+A+" 0  L "+(A+k)+" 0")}})};o.width=function(v){if(!arguments.length){return h}h=v;return o};o.height=function(v){if(!arguments.length){return s}s=v;return o};o.color=function(v){if(!arguments.length){return g}return o};o.shapes=function(v){if(!arguments.length){return i}return o};o.properties=function(v){if(!arguments.length){return u}u=v;return o};o.data=function(v){if(!arguments.length){return n}n=v;return o};o.scale=function(v){if(!arguments.length){return m}m=v;return o};o.effectManager=function(v){if(!arguments.length){return p}p=v;return o};var r=function(){var v=t.styleManager.query("viz-legend-valueLabel");if(v){if(v.fill){j.color=v.fill}if(v["font-family"]){j.fontfamily=v["font-family"]}if(v["font-size"]){j.fontsize=v["font-size"]}if(v["font-weight"]){j.fontweight=v["font-weight"]}}};o.getPreferredSize=function(C,y,D,M,L,H,I){if(C){r()}var G=0,A=0,z=0;if(m&&y){q=0;var K=-1,v,w,B=null,N=n,x="font-size:"+j.fontsize+"; font-weight:"+j.fontweight+"; font-family:"+j.fontfamily;for(var E=0,F=N.length;E<F;E++){B=c(N[E]);if(a.isExist(u.formatString)){B=b.format(B,u.formatString)}w=d.measure(B,x);if((w===undefined)||(w.width>K)){K=w.width}}var J=K+l+k;v=C?(C.width-y-D-J-M.space-M.number*H)/(1+(1/L)*M.number):m(N[0]);q=w.height;if(!I&&M.plotHeight){v=Math.min((M.plotHeight-H)*L,v)}A=v+w.height*2;G=v+J;z=G}return{minHeight:A,minWidth:z,height:A,width:G}};return o};var c=function(g){return(g===null)?e.get("IDS_ISNOVALUE"):g};return f});sap.riv.module({qname:"sap.viz.util.DrawUtil",version:"4.0.0"},[],function Setup(){var a={};a.createMarkerData=function(f){var d;var e=f.borderWidth/2;switch(f.type){case"circle":d="M"+(-f.rx-e)+",0 A"+(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(f.rx+e)+",0 A";d+=(f.rx+e)+","+(f.ry+e)+" 0 1,0 "+(-f.rx-e)+",0z";break;case"cross":d="M"+(-f.rx-e)+","+(-f.ry/3-e)+"H"+(-f.rx/3-e)+"V"+(-f.ry-e)+"H"+(f.rx/3+e);d+="V"+(-f.ry/3-e)+"H"+(f.rx+e)+"V"+(f.ry/3+e)+"H"+(f.rx/3+e);d+="V"+(f.ry+e)+"H"+(-f.rx/3-e)+"V"+(f.ry/3+e)+"H"+(-f.rx-e)+"Z";break;case"diamond":d="M0,"+(-f.ry-e)+"L"+(f.rx+e)+",0 0,"+(f.ry+e)+" "+(-f.rx-e)+",0Z";break;case"square":d="M"+(-f.rx-e)+","+(-f.ry-e)+"L"+(f.rx+e)+",";d+=(-f.ry-e)+"L"+(f.rx+e)+","+(f.ry+e)+"L"+(-f.rx-e)+","+(f.ry+e)+"Z";break;case"triangle-down":d="M0,"+(f.ry+e)+"L"+(f.rx+e)+","+-(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-up":d="M0,"+-(f.ry+e)+"L"+(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+(f.ry+e)+"Z";break;case"triangle-left":d="M"+-(f.rx+e)+",0L"+(f.rx+e)+","+(f.ry+e)+" "+(f.rx+e)+","+-(f.ry+e)+"Z";break;case"triangle-right":d="M"+(f.rx+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+" "+-(f.rx+e)+","+-(f.ry+e)+"Z";break;case"intersection":d="M"+(f.rx+e)+","+(f.ry+e)+"L"+(f.rx/3+e)+",0L"+(f.rx+e)+","+-(f.ry+e)+"L";d+=(f.rx/2-e)+","+-(f.ry+e)+"L0,"+(-f.ry/3-e)+"L"+(-f.rx/2+e)+","+-(f.ry+e)+"L";d+=-(f.rx+e)+","+-(f.ry+e)+"L"+-(f.rx/3+e)+",0L"+-(f.rx+e)+","+(f.ry+e)+"L";d+=(-f.rx/2+e)+","+(f.ry+e)+"L0,"+(f.ry/3+e)+"L"+(f.rx/2-e)+","+(f.ry+e)+"Z";break;case"squareWithRadius":var g=f.rx;var c=g-3;d="M0,"+-g+"L"+-c+","+-g+"Q"+-g+","+-g+" "+-g+","+-c+"L"+-g+","+c+"Q"+-g+","+g+" "+-c+","+g;d+="L"+c+","+g+"Q"+g+","+g+" "+g+","+c+"L"+g+","+-c+"Q"+g+","+-g+" "+c+","+-g+"Z";break}return d};function b(d){var c;switch(d.type){case"circle":c="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":c="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":c="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":c="M0,0L0,0 0,0Z";break;case"intersection":c="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case"squareWithRadius":c="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":c="M0,0L0,0L0,0L0,0Z";break;default:c="M0,0L0,0L0,0L0,0Z";break}return c}a.createElements=function(d,c){return d.append("path").attr("class",c.className)};a.createElement=function(c,f,e){var d=c.append("path").attr("class",f.className);f.node=d;a.drawGraph(f,e);return d};a.drawGraph=function(e,d){var c={type:e.graphType,rx:Math.round(e.rx),ry:Math.round(e.ry),borderWidth:e.borderWidth?Math.round(e.borderWidth):0};var g=a.createMarkerData(c);var f=d.register(e);e.node.attr("fill",f).attr("stroke-width",e.borderWidth).attr("stroke",e.borderColor).attr("visibility",e.visibility).attr("stroke-opacity",e.strokeOpacity);if(e.animateTime&&e.animateTime>0){e.node.attr("d",b(c));e.node.transition().duration(e.animateTime).attr("d",g).each("end",e.endFunc)}else{e.node.attr("d",g)}return e.node};return a});sap.riv.module({qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.0"},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"}],function Setup(d,c,a,b){var e=function(E){var C=400,A=200,m={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},n={isHierarchy:undefined,position:"right",legendType:"ColorLegend"},H=1,B=[],v=[],t=0,k=0,g=20,p=0.5,u=0.6,h=[],s="multiple";var l=null;var q=b.newId();var f=0;var F=Infinity;var o=[],j={};var z=function(J){J.each(function(){r();var K=I();var Z=false;if(K.length>0&&K.length<j.length){Z=true}var R=d3.select(this);R.attr("style","font-family:"+m.fontfamily+"; font-size:"+m.fontsize+"; font-weight:"+m.fontweight+";fill:"+m.color+";");var U=R.selectAll("g.row").data(K,function(ah,ag){return ah.val});U.exit().remove();var ac=U.enter().append("g").attr("class",function(ah,ag){return q+" row ID_"+ag});var P=ac.append("rect").attr("class",function(ah,ag){return"legend-indicatedRect-"+q+"-ID_"+ag});var W=u*g/2;P.attr("width",C+10).attr("height",g+W*2).attr("fill","rgba(255, 255, 255, 0)").attr("x",-5).attr("y",-W);var aa,Y,ab,ae,ad;if((n.legendType!=="BubbleColorLegend")&&n.isHierarchy){var V,X,L=[],O=0,Q=0;for(aa=0,ab=K.length;aa<ab;aa++){O=0,Q=0;V=K[aa].val;V=V.replace("-","/");X=V.split(" / ");ad=d3.select(this).select("g.row.ID_"+aa);var M=false;for(Y=0,ae=X.length-1;Y<ae;Y++){if(L[Y]!==X[Y]){M=true;break}}var T=ad.selectAll("g").data(X);T.enter().append("g").attr("class",function(ah,ag){return q+" label ID_"+ag});for(Y=0,ae=X.length;Y<ae;Y++){var N;if(Y===ae-1){N=G(ad.select("g.label.ID_"+Y),aa,true,X[Y]);N.attr("transform",function(ah,ag){O=10*Y;if(M){Q=g+Q+u*g}return"translate("+O+","+Q+")"})}else{if(M){N=G(ad.select("g.label.ID_"+Y),aa,false,X[Y]);N.attr("transform",function(ah,ag){O=10*Y;if(Y>0){Q=g+Q+u*g}return"translate("+O+","+Q+")"})}}if(N){N.attr("visibility",function(ai,ag){var ah="visible";if((o[aa]===undefined)||(o[aa].y+Q>A-g)){ah="hidden";Z=true}return ah})}L[Y]=X[Y]}}U.attr("transform",function(ah,ag){if(o[ag]){return"translate("+o[ag].x+","+o[ag].y+")"}})}else{for(aa=0,ab=K.length;aa<ab;aa++){ad=d3.select(this).selectAll("g.row.ID_"+aa);G(ad,aa,true,K[aa].val)}U.attr("transform",function(ah,ag){if(o[ag]){return"translate("+o[ag].x+","+o[ag].y+")"}}).attr("visibility",function(ai,ag){var ah="visible";if((o[ag]===undefined)||(o[ag].y>A-2*g)){ah="hidden";Z=true}return ah})}var S=ac.append("rect").attr("class",function(ah,ag){return"legend-eventRect-"+q+"-ID_"+ag});S.attr("width",C).attr("height",g).attr("fill","rgba(255, 255, 255, 0)");var af=d3.select(this).selectAll("text.itemsEllipsis");if(af.empty()){af=d3.select(this).append("text").attr("class","itemsEllipsis").text("...").attr("text-anchor","middle")}af.attr("dx",C/2).attr("dy",A).attr("visibility",function(){var ag="hidden";if(Z){ag="visible"}return ag});d3.select(this).on("mouseover",i).on("mouseout",w).on("mousedown",x).on("mouseup",w).on("touchend",w)})};z.width=function(J){if(!arguments.length){return C}C=J;return z};z.height=function(J){if(!arguments.length){return A}A=J;return z};z.color=function(J){if(!arguments.length){return v}v=J;return z};z.shapes=function(J){if(!arguments.length){return B}B=J;return z};z.colorFeedLength=function(J){t=J;return z};z.shapeFeedLength=function(J){k=J;return z};z.data=function(J){if(!arguments.length){return j}j=J;return z};z.properties=function(J){if(!arguments.length){return n}n=J;return z};z.getPreferredSize=function(J){r();return D(J)};z.setSelectionMode=function(J){s=J};z.effectManager=function(J){if(!arguments.length){return l}l=J;return z};var I=function(){var K=[],J=o.length;if(j.length>0){K=j.slice(0,J);f=0;F=J}return K};var r=function(){var J=E.styleManager.query("viz-legend-valueLabel");if(J){if(J.fill){m.color=J.fill}if(J["font-family"]){m.fontfamily=J["font-family"]}if(J["font-size"]){m.fontsize=J["font-size"]}if(J["font-weight"]){m.fontweight=J["font-weight"]}}};var i=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var L=d3.select(d3.event.target);var J=L.attr("class");if(!J||J.search("eventRect")===-1){return}var M=J.split("ID_")[1];var K=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+M);K.attr("fill","#cccccc")};var w=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var L=d3.select(d3.event.target);var J=L.attr("class");if(!J||J.search("eventRect")===-1){return}var M=J.split("ID_")[1];var K=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+M);K.attr("fill","rgba(0,0,0,0)")};var x=function(){if(s==="single"||s==="none"||n.isHierarchy){return}var L=d3.select(d3.event.target);var J=L.attr("class");if(!J||J.search("eventRect")===-1){return}var M=J.split("ID_")[1];var K=d3.selectAll(".legend-indicatedRect-"+q+"-ID_"+M);K.attr("fill","#808080")};z.clickHandler=function(){if(s==="single"||s==="none"||n.isHierarchy){return}if(d3.event.type==="touchstart"){x()}var J=false;if(y(h,d3.event.target)){J=true}else{h.push(d3.event.target)}return J};z.deselectByCtx=function(M){if(!M){h=[]}else{var L,K=true;for(var O=0,J=h.length;O<J;O++){K=true;L=h[O].__data__.ctx.path;if(!L){L=h[O].__data__.ctx.ranges;if(L!==M.ctx.ranges){K=false}}else{for(var N in L){if(M.ctx.path[N]!==undefined){if(M.ctx.path[N].length>0){if(M.ctx.path[N]!==L[N]){K=false}}else{if(M.ctx.path[N]!==L[N]){K=false}}}}}if(K===true){h.splice(O,1);break}}}};var y=function(J,L){for(var K=0;K<J.length;K++){if(J[K]===L){return true}}return false};var D=function(ah){var X=0,af=0,U=0,O={width:0,height:0},M=j,Z=0;if(M&&M.length>0){var Q="font-size:"+m.fontsize+"; font-weight:"+m.fontweight+"; font-family:"+m.fontfamily;var T=[],S=0,W=0;g=parseInt(m.fontsize,10);o=[];var ad,ac,ae,ag;if((n.legendType!=="BubbleColorLegend")&&n.isHierarchy){var Y,ab,R,K={width:0,height:0},L=[];for(ad=0,ae=M.length;ad<ae;ad++){Y=M[ad].val;Y=Y.replace("-","/");ab=Y.split(" / ");var N=false;for(ac=0,ag=ab.length-1;ac<ag;ac++){if(L[ac]!==ab[ac]){N=true;break}}var aa=0;for(ac=0,ag=ab.length;ac<ag;ac++){R=d.measure(ab[ac],Q);if(ac===ag-1){R.width=R.width+(H+p)*g;aa=aa+(u+1)*g}else{if(N){aa=aa+(u+1)*g}}R.width=R.width+10*ac;if(R.width>K.width){K=R}L[ac]=ab[ac]}if(K.width>Z){Z=K.width}T.push(aa);if(ad>0){W=W+T[ad-1]}if(W+g>ah.height){break}o.push({x:S,y:W})}af=S+Z;X=W+T[T.length-1];U=d.measure("M...",Q).width}else{var P,V;if(n.position==="left"||n.position==="right"){var J;for(ad=0,ae=M.length;ad<ae;ad++){if(ad>0){W=W+g+g*u}if(W+g>ah.height){break}o.push({x:S,y:W});P=M[ad].val;if(M[ad].size===undefined){M[ad].size=d.measure(P,Q)}J=M[ad].size;if(J.width>O.width){O=J}}}else{for(ad=0,ae=M.length;ad<ae;ad++){P=M[ad].val;V=d.measure(P,Q);T.push(V.width);if(ad>0){S=S+(H+p)*g+T[ad-1]}if(S+g>ah.height){break}o.push({x:S,y:W})}}Z=(H+p)*g+O.width;if(n.position==="left"||n.position==="right"){af=S+Z;X=W+g}else{af=S+T[T.length-1]+(H+p)*g;X=O.height}U=S+(H+p)*g+d.measure("M...",Q).width}}if(U>af){U=af}return{minHeight:2*g,minWidth:U,height:X,width:af}};var G=function(J,P,K,N){var U=0,M;var Q=H*g;if(K){if(k>0){M=B[P%(B.length>k?k:B.length)]}else{if(n.legendType==="BubbleColorLegend"){M=(B[0]===undefined)?"square":B[0]}else{var T=B[P%B.length];M=(T===undefined)?"square":T;if(M==="square"){M="squareWithRadius"}}}var L=g/2;var S=J.selectAll("path").data([N]);a.createElements(S.enter(),{shape:M,className:null});S.attr("transform",function(Y,X){var V;if(k>0){X=Math.floor(P/k);var W=v.length>t?t:v.length;if(W>0){V=v[X%W]}else{V=v[0]}}else{V=v[P%(v.length>t?t:v.length)]}var Z={drawingEffect:n.drawingEffect,graphType:M,fillColor:V,direction:"vertical",rx:Q/2,ry:Q/2,borderWidth:0,borderColor:"transparent",node:d3.select(this)};a.drawGraph(Z,l);return"translate("+L+","+L+")"});U=Q+p*g}var R=J.selectAll("text").data([N]);R.enter().append("text");R.attr("x",U).attr("y",g).text(function(V){return V});var O="font-size:"+m.fontsize+"; font-weight:"+m.fontweight+"; font-family:"+m.fontfamily;R.each(function(V){d.ellipsis(V,this,C-U,O)});return J};return z};return e});sap.riv.module({qname:"sap.viz.modules.legend",version:"4.0.0",exported:true},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.legend.colorLegendArea",version:"4.0.0"},{qname:"sap.viz.modules.legend.sizeLegendArea",version:"4.0.0"},{qname:"sap.viz.modules.legend.mbcLegendArea",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(j,g,a,e,b,l,d,h,c,f,k){var i=function(D,R){var m,p,af={width:200,height:200},ad="right",aj={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"14px",fontweight:"bold",color:"#333333"},ak={fontfamily:"'Open Sans', Arial, Helvetica, sans-serif",fontsize:"12px",fontweight:"normal",color:"#333333"},W={},t=true,F=false,X=[],ah=[],L=20,v={top:0,right:0,bottom:0,left:1.15},E=0.5,B={x:0,y:0},o,x,S,U,ai,H=false;var T={title:"",labels:""},al=[],ap=null,ar=[],y=[],P=0,C=0,ag=true;var ab=l(R);var I=new e("highlightedByLegend");var Q=R.effectManager;var n;var K=false;var ao=function(at){k.drawBound(at,m,p);at.each(function(){if(q()||V()){if(T.labels.length===0){t=false}}if(t&&!F){G();if(ag){M({width:m,height:p})}var aA=v.left*L,ax=v.top*L;var av=d3.select(this).selectAll("g.legend-content").data([T]);av.enter().append("g").attr("class","legend-content");if(K){K=false;av.selectAll(".legend .row").remove()}if(W.isShowTitle&&!H){var ay=parseInt(aj.fontsize,10);var aF="font-weight: "+aj.fontweight+"; fill:"+aj.color+"; font-family: "+aj.fontfamily+"; font-size: "+aj.fontsize+";";var aB=(W.titleText===undefined||W.titleText===null)?T.title:W.titleText;var az=av.selectAll("text.legend-labelTitle");if(az.empty()){az=av.append("text").attr("class","legend-labelTitle")}az.text(aB).attr("dx",aA).attr("dy",ax+ay).attr("style",aF).attr("visibility","visible");az.each(function(aG){g.ellipsis(aB,this,m-aA,aF)})}else{av.selectAll("text.legend-labelTitle").attr("visibility","hidden");if(H){H=false}}var aE=T.labels;var aw=av.selectAll("g.legend-groups").data([aE]);aw.enter().append("g").attr("class","legend-groups");aw.attr("transform","translate("+B.x+","+B.y+")");var aD=((m===undefined)?af.width:m)-aA;var aC=((p===undefined)?af.height:p)-ax;ab.properties(W).width(aD).height(aC-B.y).effectManager(Q);if(ae()){ab.data(al).scale(o)}else{if(an()){ab.data(aE).color(ai.range())}else{ab.data(aE).color(ah).colorFeedLength(P).shapeFeedLength(C)}}aw.call(ab).on("click",O).on("touchstart",O);if(W.position==="left"||W.position==="right"){switch(W.alignment){case"end":av.attr("transform","translate(0, "+(((p-af.height)>0)?((p-af.height)):0)+")");break;case"middle":av.attr("transform","translate(0, "+(((p-af.height)/2>0)?((p-af.height)/2):0)+")");break}}}else{var au=d3.select(this).selectAll("g.legend-content");if(!au.empty()){au.remove()}}F=false})};var O=function(aw){if(W.isHierarchy){return}var av=d3.select(d3.event.target).attr("class");if(av){var au=ab.clickHandler();var at=parseInt(d3.select(d3.event.target).attr("class").split("ID_")[1],10);if(T.labels[at]!==undefined){I.highlightedByLegend(T.labels[at],au)}}};ao.deselectLegend=function(at){if(!(an()||ae())){ab.deselectByCtx(at)}};ao.width=function(at){if(!arguments.length){return m}m=at;ag=true;return ao};ao.height=function(at){if(!arguments.length){return p}p=at;ag=true;return ao};ao.position=function(at){if(!arguments.length){return ad}ad=at;return ao};ao.colorPalette=function(at){if(!arguments.length){return ah}ah=at;ab.color(at);return ao};ao.shapes=function(at){if(!arguments.length){return X}X=at;ab.shapes(at);return ao};ao.properties=function(at){if(!arguments.length){return n}if(n&&at&&n.isHierarchical!==at.isHierarchical){K=true}f.extend(true,n,at);W.visible=n.visible;t=W.visible;W.isShowTitle=n.title.visible;W.titleText=n.title.text;W.isHierarchy=n.isHierarchical;W.position=n.position;W.formatString=n.formatString;if(W.legendType!==n.type){W.legendType=n.type;if(ap&&T.labels){A(ap);ab.data(T.labels)}}W.alignment=n.alignment;W.drawingEffect=n.drawingEffect;if(ae()){ab=d(R)}else{if(an()){ab=h(R)}}ab.properties(W);return ao};ao.getPreferredSize=function(at,av,au){G();return M(at,av,au)};ao.data=function(at){if(!arguments.length){return ap}ap=at;A(at);ab.data(T.labels);return ao};ao.sizeLegendInfo=function(at){if(!arguments.length){return o}o=at.scale;ab.scale(o);x=at.bubbleScale;S=at.space;U=at.hasHeightFeed;if(at.data.length===0){t=false}else{t=W.visible;al=at.data;ab.data(al)}T.title=aq(at.title);return ao};ao.hideTitle=function(){H=true;return ao},ao.hide=function(at){F=at;return ao},ao.mbcLegendInfo=function(at){if(!arguments.length){return ai}if(at.colorScale===undefined){t=false}else{t=W.visible;ai=at.colorScale;T.title=aq(at.title);am();ab.data(T.labels)}return ao};ao.setSelectionMode=function(at){if(!(an()||ae())){ab.setSelectionMode(at)}};ao.dispatch=function(at){if(!arguments.length){return I}I=at;return ao};ao.isVisible=function(){return t};var G=function(){var au=R.styleManager.query("viz-legend-title");if(au){if(au.fill){aj.color=au.fill}if(au["font-family"]){aj.fontfamily=au["font-family"]}if(au["font-size"]){aj.fontsize=au["font-size"]}if(au["font-weight"]){aj.fontweight=au["font-weight"]}}var at=R.styleManager.query("viz-legend-valueLabel");if(at){if(at.fill){ak.color=at.fill}if(at["font-family"]){ak.fontfamily=at["font-family"]}if(at["font-size"]){ak.fontsize=at["font-size"]}if(at["font-weight"]){ak.fontweight=at["font-weight"]}}};var N=function(at){if(J(at.key)){y=at.values}else{if(s(at.key)){ar=at.values}}};var A=function(at){if(!at){return}y=[];ar=[];var au=at.getAnalysisAxisDataByIdx(0);if(au){y=au.values}au=at.getAnalysisAxisDataByIdx(1);if(au){ar=au.values}if(V()){ac()}else{if(!(ae())){aa()}}};var am=function(){var ay=[],ax={val:undefined,ctx:{}};var aw=ai.domain();for(var at=aw.length,av=0,au=at-1;av<at;av++){if(aw[av].length>0){ax.val=aw[av][0];ax.ctx.ranges={startValue:aw[av][0],endValue:aw[av][1],isRightOpen:true,isLeftOpen:false}}else{ax.val="N/A";ax.ctx.ranges={};if(ay[au+1]!==undefined){ay[au+1].ctx.ranges.isRightOpen=false}}if(au===0){ax.ctx.ranges.isRightOpen=false}ay[au]={};b.extend(true,ay[au--],ax)}T.labels=ay};var ac=function(){var az=[],aC="",au="",ax,aw=0,aA,av={val:undefined,ctx:{path:{}}},aB;P=0,C=0;if(y&&y.length>0&&y[0].rows.length>0){var ay=y[0];aC=aq(ay.col.val);aB="dii_a"+(ay.rows[0].ctx.path.aa+1);av={val:ay.rows[0].val,ctx:{path:{}},info:ay.rows[0].info};av.ctx.path[aB]=[ay.rows[0].ctx.path.dii];for(ax=1,aA=ay.rows.length;ax<aA;ax++){au=ay.rows[ax].val;if(au===av.val||z(az,au)){av.ctx.path[aB].push(ay.rows[ax].ctx.path.dii)}else{az[aw]={};av.val=Y(av);b.extend(true,az[aw++],av);av.val=au;av.ctx={path:{}};av.ctx.path[aB]=[ay.rows[ax].ctx.path.dii]}}az[aw]={};av.val=Y(av);b.extend(true,az[aw],av);P=az.length}if(ar&&ar.length>0){var at=ar[0],aD=[];aC=(aC==="")?aq(at.col.val):aC+" / "+aq(at.col.val);aB="dii_a"+(at.rows[0].ctx.path.aa+1);av={val:at.rows[0].val,ctx:{path:{}},info:at.rows[0].info},aw=0;av.ctx.path[aB]=[at.rows[0].ctx.path.dii];for(ax=1,aA=at.rows.length;ax<aA;ax++){au=at.rows[ax].val;if(au===av.val||z(aD,au)){av.ctx.path[aB].push(at.rows[ax].ctx.path.dii)}else{aD[aw]={};av.val=Y(av);b.extend(true,aD[aw++],av);av.val=au;av.ctx={path:{}};av.ctx.path[aB]=[at.rows[ax].ctx.path.dii]}}aD[aw]={};av.val=Y(av);b.extend(true,aD[aw],av);C=aD.length;if(az.length>0){az=Z([az,aD]," / ")}else{az=aD}}if(az.length===0){t=false}else{t=W.visible}T={title:aC,labels:az}};var aa=function(){var av,aw=[];var at=r(av,y,P);P=at.feedsLength;var au=r(av,ar,C);C=au.feedsLength;if(au.labels.length>0){if(at.labels.length>0){if(at.MNDInfo.MNDIndex===undefined&&au.MNDInfo.MNDIndex===undefined){aw=Z([at.labels,au.labels]," / ");av=at.title+" / "+au.title}else{if((at.MNDInfo.MNDIndex!==undefined&&!at.MNDInfo.hasOnlyMND)||(au.MNDInfo.MNDIndex!==undefined&&!au.MNDInfo.hasOnlyMND)){aw=Z([at.labels,au.labels]," - ");av=at.title+" - "+au.title}else{if(at.MNDInfo.MNDIndex!==undefined&&at.MNDInfo.hasOnlyMND){aw=au.labels;av=au.title}else{aw=at.labels;av=at.title}}}}else{aw=au.labels;av=au.title}}else{aw=at.labels;av=at.title}if(aw.length===0){t=false}else{t=W.visible}T={title:av,labels:aw}};var r=function(aC,aD,av){var az=[],aE=[],au=" / ",at=" - ";var aB,ax=false,ay,aw,aA;if(aD&&aD.length>0){for(ay=0,aA=aD.length;ay<aA;ay++){if(aD[ay].type!=="MND"){if(aC===undefined){aC=aq(aD[ay].col.val)}else{aC=aC+au+aq(aD[ay].col.val)}aE=aD[ay].rows;for(aw=0;aw<aE.length;aw++){if(az[aw]===undefined){az[aw]={};az[aw].val=Y(aE[aw]);az[aw].ctx={path:u(aE[aw].ctx.path)}}else{az[aw].val=az[aw].val+au+Y(aE[aw])}}}else{aB=ay}}av=az.length}if(aB!==undefined){if(az.length>0){if(aD[aB].rows.length>1){if(aB===0){aC=c.get("IDS_DEFAULTMND")+at+aC;az=Z([w(aD[aB].rows),az],at);av=av*aD[aB].rows.length}else{if(aB===aD.length-1){aC=aC+at+c.get("IDS_DEFAULTMND");az=Z([az,w(aD[aB].rows)],at);av=av*aD[aB].rows.length}}}}else{aC=c.get("IDS_DEFAULTMND");aE=aD[aB].rows;for(aw=0;aw<aE.length;aw++){az[aw]={};az[aw].val=Y(aE[aw]);az[aw].ctx=aE[aw].ctx}av=aE.length;if(aE.length===1){ax=true}}}return{title:aC,labels:az,feedsLength:av,MNDInfo:{MNDIndex:aB,hasOnlyMND:ax}}};var u=function(au){var at={};switch(au.aa){case 0:at.dii_a1=au.dii;break;case 1:at.dii_a2=au.dii;break;case 2:at.dii_a3=au.dii;break}return at};var M=function(az,aA,aw){var aC=0,aD=0,au=0,aE=0,at={width:0,height:0},aB={};if(W.visible){var ay="font-size:"+aj.fontsize+"; font-weight:"+aj.fontweight+"; font-family:"+aj.fontfamily;L=parseInt(ak.fontsize,10);var ax=v.left*L,av=v.top*L;if(W.isShowTitle){at=g.measure(((W.titleText===undefined||W.titleText===null)?T.title:W.titleText),ay);if(!H){av=av+at.height+E*L}}B={x:ax,y:av};aB=ab.getPreferredSize({height:az.height-ax,width:az.width},aA,ax,aw,x,S,U);if(aB.width>0&&aB.height>0){if(!V()&&W.isHierarchy){aD=ax+((at.width>aB.width)?at.width:aB.width);aC=av+aB.height}else{if(W.position==="left"||W.position==="right"){aD=ax+((at.width>aB.width&&!ae())?at.width:aB.width);aC=av+aB.height}else{aD=ax+aB.width;aC=at.height+E*L+L}}au=ax+(aB.minWidth?aB.minWidth:0);aE=av+(aB.minHeight?aB.minHeight:0)}ag=false}af={maxSizeConstant:1/3,titleSize:at,minWidth:au,height:aC,width:aD};if(aB.minHeight){af.minHeight=aE}return af};var z=function(at,av){for(var au=0;au<at.length;au++){if(at[au].val===av){return true}}return false};var Z=function(ax,aw){var at=ax[0];var au=function(ay){var aA=at;at=[];for(var aC=0;aC<aA.length;aC++){for(var aB=0;aB<ay.length;aB++){var aE=(aA[aC].val===undefined)?aA[aC].val:aA[aC].val,aD=(ay[aB].val===undefined)?ay[aB].val:ay[aB].val;var az={path:{}};b.extend(az.path,aA[aC].ctx.path,ay[aB].ctx.path);at.push({val:aE+aw+aD,ctx:az})}}};for(var av=1;av<ax.length;av++){au(ax[av])}return at};var J=function(au){var at=false;if(au.search("color")!==-1){at=true}return at};var s=function(au){var at=false;if(au.search("shape")!==-1){at=true}return at};var q=function(){var at=false;if(W.legendType==="ColorLegend"){at=true}return at};var ae=function(){var at=false;if(W.legendType==="SizeLegend"){at=true}return at};var V=function(){var at=false;if(W.legendType==="BubbleColorLegend"){at=true}return at};var an=function(){var at=false;if(W.legendType==="MeasureBasedColoringLegend"){at=true}return at};var aq=function(au){var at=c.get("IDS_ISNOVALUE");if(au===null||au===undefined){return at}else{return au}};var Y=function(av){var au;if(av.info){var at=av.info.customlabel;if(at){if(at.type==="url"){au=av.val}else{if(at.type==="string"){au=at.val}}}else{au=av.val}}else{au=av.val}au=aq(au);return au};var w=function(au){for(var at=0;at<au.length;++at){au[at].val=aq(au[at].val)}return au};n=D.props(null);ao.properties(null);return ao};return i});sap.riv.module({qname:"sap.viz.modules.geo.FeatureSearcher",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"}],function Setup(a,c,e,b){function d(){var k,f="",j;function i(l,m){e.each(m,function(n,o){if(o){j.insert({x:o[0],y:o[2],w:o[1],h:o[3]},l)}})}function h(l){e.each(l,function(n,o){var p=o.bboxes;var m={id:o.id,parent:o.parentId};if(p&&m){i(m,p)}})}function g(){var l=[k,"bboxes_L1.json",f].join("");d3.json(l,function(m){j=new RTree();h(m.bboxInfos)})}this.resourcePath=function(l){if(!arguments.length){return k}k=l;if(b.detailMapEnabled()&&!j){g()}return this};this.searchFeatures=function(n){var l={};if(j&&n){var m=j.search(n);if(m){e.each(m,function(q,o){var r=o.id;var p=o.parent;if(p){r=p}if(!l[r]){l[r]=true}})}}return l}}return d});sap.riv.module({qname:"sap.viz.modules.datalabel",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(d,a,f,e,c){var b=function(p,z){var r="12px",I="#333333",i='"Open Sans" Arial, Helvetica, sans-serif',J="normal";var g=p.props(null);var k,o,L;var M,O;var h;var Z;var j="horizontal",B,s,C,N,w,n,m,q,S,v,t,aa,H,ab;var A=false;var V="#ffffff",u=false,E=false,U=2,T=false,Q="#ffffff";function R(){}R.removeLabel=function(){if(a.isExist(M.parent())){M.parent().selectAll("g.datalabel").remove()}};R.showLabel=function(){if(C&&M.parent()){l();M.parent().selectAll("g.datalabel").remove();O=M.parent().node().getBoundingClientRect();x();if(k.length===0){return}if(u){I=V}else{if(T){I=Q}}h="fill:"+I+"; font-family: "+i+"; font-weight: "+J+"; font-size: "+r+"; text-anchor:start";var ac=M.parent().selectAll(".datashapesgroup");ac.each(function(af,ae){var ad=d3.select(this).selectAll("g.datalabel").data([o[ae]]);ad.enter().append("g").attr("class","datalabel");ad.each(function(aj,ag){var ai=d3.select(this).selectAll("text.datalabel").data(aj);var ah=ai.enter().append("g").attr("transform",function(ak){return ak.transformString});ah.each(function(am,al){var ak=M.parent().selectAll(".datapoint").data()[al];if(a.isExist(ak.decoras)){ak.decoras.push(this)}});ah=ah.append("text");ah.text(function(ak){return ak.value});ah.attr("class","datalabel").attr("visibility","hidden");ah.attr("fill",I).attr("x",function(ak){return ak.x}).attr("style",h).attr("y",function(ak){return ak.y});if(j==="vertical"){ah.attr("transform",function(ak){return"rotate(270 "+ak.centerX+","+ak.centerY+")"})}})});D()}};function D(){var af=M.parent().selectAll("text.datalabel")[0];var ah=[],ad,ag={};var ae;for(ae=0;ae<af.length;ae++){ad={};var ac=af[ae].getBoundingClientRect();ad.top=ac.top;ad.left=ac.left;ad.right=ac.right;ad.bottom=ac.bottom;ad.visible=true;ad.needMove=false;ad.x=0;ad.y=0;ah.push(ad)}ag.top=O.top;ag.left=O.left;ag.right=O.right;ag.bottom=O.bottom;F(L,ah,ag);y(ah,ag);for(ae=0;ae<ah.length;ae++){if(ah[ae].visible){if(ah[ae].needMove){af[ae].setAttribute("x",ah[ae].x);af[ae].setAttribute("y",ah[ae].y)}af[ae].setAttribute("visibility","visible")}else{af[ae].parentNode.parentNode.removeChild(af[ae].parentNode)}}}function l(){var ac=z.styleManager.query("viz-datalabel");if(ac){if(ac.fill){I=ac.fill}if(ac["font-family"]){i=ac["font-family"]}if(ac["font-size"]){r=ac["font-size"]}if(ac["font-weight"]){J=ac["font-weight"]}}}function X(ah,ad){if(a.isExist(n)){var ag,af,ac,ae;if(a.isArray(ad.__data__.val)){af=n[0];ae=H?0:1;ac=ad.__data__.ctx[ae].path.mi>=af.length?af.length-1:ad.__data__.ctx[ae].path.mi;ag=f.format(ah,af[ac])}else{af=n[ad.__data__.ctx.path.mg];if(a.isExist(af)){ac=ad.__data__.ctx.path.mi>=af.length?af.length-1:ad.__data__.ctx.path.mi;ag=f.format(ah,af[ac])}else{ag=ah}}return ag}return ah}var F=function(am,ak,ae){if(am!==null&&ak!==null){for(var al=0;al<am.length;al++){if(al<ak.length){if(!q&&!m&&w&&B==="horizontal"){if(S&&am[al].value===0){var aj=am[al].datapointRect;ak[al].needMove=true;ak[al].x=am[al].outsideX;ak[al].y=am[al].outsideY;ak[al].left=aj.right;ak[al].right=aj.right+am[al].width}else{if(N==="inside"){if(am[al].width>am[al].ownerWidth||P(ak[al],ae)){ak[al].needMove=true;ak[al].x=am[al].outsideX;ak[al].y=am[al].outsideY;var ah=am[al].datapointRect;if(am[al].value>0){ak[al].left=ah.left+am[al].ownerWidth;ak[al].right=ah.right+am[al].width}else{ak[al].left=ah.left-am[al].width;ak[al].right=ah.right-am[al].ownerWidth}}if(P(ak[al],ae)){ak[al].visible=false}}else{if(N==="outside"){if(P(ak[al],ae)){if(am[al].width<=am[al].ownerWidth){ak[al].needMove=true;ak[al].x=am[al].insideX;ak[al].y=am[al].insideY;var ag=am[al].datapointRect;if(am[al].value>0){ak[al].left=ag.left+(am[al].ownerWidth-am[al].width)/2;ak[al].right=ag.right-(am[al].ownerWidth-am[al].width)/2}else{ak[al].left=ag.left+(am[al].ownerWidth-am[al].width)/2;ak[al].right=ag.right-(am[al].ownerWidth-am[al].width)/2}if(P(ak[al],ae)){ak[al].visible=false}}else{ak[al].visible=false}}}}}}else{if(!q&&!m&&w&&B==="vertical"){if(S&&am[al].value===0){ak[al].needMove=true;ak[al].x=am[al].outsideX;ak[al].y=am[al].outsideY;var ai=am[al].datapointRect;ak[al].top=ai.top+am[al].height;ak[al].bottom=ai.top}else{if(N==="inside"){if(am[al].height>am[al].ownerHeight||P(ak[al],ae)){ak[al].needMove=true;ak[al].x=am[al].outsideX;ak[al].y=am[al].outsideY;var ad=am[al].datapointRect;if(am[al].value>=0){ak[al].top=ad.top-am[al].height;ak[al].bottom=ad.bottom-am[al].ownerHeight}else{ak[al].top=ad.top+am[al].ownerHeight;ak[al].bottom=ad.bottom+am[al].height}}if(P(ak[al],ae)){ak[al].visible=false}}else{if(N==="outside"){if(P(ak[al],ae)){if(am[al].height<=am[al].ownerHeight){ak[al].needMove=true;ak[al].x=am[al].insideX;ak[al].y=am[al].insideY;var ao=am[al].datapointRect;if(am[al].value>0){ak[al].top=ao.top+(am[al].ownerHeight-am[al].height)/2;ak[al].bottom=ao.bottom-(am[al].ownerHeight-am[al].height)/2}else{ak[al].top=ao.top+(am[al].ownerHeight-am[al].height)/2;ak[al].bottom=ao.bottom-(am[al].ownerHeight-am[al].height)/2}if(P(ak[al],ae)){ak[al].visible=false}}else{ak[al].visible=false}}}}}}else{if(!q&&!m&&!w){if(B==="horizontal"){if(S&&am[al].value===0&&!H&&am[al].width===0){var af=am[al].datapointRect;ak[al].left=af.right;ak[al].right=af.right+am[al].width}else{if(!v&&am[al].width>am[al].ownerWidth){ak[al].visible=false}}}else{if(B==="vertical"){if(S&&am[al].value===0&&!H&&am[al].height===0){var ac=am[al].datapointRect;ak[al].top=ac.top+am[al].height;ak[al].bottom=ac.top}else{if(!v){if(u||T){if(E||T){if(am[al].height>am[al].ownerHeight/2){ak[al].visible=false}}else{if(am[al].height>am[al].ownerHeight){ak[al].visible=false}}if(am[al].width>am[al].ownerWidth){ak[al].visible=false}}else{if(am[al].height>am[al].ownerHeight){ak[al].visible=false}}}}}}if(S&&am[al].value===0&&N==="inside"&&!H){ak[al].needMove=true;ak[al].x=am[al].outsideX;ak[al].y=am[al].outsideY}else{if(!S&&am[al].value===0){ak[al].visible=false}}if(!u&&!T&&s==="rect-coordinate"&&B==="vertical"&&t==="up"){var an=am[al].datapointRect;if((an.left===ae.left)){ak[al].visible=false}}if(P(ak[al],ae)){ak[al].visible=false}}else{if(q){if(B==="horizontal"){if(P(ak[al],ae)||(am[al].width>am[al].ownerWidth)||am[al].value===0){ak[al].visible=false}}else{if(B==="vertical"){if(P(ak[al],ae)||(am[al].height>am[al].ownerHeight)||am[al].value===0){ak[al].visible=false}}}}else{if(m){if(P(ak[al],ae)){ak[al].visible=false}}}}}}}}Y()}};var Y=function(){u=false;E=false;T=false};var K=function(ac){B=a.isExist(ac.orientation)?ac.orientation:B;s=a.isExist(ac.paintingMode)?ac.paintingMode:s;C=a.isExist(ac.visible)?ac.visible:C;N=a.isExist(ac.position)?ac.position:N;w=a.isExist(ac.automaticInOutside)?ac.automaticInOutside:w;n=a.isExist(ac.formatString)?ac.formatString:n;m=a.isExist(ac.isPercentMode)?ac.isPercentMode:m;q=a.isExist(ac.isStackMode)?ac.isStackMode:q;A=a.isExist(ac.isDonut)?ac.isDonut:A;S=a.isExist(ac.showZero)?ac.showZero:S;v=a.isExist(ac.outsideVisible)?ac.outsideVisible:v;t=a.isExist(ac.outsidePosition)?ac.outsidePosition:t;H=a.isExist(ac.isGeoChart)?ac.isGeoChart:H;aa=a.isExist(ac.positionPreference)?ac.positionPreference:aa;ab=a.isExist(ac.type)?ac.type:ab};var G=function(ae){var ad;if(ae.info){var ac=ae.info.customlabel;if(ac){if(ac.type==="url"){ad=ae.val}else{if(ac.type==="string"){ad=ac.val}}}else{ad=ae.val}}else{ad=ae.val}return ad};var x=function(){Z=M.parent()[0][0].ownerSVGElement;k=[],o=[],L=[];if(Z!==null&&Z.getBBox().width===0){return}var aQ=0,aP=0,aL,av,ad;var aO,au,ah;var aC=M.parent().selectAll(".datashapesgroup");if(aC[0].length===0){aC=M.parent()}var ax=aC.selectAll(".datapoint");if(s==="polar-coordinate"){for(aQ=0;aQ<aC[0].length;aQ++){av=aC[0][aQ].getTransformToElement(Z);k=[];for(aP=0;aP<ax[aQ].length;aP++){aL={};ad=ax[aQ][aP];aO=ad.getTransformToElement(Z);if(!a.isExist(aO)){break}aL.dataShape=ad;var aG="";ah=(ad.__data__.endAngle-ad.__data__.startAngle)/(2*Math.PI);ah=X(ah,ad);if(ab==="label and value"){var ay=ad.__data__.dimValueObjects;for(var aN=0;aN<ay.length;aN++){aG+=G(ay[aN]);if(aN!==(ay.length-1)){aG+="/"}}}aL.value=aG+" ("+ah+")";aL.transformString=("translate("+(aO.e-av.e)+","+(aO.f-av.f)+")");au=d.fastMeasure(aL.value,r,J,i);var aK=ad.__data__.r;var ap=(ad.__data__.endAngle+ad.__data__.startAngle)/2;var ag=Math.sin(ap);var aj=Math.cos(ap);var am,al;if(A){am=0.65*aK*ag;al=0.65*aK*aj}else{am=0.5*aK*ag;al=0.5*aK*aj}aL.x=0+am*aO.a-au.width/2;aL.y=0-al*aO.d+au.height/2;aL.centerX=am;aL.centerY=al;aL.datapointRect=ad.getBoundingClientRect();k.push(aL);L.push(aL)}o.push(k)}}else{if(s==="rect-coordinate"){for(aQ=0;aQ<aC[0].length;aQ++){av=aC[0][aQ].getTransformToElement(Z);k=[];for(aP=0;aP<ax[aQ].length;aP++){aL={};ad=ax[aQ][aP];aO=ad.getTransformToElement(Z);if(!a.isExist(aO)){break}aL.dataShape=ad;var aq=ad.getBBox();var ai;if(a.isArray(ad.__data__.val)){if(H){ai=ad.__data__.val[0]}else{ai=ad.__data__.y}}else{if(m&&ab==="value"){ai=ad.__data__.value}else{ai=ad.__data__.val}}if(ab!=="value"&&ad.__data__.isNegative){ai="-"+ai}var aD=0,aA=0;if(ad.__data__.isOnlyOneCategory!==undefined){u=true;if(ad.__data__.isOnlyOneCategory){E=true;var ak=M.parent().selectAll("text.heatmapdatalabel")[0][0];if(ak){var aM=ak.getBBox();aD=aM.width;aA=aM.height}}}var af=0,aH=0;if(ad.__data__.isTreeMap!==undefined){T=true;var aR=M.parent().selectAll("text.treemapdatalabel")[0][0];if(aR){var aw=aR.getBBox();af=aw.width;aH=aw.height}}aL.value=X(ai,ad);if(ab==="label and value"){aL.value=ad.__data__.label+" ("+aL.value+")"}var aF=aq.x*aO.a,aE=aq.y*aO.d,ac=aq.width*aO.a,ae=aq.height*aO.d;aL.transformString=("translate("+(aO.e-av.e)+","+(aO.f-av.f)+")");var ao=0,an=0,aB=0,az=0,aJ=0,aI=0,at=0,aV=0,ar=0,aU=0;if(u||T){var aS=aL.value;if(a.isNumber(aS)){aS=aS.toString()}var aT=null;if(u){aT=V}else{if(T){aT=Q}}aL.value=d.ellipsis(aS,null,ac-3,"fill:"+aT+";font-family:"+i+";font-size:"+r)}au=d.fastMeasure(aL.value,r,J,i);if(B==="horizontal"){aL.centerX=aF+ac/2;aL.centerY=aE+ae/2;if(aa&&N==="outside"){if(t==="right"){aL.centerX=aL.centerX+ac/2+au.width/2}}else{if(N==="outside"){if(t==="left"||(!a.isExist(ad.__data__.isNegative)&&ai<0)){aL.centerX=aL.centerX-(ac/2+au.width/2)}else{if(t==="right"){aL.centerX=aL.centerX+ac/2+au.width/2}}}}ao=aF+ac/2;an=aE+ae/2;if(!(!a.isExist(ad.__data__.isNegative)&&ai<0)){aV=aL.centerX+ac/2+au.width/2;aU=aE+ae/2}else{at=aL.centerX-(ac/2+au.width/2);ar=aE+ae/2}}else{aL.centerX=aF+ac/2;aL.centerY=aE+ae/2;if(ad.__data__.isNegative){t="down"}if(u&&E){aL.centerY+=au.height/2}else{if(T){aL.centerY+=(aH/2+au.height/2)}}if(aa&&N==="outside"){if(t==="up"){aL.centerY=aL.centerY-ae/2-au.height/2}}else{if(N==="outside"){if(t==="down"||(!a.isExist(ad.__data__.isNegative)&&ai<0)){aL.centerY=aL.centerY+ae/2+au.height/2}else{if(t==="up"){aL.centerY=aL.centerY-ae/2-au.height/2}}}}an=aE+ae/2;ao=aF+ac/2;if(!(!a.isExist(ad.__data__.isNegative)&&ai<0)){az=aL.centerY-ae/2-au.height/2;aB=aF+ac/2}else{aI=aL.centerY+ae/2+au.height/2;aJ=aF+ac/2}}aL.x=aL.centerX-au.width/2;aL.y=aL.centerY-au.y/2;aL.width=au.width;aL.height=au.height;aL.ownerWidth=ac;aL.ownerHeight=ae;aL.datapointRect=ad.getBoundingClientRect();aL.insideX=ao-au.width/2;aL.insideY=an-au.y/2;if(B==="horizontal"){if(!(!a.isExist(ad.__data__.isNegative)&&ai<0)){aL.outsideX=aV-au.width/2;aL.outsideY=aU-au.y/2}else{aL.outsideX=at-au.width/2;aL.outsideY=ar-au.y/2}}else{if(B==="vertical"){if(!(!a.isExist(ad.__data__.isNegative)&&ai<0)){aL.outsideX=aB-au.width/2;aL.outsideY=az-au.y/2}else{aL.outsideX=aJ-au.width/2;aL.outsideY=aI-au.y/2}}}k.push(aL);L.push(aL)}o.push(k)}}}};var W=function(ae,ah){var al=ae.left,aj=ae.top,ag=ae.right,af=ae.bottom;var ak=ah.left,ai=ah.top,ad=ah.right,ac=ah.bottom;if(al<=ak&&ak<=ag&&aj<=ai&&ai<=af){return true}if(al<=ad&&ad<=ag&&aj<=ai&&ai<=af){return true}if(al<=ak&&ak<=ag&&aj<=ac&&ac<=af){return true}if(al<=ad&&ad<=ag&&aj<=ac&&ac<=af){return true}if(ak<=al&&al<=ad&&ai<=aj&&aj<=ac){return true}if(ak<=ag&&ag<=ad&&ai<=aj&&aj<=ac){return true}if(ak<=al&&al<=ad&&ai<=af&&af<=ac){return true}if(ak<=ag&&ag<=ad&&ai<=af&&af<=ac){return true}if(al<=ak&&ak<=ag&&ai<=aj&&aj<=ac){return true}if(al<=ak&&ak<=ag&&ai<=af&&af<=ac){return true}if(al<=ad&&ad<=ag&&ai<=aj&&aj<=ac){return true}if(al<=ad&&ad<=ag&&ai<=af&&af<=ac){return true}return false};var y=function(ah,ag){if(ah===null||ag===null){return}for(var af=0;af<ah.length;af++){var ae=ah[af];if(!ae.visible){continue}for(var ad=af+1;ad<ah.length;ad++){var ac=ah[ad];if(!ac.visible){continue}if(W(ae,ac)){ac.visible=false}}}};var P=function(ac,ad){if(ac.top<ad.top||ac.left<ad.left||ac.right>ad.right||ac.bottom>ad.bottom){return true}return false};R.plot=function(ac){if(!arguments.length){return M}M=ac};R.parent=function(){};R.properties=function(ac){if(!arguments.length){return g}c.extend(true,g,ac);K(g)};return R};return b});sap.riv.module({qname:"sap.viz.modules.threeD.Vector",version:"4.0.0"},[],function Setup(b){function a(){this.values=[];for(var d=0,c=arguments.length;d<c;d++){this.values.push(arguments[d])}}a.prototype.dotProduct=function(c){var f=c.dimension();if(f!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+f+".")}var e=0;for(var d=0;d<f;d++){e+=this.value(d)*c.value(d)}return e};a.prototype.dimension=function(c){return this.values.length};a.prototype.value=function(c,e){if(arguments.length>=2){this.values[c]=e}return this.values[c]};return a});sap.riv.module({qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector",version:"4.0.0"}],function Setup(a){function b(f,e,d,c){a.apply(this,arguments)}b.prototype=Object.create(a.prototype);return b});sap.riv.module({qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"}],function Setup(e){var b=4;var a=b*b;function d(f){return f*Math.PI/180}var c=function(){var g=new Array(a);var f={unit:function(){for(var h=0;h<a;h++){g[h]=(h%(b+1)===0)?1:0}return f},value:function(k,j,h){var i=k*b+j;if(arguments.length>=3){g[i]=h;return f}return g[i]},row:function(j){var l=[];var k=j*b;for(var h=0;h<b;h++){l[h]=g[k+h]}return new e(l[0],l[1],l[2],l[3])},col:function(h){var k=[];for(var j=0;j<b;j++){k[j]=g[b*j+h]}return new e(k[0],k[1],k[2],k[3])},translate:function(i,h,j){return f.transform(c().value(0,3,i||0).value(1,3,h||0).value(2,3,j||0))},scale:function(i,h,j){return f.transform(c().value(0,0,i||0).value(1,1,h||0).value(2,2,j||0))},rotateX:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(1,1,k).value(1,2,-h).value(2,1,h).value(2,2,k))},rotateY:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,2,h).value(2,0,-h).value(2,2,k))},rotateZ:function(j){var i=d(j);var h=Math.sin(i);var k=Math.cos(i);return f.transform(c().value(0,0,k).value(0,1,-h).value(1,0,h).value(1,1,k))},transform:function(h){if(h){var o=[],p=[];for(var n=0;n<b;n++){o.push(h.row(n));p.push(f.col(n))}for(var n=0;n<b;n++){var q=n*b;for(var l=0;l<b;l++){var k=q+l;g[k]=o[n].dotProduct(p[l])}}}return f},clone:function(){var k=c();for(var l=0;l<b;l++){for(var h=0;h<b;h++){k.value(l,h,f.value(l,h))}}return k},projection:function(){return"matrix("+f.value(0,0)+","+f.value(1,0)+","+f.value(0,1)+","+f.value(1,1)+","+f.value(0,3)+","+f.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var j="";for(var h=0;h<a;h++){if(h%4!==0){j+=", "}j+=g[h];if((h-3)%4===0){j+="\n"}}return j}};return f.unit()};return c});sap.riv.module({qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},[{qname:"sap.viz.modules.threeD.Vector4D",version:"4.0.0"}],function Setup(b){function a(c,e,d){this.x=c;this.y=e;this.z=d}a.prototype.transform=function(c){var d=new b(this.x,this.y,this.z,1);this.x=c.row(0).dotProduct(d);this.y=c.row(1).dotProduct(d);this.z=c.row(2).dotProduct(d);return this};return a});sap.riv.module({qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"}],function Setup(e,h,d,g,b,f,c,a){return function(){var C;var y;var o=6;var r=5;var z=1;var n="#d8d8d8";var j=false;var F=null;var m={title:{visible:false,text:undefined,},gridline:{visible:false,color:n,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,formatString:"",hideStrategy:""},position:"left",color:"#333333",shapeRendering:true,forceVerticalFont:false};var w=c(),i=null,K=null,G=null,x=null;var J=-1;k.spaceLimit=function(L){if(!arguments.length){return J}if(!j){J=L}return k};var A=function(){var N=[];var O=y.length>1?true:false;for(var M=0;M<y.length;M++){var L=y[M].domain;var R=y[M].range;var P=u(L,R);var Q=P.isVertical;if(C=="left"||C=="right"){y[M].labelsToDraw=s(L,R,O)}else{y[M].labelsToDraw=B(L,R,Q,O)}if(M===0){N.push(y[M])}else{if(y[M].labelsToDraw.length==y[M].domain.length){N.push(y[M])}else{if(y[M].labelsToDraw.length>0&&b.isExist(y.noEqual)&&y.noEqual===true){N.push(y[M])}}}}return N};var E=function(Q,N,P,M,O){var L=Q.append("line").attr("y1",P).attr("y2",O).attr("x1",N).attr("x2",M).attr("stroke",m.gridline.color).attr("stroke-width",m.gridline.size).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(m.gridline.type=="dotted"){L.attr("stroke-dasharray","3, 2")}};function k(V){var ag=A();if(J>=0){var L=[];var ap=k.getPreferredSize().spacings;var ad=J;for(var ar=0;ar<ap.length;ar++){if(ad>=ap[ar]){L.push(ag[ar]);ad-=ap[ar]}else{break}}if(L.length==0&&ag.length>0){var aq=[];for(var ar=0;ar<ag[0].domain.length;ar++){aq.push("")}L.push({domain:aq,range:ag[0].range})}ag=L}var U=ag.length>1?true:false;if(C=="left"){var N=0;var T=0;for(var af=0;af<ag.length;af++,N++){if(!m.label.visible&&af!=(ag.length-1)){continue}var ak=ag[af].domain;var P=ag[af].range;var am=v(ak,P);var ah=am.maxLabelTextWidth;if(!m.label.visible){ah=0}if(af==(ag.length-1)){if(m.gridline.showFirstLine){E(V,T+(ah+2*o),P[P.length-1][1],T+(ah+2*o)+m.gridline.length,P[P.length-1][1])}if(m.gridline.showLastLine){E(V,T+(ah+2*o),P[0][0],T+(ah+2*o)+m.gridline.length,P[0][0])}}if(ag.length==1){var Z=T+(ah+2*o);var Y=T+(ah+2*o);var aw=P[0][0];var au=P[P.length-1][1];var W="M"+(Z-r)+" "+aw;W+="L"+Z+" "+aw;W+="L"+Y+" "+au;W+="L"+(Y-r)+" "+au;var X=V.append("path").attr("d",W).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ag.length>=2&&(af==ag.length-1)){var X=V.append("line").attr("x1",T+(ah+2*o)).attr("x2",T+(ah+2*o)).attr("y1",P[0][0]).attr("y2",P[P.length-1][1]).attr("class","domain").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",T).attr("x2",T).attr("y1",P[0][0]).attr("y2",P[P.length-1][1]).attr("class","domain").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&af==(ag.length-1)){for(var ar=0;ar<ak.length;ar++){E(V,T+(ah+2*o),P[ar][0],T+(ah+2*o)+m.gridline.length,P[ar][0]);if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){E(V,T+(ah+2*o),P[ar][1],T+(ah+2*o)+m.gridline.length,P[ar][1])}}E(V,T+(ah+2*o)+m.gridline.length,P[0][0],T+(ah+2*o)+m.gridline.length,P[ar-1][1])}for(var ar=0;ar<ak.length;ar++){if(ag.length==1||(ag.length!=1&&!m.label.visible)){if(ar>0&&(P[ar][0]!=P[ar-1][1])){var ab=V.append("line").attr("x1",(ah+2*o)-r).attr("x2",(ah+2*o)).attr("y1",P[ar][0]).attr("y2",P[ar][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(ar!=(ak.length-1)){var aa=V.append("line").attr("x1",(ah+2*o)-r).attr("x2",(ah+2*o)).attr("y1",P[ar][1]).attr("y2",P[ar][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",T).attr("x2",T+(ah+2*o)).attr("y1",P[ar][0]).attr("y2",P[ar][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){V.append("line").attr("x1",T).attr("x2",T+(ah+2*o)).attr("y1",P[ar][1]).attr("y2",P[ar][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ac=ag[af].labelsToDraw;var Q;for(var ar=0;ar<ac.length;ar++){Q=ac[ar].custom;if(Q&&Q.type==="url"){}else{var O=b.isExist(ac[ar].text)?ac[ar].text:"";if(m.label.visible){var aj=V.append("text").attr("x",T+ah+o).attr("y",ac[ar].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(O).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);I(aj)}}}T+=(ah+2*o)}}else{if(C=="right"){var N=0;var T=0;for(var af=(ag.length-1);af>=0;af--,N++){if(!m.label.visible&&af!=(ag.length-1)){continue}var ak=ag[af].domain;var P=ag[af].range;var am=v(ak,P);var ah=am.maxLabelTextWidth;if(af==(ag.length-1)){if(m.gridline.showFirstLine){E(V,T,P[P.length-1][1],T-m.gridline.length,P[P.length-1][1])}if(m.gridline.showLastLine){E(V,T,P[0][0],T-m.gridline.length,P[0][0])}}if((ag.length==1)){var Z=T;var Y=T;var aw=P[0][0];var au=P[P.length-1][1];var W="M"+(Z+r)+" "+aw;W+="L"+Z+" "+aw;W+="L"+Y+" "+au;W+="L"+(Z+r)+" "+au;var X=V.append("path").attr("d",W).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ag.length>=2&&(af==(ag.length-1))){var X=V.append("line").attr("x1",T).attr("x2",T).attr("y1",P[0][0]).attr("y2",P[P.length-1][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",T+(ah+2*o)).attr("x2",T+(ah+2*o)).attr("y1",P[0][0]).attr("y2",P[P.length-1][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&af==(ag.length-1)){for(var ar=0;ar<ak.length;ar++){E(V,T+(ah+2*o),P[ar][0],T+(ah+2*o)+m.gridline.length,P[ar][0]);if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){E(V,T+(ah+2*o),P[ar][1],T+(ah+2*o)+m.gridline.length,P[ar][1])}}}for(var ar=0;ar<ak.length;ar++){if(ag.length==1||(ag.length!=1&&!m.label.visible)){if(ar>0&&(P[ar][0]!=P[ar-1][1])){var ab=V.append("line").attr("x1",0).attr("x2",r).attr("y1",P[ar][0]).attr("y2",P[ar][0]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(ar!=(ak.length-1)){var aa=V.append("line").attr("x1",0).attr("x2",r).attr("y1",P[ar][1]).attr("y2",P[ar][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",T).attr("x2",T+(ah+2*o)).attr("y1",P[ar][0]).attr("y2",P[ar][0]).attr("stroke",m.color).attr("stroke-width",1).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){V.append("line").attr("x1",T).attr("x2",T+(ah+2*o)).attr("y1",P[ar][1]).attr("y2",P[ar][1]).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ac=ag[af].labelsToDraw;var Q;for(var ar=0;ar<ac.length;ar++){Q=ac[ar].custom;if(Q&&Q.type==="url"){}else{var O=b.isExist(ac[ar].text)?ac[ar].text:"";if(m.label.visible){var aj=V.append("text").attr("x",T+o).attr("y",ac[ar].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(O).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);I(aj)}}}T+=(ah+2*o)}}else{if(C=="bottom"){var N=0;var M=0;for(var af=(ag.length-1);af>=0;af--,N++){if(!m.label.visible&&af!=(ag.length-1)){continue}var ak=ag[af].domain;var P=ag[af].range;var am=u(ak,P);var ao=am.maxLabelTextHeight;var al=am.isVertical;if(af==(ag.length-1)){if(m.gridline.showFirstLine){E(V,P[0][0],M,P[0][0],M-m.gridline.length)}if(m.gridline.showLastLine){E(V,P[P.length-1][0],M,P[P.length-1][0],M-m.gridline.length)}}if(ag.length==1){var Z=P[0][0];var Y=P[P.length-1][1];var aw=M;var au=M;var W="M"+Z+" "+(aw+r);W+="L"+Z+" "+aw;W+="L"+Y+" "+au;W+="L"+Y+" "+(au+r);var X=V.append("path").attr("d",W).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(G){var S=G*Math.PI/180;var ae=Math.cos(S);var R=(45==G)?ae:Math.sin(S);W="M "+P[0][0]+" "+M;W+="L"+(P[0][0]+P[P.length-1][1]*R)+" "+(M-P[P.length-1][1]*ae);W+="Z";X.attr("d",W)}}else{if(ag.length>=2&&(af==ag.length-1)){var X=V.append("line").attr("x1",P[0][0]).attr("x2",P[P.length-1][1]).attr("y1",M).attr("y2",M).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",P[0][0]).attr("x2",P[P.length-1][1]).attr("y1",M+ao+2*o).attr("y2",M+ao+2*o).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&af==(ag.length-1)){for(var ar=0;ar<ak.length;ar++){E(V,P[ar][0],M+(ao+2*o),P[ar][0],M+(ao+2*o)+m.gridline.length);if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){E(V,P[ar][1],M+(ao+2*o),P[ar][1],M+(ao+2*o)+m.gridline.length)}}}for(var ar=0;ar<ak.length;ar++){if(ag.length==1||(ag.length!=1&&!m.label.visible)){if(ar>0&&(P[ar][0]!=P[ar-1][1])){var ab=V.append("line").attr("x1",P[ar][0]).attr("x2",P[ar][0]).attr("y1",0).attr("y2",r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(ar!=(ak.length-1)){var aa=V.append("line").attr("x1",P[ar][1]).attr("x2",P[ar][1]).attr("y1",0).attr("y2",r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if(G){var S=G*Math.PI/180;var ae=Math.cos(S);var R=(45===G)?ae:Math.sin(S);var av=x*Math.PI/180;var ai=Math.cos(av);var at=Math.sin(av);var an=P[ar][1]*R;tickStartY=-P[ar][1]*ae;var Y=an+r*ai,au=tickStartY+r*at;aa.attr("x1",an).attr("y1",tickStartY).attr("x2",Y).attr("y2",au)}}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",P[ar][0]).attr("x2",P[ar][0]).attr("y1",M).attr("y2",M+2*o+ao).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){V.append("line").attr("x1",P[ar][1]).attr("x2",P[ar][1]).attr("y1",M).attr("y2",M+2*o+ao).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ac=ag[af].labelsToDraw;l(V,ac,M,ao,ak,al,ag.length!=1);M+=(ao+2*o)}}else{if(C=="top"){var N=0;var M=0;for(var af=0;af<ag.length;af++,N++){if(!m.label.visible&&af!=(ag.length-1)){continue}var ak=ag[af].domain;var P=ag[af].range;var am=u(ak,P);var ao=am.maxLabelTextHeight;var al=am.isVertical;if(!m.label.visible){ao=0}if(af==(ag.length-1)){if(m.gridline.showFirstLine){E(V,P[0][0],ao+2*o+M,P[0][0],ao+2*o+M+m.gridline.length)}if(m.gridline.showLastLine){E(V,P[P.length-1][1],ao+2*o+M,P[P.length-1][1],ao+2*o+M+m.gridline.length)}}if((ag.length==1)){var Z=P[0][0];var Y=P[P.length-1][1];var aw=ao+2*o+M;var au=ao+2*o+M;var W="M"+Z+" "+(aw-r);W+="L"+Z+" "+aw;W+="L"+Y+" "+au;W+="L"+Y+" "+(au-r);var X=V.append("path").attr("d",W).attr("fill","none").attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}else{if(ag.length>=2&&(af==ag.length-1)){var X=V.append("line").attr("x1",P[0][0]).attr("x2",P[P.length-1][1]).attr("y1",ao+2*o+M).attr("y2",ao+2*o+M).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",P[0][0]).attr("x2",P[P.length-1][1]).attr("y1",M).attr("y2",M).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(m.gridline.visible&&af==(ag.length-1)){for(var ar=0;ar<ak.length;ar++){E(V,P[ar][0],M+(ao+2*o),P[ar][0],M+(ao+2*o)+m.gridline.length);if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){E(V,P[ar][1],M+(ao+2*o),P[ar][1],M+(ao+2*o)+m.gridline.length)}}E(V,P[0][0],M+(ao+2*o)+m.gridline.length,P[ar-1][1],M+(ao+2*o)+m.gridline.length)}for(var ar=0;ar<ak.length;ar++){if(ag.length==1||(ag.length!=1&&!m.label.visible)){if(ar>0&&(P[ar][0]!=P[ar-1][1])){var ab=V.append("line").attr("x1",P[ar][0]).attr("x2",P[ar][0]).attr("y1",(ao+2*o)).attr("y2",(ao+2*o)-r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}if(ar!=(ak.length-1)){var aa=V.append("line").attr("x1",P[ar][1]).attr("x2",P[ar][1]).attr("y1",(ao+2*o)).attr("y2",(ao+2*o)-r).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}if(ag.length>=2&&m.label.visible){V.append("line").attr("x1",P[ar][0]).attr("x2",P[ar][0]).attr("y1",M).attr("y2",M+(ao+2*o)).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto");if((ar==(ak.length-1))||(P[ar][1]!=P[ar+1][0])){V.append("line").attr("x1",P[ar][1]).attr("x2",P[ar][1]).attr("y1",M).attr("y2",M+(ao+2*o)).attr("stroke",m.color).attr("stroke-width",m.lineSize).attr("shape-rendering",m.shapeRendering?"crispEdges":"auto")}}}var ac=ag[af].labelsToDraw;l(V,ac,M,ao,ak,al,ag.length!=1);M+=(ao+2*o)}}}}}}var I=function(M){if(jQuery.browser.msie){var L=F.label["font-size"].toString();var O=L.indexOf("px");if(O>=0){L=L.substr(0,O)}var N=M.attr("y");M.attr("y",Number(N)+L/2);M.attr("dominant-baseline","auto")}};var H=function(N){var M;if(N.info){var L=N.info.customlabel;if(L){if(L.type==="url"){M=N.val}else{if(L.type==="string"){M=L.val}}}else{M=N.val}}else{M=N.val}M=D(M)?g.get("IDS_ISNOVALUE"):M;M=a.format(M,m.label.formatString);return M};var q=function(L){if(L.info&&L.info.customlabel){return L.info.customlabel}};var s=function(U,S,V){var O=[];for(var R=0;R<U.length;R++){var W={};W.text=H(U[R]);W.custom=q(U[R]);var N=p(W.text,F.label);var P=S[R][0]+(S[R][1]-S[R][0])/2;W.width=N.width;W.height=N.height;W.y=P;W.y1=P-W.height/2;W.y2=P+W.height/2;O.push(W)}var T=[];if(m.label.hideStrategy!="greedy"){for(var Q=0;Q<=(O.length-1);Q++){var M=true;for(var R=(O.length-1);R>=0;R-=(Q+1)){var W=O[R];if(R!=(O.length-1)){var L=R+(Q+1);if(O[R].y2>=O[L].y1){M=false;break}}T.push(W)}if(M){break}else{T=[]}}}else{for(var L=Q=(O.length-1);Q>=0;Q--){var W=O[Q];if(L===Q&&S[Q][1]!=S[Q][0]){if(V&&W.y1>S[Q][0]&&W.y2<S[Q][1]){T.push(W)}else{if(!V){T.push(W)}}}else{if(W.y2<=O[L].y1&&S[Q][1]!=S[Q][0]){if(V){if(W.y1>S[Q][0]&&W.y2<S[Q][1]){T.push(W);L=Q}}else{T.push(W);L=Q}}}}}return T};var B=function(V,S,U,W){var O=[];for(var R=0;R<V.length;R++){var X={};X.text=H(V[R]);X.custom=q(V[R]);var N=p(X.text,F.label);if(U){X.width=N.height;X.height=N.width}else{X.width=N.width;X.height=N.height}var Q=S[R][0]+(S[R][1]-S[R][0])/2;X.x=Q;X.x1=Q-X.width/2;X.x2=Q+X.width/2;O.push(X)}var T=[];if(m.label.hideStrategy!="greedy"){for(var P=0;P<=(O.length-1);P++){var M=true;for(var R=0;R<O.length;R+=(P+1)){var X=O[R];if(R!=0){var L=R-(P+1);if(O[R].x1<=O[L].x2||S[P][1]===S[P][0]){M=false;break}}T.push(X)}if(M){break}else{T=[]}}}else{for(var L=P=(O.length-1);P>=0;P--){var X=O[P];if(L===P&&S[P][1]!=S[P][0]){if(W&&X.x1>S[P][0]&&X.x2<S[P][1]){T.push(X)}else{if(!W){T.push(X)}}}else{if(X.x2<=O[L].x1&&S[P][1]!=S[P][0]){if(W){if(X.x1>S[P][0]&&X.x2<S[P][1]){T.push(X);L=P}}else{T.push(X);L=P}}}}}return T};var l=function(aa,O,N,R,L,S,T){if(O===undefined){return}for(var V=0;V<O.length;V++){var Q=b.isExist(O[V].text)?O[V].text:"";if(m.label.visible){if(G){var Z=G*Math.PI/180;var ab=Math.cos(Z);var M=(45===G)?ab:Math.sin(Z);var P=x*Math.PI/180;var X=Math.cos(P);var W=Math.sin(P);var U=O[V].x*M;tickStartY=-O[V].x*ab;var ac=aa.append("text").attr("x",U+o*X).attr("y",tickStartY+N+o*W).attr("dominant-baseline","middle").attr("text-anchor","start").text(Q).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);if(x>90){ac.attr("text-anchor","end").attr("transform","rotate( "+(x-180)+" "+ac.attr("x")+" "+ac.attr("y")+")")}else{ac.attr("transform","rotate( "+(x)+" "+ac.attr("x")+" "+ac.attr("y")+")")}}else{var ac=aa.append("text").attr("x",O[V].x).attr("y",N+R/2+o).attr("dominant-baseline","middle").attr("text-anchor","middle").text(Q).attr("fill",F.label.fill).attr("font-size",F.label["font-size"]).attr("font-weight",F.label["font-weight"]).attr("font-family",F.label["font-family"]);if(S){if(!T){if(C=="top"){ac.attr("text-anchor","start").attr("y",N+R+o)}else{if(C=="bottom"){ac.attr("y",N+o).attr("text-anchor","end")}}}var Y="-90";ac.attr("transform","rotate( "+Y+" "+ac.attr("x")+" "+ac.attr("y")+" )")}I(ac)}}}};k.position=function(L){if(!arguments.length){return C}C=L;return k};k.properties=function(L){if(arguments.length==0){return m}m=d.extend(true,m,L);return k};k.style=function(L){if(arguments.length==0){return F}F=d.extend(true,F,L);return k};k.axScale=function(L){if(!arguments.length){return y}y=L;return k};k.getPreferredSize=function(){var M=A();var T=0;var P=0;var N=[];for(var S=0;S<M.length;S++){if(!m.label.visible&&S!=(M.length-1)){continue}var Q=M[S].domain;var V=M[S].range;if(Q.length===0||V.length===0){continue}if(C=="bottom"||C=="top"){T=Math.abs(V[V.length-1][1]-V[0][0])+z;var O=0;if(m.label.visible){O+=u(Q,V).maxLabelTextHeight}O+=2*o;P+=O;N.push(O)}else{if(C=="left"||C=="right"){var U=0;if(m.label.visible){U+=v(Q,V).maxLabelTextWidth}U+=2*o;T+=U;N.push(U);P=Math.abs(V[V.length-1][1]-V[0][0])+z}}}if(J>=0){var W=N;var R=J;var L=0;for(var S=0;S<W.length;S++){if(R>=W[S]){L+=W[S];R-=W[S]}else{break}}if(L==0&&W.length>0){L+=W[0]}if(C=="bottom"||C=="top"){P=L}else{if(C=="left"||C=="right"){T=L}}}return{width:T,height:P,spacings:N,}};k.matrix=function(L){if(!arguments.length){return w}w=L;return k};k.labelAngle=function(L){if(!arguments.length){return i}i=L;return k};k.tickAngle=function(L){if(!arguments.length){return x}x=L;return k};k.angle=function(L){if(!arguments.length){return G}G=L;return k};k.labelAlign=function(L){if(!arguments.length){return K}K=L;return k};var t=function(O,P){var S=[];var T=[];var L=false;for(var Q=0;Q<O.length;Q++){var N=p(H(O[Q]),F.label);var U=N.height;var R=N.width;var M=P[Q][1]-P[Q][0];if((U<R)&&M!=0&&R>M){if(C=="top"||C=="bottom"){L=true}}S.push(U);T.push(R)}return{heights:S,widths:T,isVerticalFont:L}};var u=function(P,O){var M={maxLabelTextHeight:0,isVertical:false};var R=0;var Q=false;var N=t(P,O);Q=m.forceVerticalFont===true?true:N.isVerticalFont;for(var L=0;L<P.length;L++){if(Q){if(R<N.widths[L]){R=N.widths[L]}}else{if(R<N.heights[L]){R=N.heights[L]}}}M.maxLabelTextHeight=R;M.isVertical=Q;return M};var v=function(P,O){var M={maxLabelTextWidth:0,isVertical:false};var R=0;var Q=false;var N=t(P,O);Q=m.forceVerticalFont===true?true:N.isVerticalFont;for(var L=0;L<P.length;L++){if(Q){if(R<N.heights[L]){R=N.heights[L]}}else{if(R<N.widths[L]){R=N.widths[L]}}}M.maxLabelTextWidth=R;M.isVertical=Q;return M};var p=function(M,L){return e.fastMeasure(M,L["font-size"],L["font-weight"],L["font-family"])};var D=function(L){if(typeof(L)!="string"&&h.isNoValue(L)){return true}return false};return k}});sap.riv.module({qname:"sap.viz.modules.title",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(b,c,a,d){var e=function(f,l){var g=500,k=100;var i=null;var n={},m={width:500,height:100},o=undefined;var h=function(p){if(n.visible){d.drawBound(p,g,k);j();var q=this.selectAll("text.chart-title").data([o]);q.exit().remove();q.enter().append("text").attr("class","chart-title");q.attr("style",i).attr("text-anchor",function(){if(n.alignment=="right"){return"end"}else{if(n.alignment=="left"){return"start"}else{return"middle"}}}).attr("x",function(){if(n.alignment=="right"){return g}else{if(n.alignment=="left"){return 0}else{return(g)/2}}}).attr("y",k/2);b.ellipsis(o,q.node(),g,i)}return h};h.width=function(p){if(!arguments.length){return g}g=p;return h};h.height=function(p){if(!arguments.length){return k}k=p;return h};h.size=function(p){if(!arguments.length){return m}m=p;return h};h.properties=function(p){if(!arguments.length){return n}a.extend(true,n,p);if(n.text===undefined||n.text===null){o=c.get("IDS_DEFAULTCHARTTITLE")}else{o=n.text}return h};h.getPreferredSize=function(){if(n.visible){j();var p=b.measure(o,i);return{hideOversize:true,maxSizeConstant:1/3,width:p.width,height:p.height}}return{width:0,height:0}};function j(){i=l.styleManager.cssText("viz-title-label")}n=f.props(null);return h};return e});sap.riv.module({qname:"sap.viz.modules.geo.GeoBubble",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.tooltipDataHandler",version:"4.0.0"},{qname:"sap.viz.util.ColorSeriesGenerator",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.Repository",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.DrawUtil",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(c,l,e,a,h,b,g,j,k,f,i){return function d(w,N){var n=500,z=300,D=0,m,ag,p,af,q={colorPalette:e.sap32().range(),tooltip:{enabled:true},animation:{dataLoading:true,dataUpdating:true},drawingEffect:"normal"},S=b.extend(true,{},q,w.props()),aa=N.effectManager,t=null,ad="normal",X,ab=0,V=0,I,R=1/6,ae=e.sap32().range(),s=true,L=d3.geo.mercator().scale(1).translate([0,0]),J=null,H,G=null;var T=h.newId();var U={stroke:"#ffffff","stroke-width":1};var P={stroke:"#333333","stroke-width":1};var x=new c("selectData","deselectData","showTooltip","hideTooltip","initialized");var O=true,E=true,Z=true,Y=false,W=1000;function A(){return ag.getAnalysisAxisDataByIdx(0)}function r(){if(t&&t.isReady()){return t.centroids(L)}var ak=A().values[0].rows.length;var ai=[];for(var aj=0;aj<ak;aj++){ai.push([-8000,-8000])}return ai}function K(){if(!t||!ag){return}ab=0;V=Number.MAX_VALUE;I={};var ak=ag.getMeasureValuesGroupDataByIdx(0);var ai=false,aj;b.each(ak.values[0].rows[0],function(al,am){if(t.validateAtIndex(al)){aj=am.val;if(j.isNoValue(aj)){ai=true}else{aj=Math.abs(aj);I[aj]=true;ab=aj>ab?aj:ab;V=aj<V?aj:V}}});if(ai){V=null}}function v(){if(!a.isExist(n)||!a.isExist(z)||!a.isExist(ag)){return}var ai=ag.getMeasureValuesGroupDataByIdx(0);if(ai&&ai.values.length&&ab>V){X=C(ab);J=ai.values[0].col}else{X=function(){return 16}}}function ac(aq,ai,am,ar){var au=ai.x,at=ai.y,ax=ai.w,ao=ai.h,ak=ai.colorValue,ap=ai.renderShape;var al=X(ax)/2,aj=X(ao)/2;var aw=0;if(am){aw=W}var an=k.createElements(aq,{shape:ap,className:"viz-correlation-marker datapoint"});var av={drawingEffect:ad,fillColor:ak,graphType:ap,direction:"vertical",rx:al,ry:aj,borderWidth:U["stroke-width"],borderColor:U.stroke,node:an,visibility:"visible",animateTime:aw,endFunc:ar};k.drawGraph(av,aa).attr("fill-opacity","0.8").attr("stroke-opacity","0.8").attr("transform","translate("+au+","+at+")")}function Q(ak,ai,aj,al){if(j.isNoValue(ai.x)||j.isNoValue(ai.y)){if(aj){al()}}else{ac(ak,ai,aj,al)}}function F(al,ak){var ai="scale("+(1/ak)+")",aj=/scale\([^\)]+\)/;if(H){H.attr("transform","translate("+al[0]+","+al[1]+") scale("+ak+")");H.selectAll(".datapoint").attr("transform",function(){var am=d3.select(this).attr("transform");if(aj.test(am)){return am.replace(aj,ai)}else{return[am,ai].join(" ")}})}G={t:al,s:ak}}function u(){B();if(p){p.remove()}if(af){af.remove()}if(!ag||!m){return}y();var aq=r();var ao=t.labels();var ak=ag.getMeasureValuesGroupDataByIdx(0);var ay="edge-clip-"+T;af=m.append("defs");af.append("clipPath").attr("id",ay).append("rect").attr("width",n).attr("height",z);p=m.append("g").attr("class","datashapesgroup");p.attr("clip-path","url(#"+ay+")");p.append("rect").attr("x",0).attr("y",0).attr("width",n).attr("height",z).attr("fill-opacity",0).attr("id","event-rect"+T);p.append("line").attr("id","cross_x"+T).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");p.append("line").attr("id","cross_y"+T).attr("stroke-width",1).attr("stroke","#cccccc").attr("shape-rendering","crispEdges").attr("visibility","hidden");H=p.append("g");var ai=ae[0];var aj="circle";var ap=[];for(var an=0;an<aq.length;an++){var az=aq[an];if(!az){continue}var au=ak.values[0].rows[0][an];var av=az[0],at=az[1],aw=au.val;var ax={x:av,y:at,w:aw,h:aw,colorValue:ai,renderShape:aj,label:ao[an],nameIndex:an,val:[aw],ctx:[au.ctx]};ap.push(ax)}ap.sort(function(aC,aA){var aB=aC.h||aC.w;var aD=aA.h||aA.w;return Math.abs(aA.w*aD)-Math.abs(aC.w*aB)});var al=0;Y=false;function ar(){al++;if(al==ap.length){Y=true;x.initialized()}}var am=(O&&Z)||(E&&!Z);for(an=0;an<ap.length;an++){Q(H,ap[an],am,ar)}if(G){F(G.t,G.s)}m.selectAll(".viz-correlation-marker").data(ap);if(!am||!ap.length){Y=true;x.initialized()}}function C(ai){return function(al){if(j.isNoValue(al)){return 4}var aj=Math.min(n,z);var ak=Math.pow(Math.abs(al)/ai,0.5)*(aj-D)*R;return ak>4?ak:4}}function y(){var aj=N.styleManager.query("viz-correlation-marker");if(aj){if(aj.stroke){U.stroke=aj.stroke}if(aj["stroke-width"]){U["stroke-width"]=aj["stroke-width"]}}var ai=N.styleManager.query("viz-correlation-marker-selected");if(ai){if(ai.stroke){P.stroke=ai.stroke}if(ai["stroke-width"]){P["stroke-width"]=ai["stroke-width"]}}}function M(){var ai=Object.keys(I).length;if(V===null){ai++}if(ai===0){return[]}else{if(ai===1){return[V]}else{if(ai===2){return[ab,V]}else{return[ab,(ab+V)/2,V]}}}}function ah(ao,ai,aj){var am=ag.getMeasureValuesGroupDataByIdx(0);var an=ag.getAnalysisAxisDataByIdx(0);var al=[];if(an&&an.values.length>0){al.push({label:an.values[0].col.val,value:aj.label})}var ap=[];if(am&&am.values.length>0){ap.push({name:am.values[0].col,val:[{value:j.isNoValue(ao.w)?f.get("IDS_ISNOVALUE"):ao.w}]})}var ak={footer:al,body:ap,point:{x:ao.x+ai.e,y:ao.y+ai.f},orientation:"left",plotArea:{x:ao.x+ai.e,y:ao.y+ai.f,width:Math.max(15,X(ao.w)/3),height:5}};x.showTooltip(l.formatTooltipData(ak))}function B(){if(s){x.hideTooltip()}}function o(ai){m=d3.select(ai.node());u();Z=false;return o}o.parent=function(){return m};o.width=function(ai){if(!arguments.length){return n}n=ai;v();return o};o.height=function(ai){if(!arguments.length){return z}z=ai;v();return o};o.padding=function(ai){if(!arguments.length){return D}D=ai;v();return o};o.bubbleRadius=function(){return Math.ceil(X(ab)/2)+1};o.colorPalette=function(ai){if(!arguments.length){return ae}ae=ai;return o};o.sizeLegend=function(){return{bubbleScale:R,space:D,scale:X,data:M(),title:J}};o.dispatch=function(ai){if(!arguments.length){return x}x=ai;return this};o.data=function(ai){if(!arguments.length){return ag}ag=ai;return o};o.properties=function(ai){if(!arguments.length){return S}i.extend(true,S,ai);if(a.isExist(S.colorPalette)){ae=S.colorPalette}if(a.isExist(S.drawingEffect)){ad=S.drawingEffect}if(a.isExist(S.tooltip.enabled)){s=S.tooltip.enabled}if(a.isExist(S.animation)){O=S.animation.dataLoading;E=S.animation.dataUpdating}return o};o.featureValuesDataRange=function(ai){if(!arguments.length){return{distinctValuesObj:I,min:V,max:ab}}ab=ai.max;V=ai.min;I=ai.distinctValuesObj;v();return o};o.mouseover=function(al){if(!al){return}var ak=d3.select(al);if(ak.attr("id")==("event-rect"+T)||ak.attr("id")==("cross_x"+T)||ak.attr("id")==("cross_y"+T)){return}var am=ak.datum();ak.attr("fill-opacity","1").attr("stroke-opacity","1");if(s){var aj=m.node(),ai=ak.datum();ah(am,al.getTransformToElement(aj.ownerSVGElement),ai)}};o.mouseout=function(ak,ai){if(!ak){return}var aj=d3.select(ak);if(aj.attr("id")==("event-rect"+T)){return}if(ai){aj.attr("fill-opacity","0.8").attr("stroke-opacity","0.8")}else{aj.attr("fill-opacity","0.2").attr("stroke-opacity","0.2")}m.select("#cross_x").attr("visibility","hidden");m.select("#cross_y").attr("visibility","hidden");B()};o.highlight=function(ai){var aj=a.isArray(ai)?d3.selectAll(ai):d3.select(ai);aj.attr("class","viz-correlation-marker-selected datapoint").attr("fill-opacity","0.8").attr("stroke-opacity","0.8").attr("stroke",P.stroke).attr("stroke-width",P["stroke-width"])};o.unhighlight=function(ai){var aj=a.isArray(ai)?d3.selectAll(ai):d3.select(ai);aj.attr("class","viz-correlation-marker datapoint").attr("fill-opacity","0.2").attr("stroke-opacity","0.2").attr("stroke",U.stroke).attr("stroke-width",U["stroke-width"])};o.clear=function(ai){var aj=m.selectAll(".datapoint").attr("class","viz-correlation-marker datapoint").attr("stroke",U.stroke).attr("stroke-width",U["stroke-width"]);if(ai){aj.attr("fill-opacity","0.2").attr("stroke-opacity","0.2")}else{aj.attr("fill-opacity","0.8").attr("stroke-opacity","0.8")}};o.geoDataHandler=function(ai){if(!arguments.length){return t}t=ai;K();v();return o};o.move=F;return o}});sap.riv.module({qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.modules.threeD.Point",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"}],function Setup(d,f,c,a,e,b){return function(){var C;var z=null;var p=5;var l=4;var B=7;var A=1;var t="#6c6c6c";var k="#d8d8d8";var r="#ffffff";var n="#333333";var E=null;var j={title:{visible:false,text:undefined,},gridline:{visible:true,color:k,showFirstLine:false,length:0,showLastLine:false,type:"line"},type:"value",visible:true,label:{visible:true,numberFormat:"",formatString:"",},position:"left",color:t,axisline:{visible:true},shapeRendering:true};var x=b(),g=null,I=null,F=null,y=null;var H=-1;h.spaceLimit=function(J){if(!arguments.length){return H}H=J;return h};function h(ah){var N=z.range();var K=z.domain();if(N[0]==0&&N[1]==0){return}var R=u();if(C=="bottom"){var P=0;if(j.label.visible){var ac=[];for(var Y=0;Y<R.length;Y++){ac.push(R[Y].text)}P=s(ac)}if((H!=-1)&&(P+p+2*l+A/2>H)){R=[]}for(var Y=0;Y<R.length;Y++){var ae=ah.append("line").attr("x1",z(R[Y].value)).attr("x2",z(R[Y].value)).attr("y1",0).attr("y2",p+1).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(F){var ag=F*Math.PI/180;var ai=Math.cos(ag);var M=(45===F)?ai:Math.sin(ag);var O=y*Math.PI/180;var af=Math.cos(O);var ad=Math.sin(O);var X=z(R[Y].value)*M;tickStartY=-z(R[Y].value)*ai;var Z=X+(p+1)*af,J=tickStartY+(p+1)*ad;ae.attr("x1",X).attr("y1",tickStartY).attr("x2",Z).attr("y2",J)}var U=function(){var aj=ah.append("line").attr("x1",z(R[Y].value)).attr("x2",z(R[Y].value)).attr("y1",-j.gridline.length).attr("y2",0).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){aj.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var aj=ah.append("line").attr("x1",z(R[Y].value)-1).attr("x2",z(R[Y].value)-1).attr("y1",-j.gridline.length).attr("y2",0).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Y==0&&j.gridline.showFirstLine){U()}else{if(Y==(R.length-1)&&j.gridline.showLastLine){U()}else{if((Y!=(R.length-1))&&(Y!=0)&&j.gridline.visible){U()}}}}if(j.label.visible){i(ah,"Bottom",R,P)}if(j.axisline.visible){var ab=N[0];var Z=N[1];var L=0;var J=0;var Q=0;var T="M"+ab+" "+(L+Q);T+="L"+ab+" "+L;T+="L"+Z+" "+J;T+="L"+Z+" "+(J+Q);var V=ah.append("path").attr("d",T).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(F){var ag=F*Math.PI/180;var ai=Math.cos(ag);var M=(45==F)?ai:Math.sin(ag);T="M "+N[1]+" "+L;T+="L"+(N[1]+N[0]*M)+" "+(L-N[0]*ai);T+="Z";V.attr("d",T)}}}else{if(C=="top"){var P=0;if(j.label.visible){var ac=[];for(var Y=0;Y<R.length;Y++){ac.push(R[Y].text)}P=s(ac)}if((H!=-1)&&(P+p+2*l+A/2>H)){R=[]}var W=1;if(j.label.visible){W=2}for(var Y=0;Y<R.length;Y++){var ae=ah.append("line").attr("x1",z(R[Y].value)).attr("x2",z(R[Y].value)).attr("y1",P+W*l).attr("y2",P+W*l+p).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var U=function(){var aj=ah.append("line").attr("x1",z(R[Y].value)).attr("x2",z(R[Y].value)).attr("y1",P+p+W*l).attr("y2",P+p+W*l+j.gridline.length).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){aj.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var aj=ah.append("line").attr("x1",z(R[Y].value)-1).attr("x2",z(R[Y].value)-1).attr("y1",P+p+W*l).attr("y2",P+p+W*l+j.gridline.length).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Y==0&&j.gridline.showFirstLine){U()}else{if(Y==(R.length-1)&&j.gridline.showLastLine){U()}else{if((Y!=(R.length-1))&&(Y!=0)&&j.gridline.visible){U()}}}}if(j.label.visible){i(ah,"Top",R,P)}if(j.axisline.visible){var ab=N[0];var Z=N[1];var L=P+p+W*l;var J=P+p+W*l;var Q=0;var T="M"+ab+" "+(L-Q);T+="L"+ab+" "+L;T+="L"+Z+" "+J;T+="L"+Z+" "+(J-Q);var V=ah.append("path").attr("d",T).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}else{if(C=="left"){R=D(R);var aa=0;if(j.label.visible){var ac=[];for(var Y=0;Y<R.length;Y++){ac.push(R[Y].text)}aa=v(ac)}if((H!=-1)&&(aa+p+2*l+A/2>H)){R=[]}var W=1;if(j.label.visible){W=2}for(var Y=0;Y<R.length;Y++){var ae=ah.append("line").attr("x1",aa+W*l).attr("x2",aa+W*l+p).attr("y1",z(R[Y].value)).attr("y2",z(R[Y].value)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var U=function(){var aj=ah.append("line").attr("y1",z(R[Y].value)).attr("y2",z(R[Y].value)).attr("x1",aa+W*l+p).attr("x2",aa+W*l+p+j.gridline.length).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){aj.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var aj=ah.append("line").attr("y1",z(R[Y].value)+1).attr("y2",z(R[Y].value)+1).attr("x1",aa+W*l+p).attr("x2",aa+W*l+p+j.gridline.length).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Y==0&&j.gridline.showFirstLine){U()}else{if(Y==(R.length-1)&&j.gridline.showLastLine){U()}else{if((Y!=(R.length-1))&&(Y!=0)&&j.gridline.visible){U()}}}if(j.label.visible){var S=ah.append("text").attr("x",aa+l).attr("y",z(R[Y].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(R[Y].text).attr("fill",E.label.fill).attr("font-size",E.label["font-size"]).attr("font-weight",E.label["font-weight"]).attr("font-family",E.label["font-family"]);G(S)}}if(j.axisline.visible){var ab=aa+W*l+p;var Z=aa+W*l+p;var L=N[0];var J=N[1];var Q=0;var T="M"+(ab-Q)+" "+L;T+="L"+ab+" "+L;T+="L"+Z+" "+J;T+="L"+(Z-Q)+" "+J;var V=ah.append("path").attr("d",T).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}else{if(C=="right"){R=D(R);if(j.label.visible){var ac=[];for(var Y=0;Y<R.length;Y++){ac.push(R[Y].text)}aa=v(ac)}if((H!=-1)&&(aa+p+2*l+A/2>H)){R=[]}for(var Y=0;Y<R.length;Y++){var ae=ah.append("line").attr("x1",0).attr("x2",p).attr("y1",z(R[Y].value)).attr("y2",z(R[Y].value)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");var U=function(){var aj=ah.append("line").attr("y1",z(R[Y].value)).attr("y2",z(R[Y].value)).attr("x1",-j.gridline.length).attr("x2",0).attr("stroke",j.gridline.color).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto");if(j.gridline.type=="dotted"){aj.attr("stroke-dasharray","3, 2")}if(j.gridline.type=="incised"){var aj=ah.append("line").attr("y1",z(R[Y].value)+1).attr("y2",z(R[Y].value)+1).attr("x1",-j.gridline.length).attr("x2",0).attr("stroke",r).attr("stroke-width",j.gridline.size).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}};if(Y==0&&j.gridline.showFirstLine){U()}else{if(Y==(R.length-1)&&j.gridline.showLastLine){U()}else{if((Y!=(R.length-1))&&(Y!=0)&&j.gridline.visible){U()}}}if(j.label.visible){var S=ah.append("text").attr("x",p+l).attr("y",z(R[Y].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(R[Y].text).attr("fill",E.label.fill).attr("font-size",E.label["font-size"]).attr("font-weight",E.label["font-weight"]).attr("font-family",E.label["font-family"]);G(S)}}if(j.axisline.visible){var ab=0;var Z=0;var L=N[0];var J=N[1];var Q=0;var T="M"+(ab+Q)+" "+L;T+="L"+ab+" "+L;T+="L"+Z+" "+J;T+="L"+(Z+Q)+" "+J;var V=ah.append("path").attr("d",T).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering",j.shapeRendering?"crispEdges":"auto")}}}}}}var G=function(K){if(jQuery.browser.msie){var J=E.label["font-size"].toString();var M=J.indexOf("px");if(M>=0){J=J.substr(0,M)}var L=K.attr("y");K.attr("y",Number(L)+J/2);K.attr("dominant-baseline","auto")}};h.matrix=function(J){if(!arguments.length){return x}x=J;return h};h.labelAngle=function(J){if(!arguments.length){return g}g=J;return h};h.tickAngle=function(J){if(!arguments.length){return y}y=J;return h};h.angle=function(J){if(!arguments.length){return F}F=J;return h};h.labelAlign=function(J){if(!arguments.length){return I}I=J;return h};h.position=function(J){if(!arguments.length){return C}C=J;return h};h.style=function(J){if(arguments.length==0){return E}E=c.extend(true,E,J);return h};h.properties=function(J){if(arguments.length==0){return j}j=q(j,J);return h};h.axScale=function(J){if(!arguments.length){return z}z=J;return h};h.startPadding=function(){if(z){var J=u();var K=0;if(J.length>0){K=m(J[0].text,E.label)}if(K==0){return 0}if(C=="top"||C=="bottom"){return K.width/2}else{return K.height/2}}else{return 0}};h.endPadding=function(){if(z){var J=u();var K=0;if(J.length>0){K=m(J[J.length-1].text,E.label)}if(K==0){return 0}if(C=="top"||C=="bottom"){return K.width/2}else{return K.height/2}}else{return 0}};h.getPreferredSize=function(){var K=z.domain();var Q=z.range();var P=0;var O=0;var L=[];if(!(Q[0]==0&&Q[1]==0)){if(C=="bottom"||C=="top"){P=Math.abs(Q[1]-Q[0])+A;if(j.label.visible){var J=u();var M=[];for(var N=0;N<J.length;N++){M.push(J[N].text)}O=s(M)+p+2*l+A/2}else{O=p+l+A/2}L.push(O)}else{if(C=="left"||C=="right"){if(j.label.visible){var J=u();var M=[];for(var N=0;N<J.length;N++){M.push(J[N].text)}P=v(M)+p+2*l+A/2}else{P=p+l+A/2}L.push(P);O=Math.abs(Q[1]-Q[0])+A}}}return{width:P,height:O,spacings:L,}};var D=function(J){if(J.length>0){if(z(J[0].value)>z(J[J.length-1].value)){J.reverse()}}var K=[];for(var M=0;M<J.length;M++){if(!f.isNoValue(J[M].value)){var N={};N.value=J[M].value;N.text=J[M].text;var P=m(N.text,E.label).height;var O=z(N.value);N.start=O-P/2;N.end=O+P/2;K.push(N)}}var L=[];L=o(K);return L};var i=function(W,U,P,N){if(P.length==0){return}if(P.length>0){if(z(P[0].value)>z(P[P.length-1].value)){P.reverse()}}var L=[];for(var O=0;O<P.length;O++){var Z={};Z.value=P[O].value;Z.text=P[O].text;var R=m(Z.text,E.label).width;var M=z(Z.value);Z.start=M-R/2;Z.end=M+R/2;L.push(Z)}var T=[];T=o(L);for(var O=0;O<T.length;O++){if(F){var X=F*Math.PI/180;var V=Math.cos(X);var K=(45===F)?V:Math.sin(X);var S=y*Math.PI/180;var J=Math.cos(S);var Q=Math.sin(S);var Y=z(T[O].value)*K;tickStartY=-z(T[O].value)*V;var Z=W.append("text").attr("x",Y+l*J).attr("y",tickStartY+l*Q).attr("dominant-baseline","middle").attr("text-anchor","start").text(T[O].text).attr("fill",E.label.fill).attr("font-size",E.label["font-size"]).attr("font-weight",E.label["font-weight"]).attr("font-family",E.label["font-family"]);if(y>90){Z.attr("text-anchor","end").attr("transform","rotate( "+(y-180)+" "+Z.attr("x")+" "+Z.attr("y")+")")}else{Z.attr("transform","rotate( "+(y)+" "+Z.attr("x")+" "+Z.attr("y")+")")}}else{var Z=W.append("text").attr("x",z(T[O].value)).attr("y",l+p).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(T[O].text).attr("fill",E.label.fill).attr("font-size",E.label["font-size"]).attr("font-weight",E.label["font-weight"]).attr("font-family",E.label["font-family"]);Z.attr("dominant-baseline","auto");Z.attr("y",N+l)}}};var o=function(K){var N=[];if(K.length>0){if(!(K[0].value>=0&&K[K.length-1].value>=0)&&!(K[0].value<=0&&K[K.length-1].value<=0)){var M=[];var O=[];for(var L=0;L<K.length;L++){if(K[L].value<=0){M.push(K[L])}if(K[L].value>=0){O.push(K[L])}}M=w(M);O=w(O);var J=function(Q,P){return Q.value-P.value};M.sort(J);O.sort(J);if(M[M.length-1].value==0&&O[0].value==0){M.pop()}N=M.concat(O)}else{N=w(K)}}if(N.length<=1){N=[]}return N};var w=function(K){var N=[];for(var Q=0;Q<=(K.length-1);Q++){var L=true;for(var M=0;M<K.length-1;M+=(Q+1)){var P=K[M];if(M!=0){var J=N[N.length-1];if(K[M].start<=J.end){if(N.length>1){L=false;break}}else{N.push(P)}}else{N.push(P)}}var O=K[K.length-1];if(O.start<N[N.length-1].end){N.pop()}N.push(O);if(L){break}else{N=[]}}return N};var u=function(){var L=z.domain();var K=B;if(z.tickHint){K=z.tickHint}var J=z.ticks(K);for(var P=0;P<J.length;P++){J[P]=parseFloat(J[P].toFixed(8))}var R;var Q;if(L[0]<=L[L.length-1]){R=L[0];Q=L[L.length-1]}else{R=L[L.length-1];Q=L[0]}if(J.length>0){if(J[0]!=R){J.unshift(R)}if(J[J.length-1]!=Q){J.push(Q)}}var S=[];for(var P=0;P<J.length;P++){var N={};N.value=J[P];if(j.isPercentMode){N.text=parseFloat((J[P]*100).toFixed(8)).toString()}else{N.text=parseFloat(J[P].toFixed(8)).toString()}S.push(N)}if(j.label){if(!j.label.formatString&&j.label.numberFormat){for(var P=0;P<J.length;P++){var O=d3.format(j.label.numberFormat);S[P].text=(O(J[P]))}}else{if(j.label.formatString){var M=j.label.formatString;for(var P=0;P<J.length;P++){S[P].text=(a.format(J[P],M))}}}}return S};var s=function(K){var M=0;for(var L=0;L<K.length;L++){var J=m(K[L],E.label).height;if(M<J){M=J}}return M};var v=function(K){var M=0;for(var L=0;L<K.length;L++){var J=m(K[L],E.label).width;if(M<J){M=J}}return M};var m=function(K,J){return d.fastMeasure(K,J["font-size"],J["font-weight"],J["font-family"])};var q=function(K,J){for(var L in J){if(typeof(J[L])==="object"){if(K[L]){K[L]=q(K[L],J[L])}else{K[L]=J[L]}}else{K[L]=J[L]}}return K};return h}});sap.riv.module({qname:"sap.viz.modules.axis",version:"4.0.0",exported:true},[{qname:"sap.viz.util.TextUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.modules.axis.valueAxisCore",version:"4.0.0"},{qname:"sap.viz.modules.axis.categoryAxisCore",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"},{qname:"sap.viz.util.NumberUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.modules.threeD.matrix",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(d,f,i,b,c,g,e,a,h,j){return function(z,J){var y=null;var w=null;var C=0;var U=0;var K=true;var ac=-1;var q="viz-axis";var t="viz-axis-body";var k="viz-axis-title";var A="viz-axis-label";var I=11;var s={};var T={};var N=true;var V=z.props(null);var W=true;var D=new e("initialized");var u=V.color;var ab=null;var F;if(J){F=J.effectManager}var Y=null;var p={};var B=function(){if(J){p.title=J.styleManager.query(k);p.label=J.styleManager.query(A);if(V.title.applyAxislineColor){p.title.fill=V.color}}};var H=h(),O=null,l=null,G=null,v=null;var M=function(){if(!W){return false}else{if(!aa()&&!Q()){return false}}return true};var Q=function(){return V.title.visible&&V.visible};var aa=function(){if(!K){return false}var ah=ab.range();var ae=ab.domain();var ag=null;if(V.type==="category"){ag=ab.rangeBand()}var af=false;if(!V.isIndependentMode){if(T){af=true}}else{if(s){af=true}}return !(!V.visible||(ah[0]===0&&ah[ah.length-1]===0&&ah.length>=2)||(ah.length===1&&ah[0]===0&&ae.length===1&&ae[0]===0&&V.type==="value")||((!ag||!af)&&ah.length===1&&ah[0]===0&&ae.length===1&&ae[0]===0&&V.type==="category"))};var L=function(aD){var ao=L.getPreferredSize();j.drawBound(aD,ao.width,ao.height);w=aD;var au=aD.select("."+q);var aF=ab.range();var ak=ab.domain();if(!M()){au.remove()}else{var aj=L.getPreferredSize().spacings;var az=aj[0];var ah=0;for(var ax=1;ax<aj.length;ax++){ah+=aj[ax]}if(ac>=0&&ac<(az+ah)){N=false}r();var ay;var ai;var ap=S();ay=ap.core;ai=ap.coreScale;var ag=ay().properties(V).style(p).position(V.position).axScale(ai).spaceLimit(ac).matrix(H).labelAngle(O).labelAlign(l).angle(G).tickAngle(v);var av;if(au.empty()){au=aD.append("g").attr("class",q);av=au.append("g").attr("class",t)}else{var aA=au.select("."+t).remove();av=au.append("g").attr("class",t);av=au.select("."+t)}if(aa()){av.call(ag)}var aE="";if(V.title.text!==undefined&&V.title.text!==null){aE=V.title.text}else{if(V.type==="value"){if(Y){aE=Y}else{aE=c.get("IDS_ISNOVALUE")}}else{var an=[];if(V.isIndependentMode){if(s){for(var at in s){if(s.hasOwnProperty(at)){an=s[at].values;break}}}}else{if(T){an=T.values}}for(var ar=0;ar<an.length;ar++){if(an[ar].type){if(an[ar].type==="MND"&&ar===0){aE+=c.get("IDS_DEFAULTMND")+((an.length===1)?"":" - ")}else{if(an[ar].type==="MND"&&ar===(an.length-1)){aE+=" - "+c.get("IDS_DEFAULTMND")}}}else{if(an[ar].col.val){aE+=an[ar].col.val}else{aE+=c.get("IDS_ISNOVALUE")}if(ar!==(an.length-1)&&!an[ar+1].type){aE+=" / "}}}}}var af=I;au.select("."+k).remove();if(Q()){if(V.title.visible&&N){var aC=ag.getPreferredSize();var aw=au.append("g").attr("class",k).append("text").attr("text-anchor","middle").attr("fill",p.title.fill).attr("font-size",p.title["font-size"]).attr("font-weight",p.title["font-weight"]).attr("font-family",p.title["font-family"]);if(V.position==="bottom"){if(!aa()){aC.height=0}aw.attr("x",aC.width/2).attr("y",aC.height+af).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ae=p.title["font-size"].toString();var aq=ae.indexOf("px");if(aq>=0){ae=ae.substr(0,aq)}aw.attr("y",Number(aw.attr("y"))+ae/2);aw.attr("dominant-baseline","auto")}d.ellipsis(aE,aw.node(),aC.width,p.title.toString())}else{if(V.position==="top"){if(!aa()){aC.height=0}titleHieght=Z(aE,p.title).height;av.attr("transform","translate(0, "+(titleHieght+af)+")");aw.attr("x",aC.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");d.ellipsis(aE,aw.node(),aC.width,p.title.toString())}else{if(V.position==="left"){if(!aa()){aC.width=0}titleWidth=Z(aE,p.title).height;av.attr("transform","translate("+(titleWidth+af)+", "+0+")");var am=titleWidth;var al=aC.height/2;var aB="-90";aw.attr("transform","rotate( "+aB+" "+am+" "+al+" )").attr("x",am).attr("y",al).attr("dominant-baseline","auto");d.ellipsis(aE,aw.node(),aC.height,p.title.toString())}else{if(!aa()){aC.width=0}titleWidth=Z(aE,p.title).height;am=aC.width+titleWidth/2+af;al=aC.height/2;var aB="-90";aw.attr("transform","rotate( "+aB+" "+am+" "+al+" )").attr("x",am).attr("y",al-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var ae=p.title["font-size"].toString();var aq=ae.indexOf("px");if(aq>=0){ae=ae.substr(0,aq)}al=Number(aC.height/2)+ae/2;aw.attr("y",al);aw.attr("dominant-baseline","auto")}d.ellipsis(aE,aw.node(),aC.height,p.title.toString())}}}}}N=true}D.initialized();return L};L.matrix=function(ae){if(!arguments.length){return H}H=ae;return L};L.labelAngle=function(ae){if(!arguments.length){return O}O=m(ae,360);return L};L.tickAngle=function(ae){if(!arguments.length){return v}v=m(ae,360);return L};L.angle=function(ae){if(!arguments.length){return G}G=m(ae,360);return L};function m(af,ae){var ag=af%ae;if(0>ag){ag+=ae}return ag}L.labelAlign=function(ae){if(!arguments.length){return l}l=ae;return L};L.parent=function(ae){if(!arguments.length){return w}w=ae;return L};L.width=function(ae){if(arguments.length==0){return C}else{C=ae;if(V.position=="bottom"||V.position=="top"){if(U){ac=U}}else{if(V.position=="left"||V.position=="right"){if(C){ac=C}}}return L}};L.height=function(ae){if(arguments.length==0){return U}U=ae;if(V.position=="bottom"||V.position=="top"){if(U){ac=U}}else{if(V.position=="left"||V.position=="right"){if(C){ac=C}}}return L};L.gridlineLength=function(ae){if(arguments.length==0){return V.gridline.length}V.gridline.length=ae;return L};L.startPadding=function(){var ae=0;if(V.type=="value"){ae=i().properties(V).style(p).position(V.position).axScale(ab).startPadding()}return ae};L.endPadding=function(){var ae=0;if(V.type=="value"){ae=i().properties(V).style(p).position(V.position).axScale(ab).endPadding()}return ae};L.size=function(ae){if(arguments.length==0){return{width:C,height:U,}}C=ae.width;U=ae.height;return L};L.independentData=function(ae){if(V.isIndependentMode){if(arguments.length==0){return s}s=ae}},L.data=function(ae){if(arguments.length==0){return s}if(!V.isIndependentMode){s=ae;if(ae.getAnalysisAxisDataByIdx){T=s.getAnalysisAxisDataByIdx(0)}}return L};L.title=function(ae){if(arguments.length==0){return Y}Y=ae;return L};L.properties=function(ae){if(arguments.length==0){return V}f.extend(true,V,ae);if(ae.color){V.customizedColor=ae.color}return L};L.range=function(){var ae=null;if((V.type==="value")&&(V.scale.fixedRange)){if((V.scale.maxValue!==null)&&(V.scale.minValue!==null)){ae={max:V.scale.maxValue,min:V.scale.minValue,from:"axis"}}}return ae};L.scale=function(ae){if(arguments.length==0){return ab}ab=ae;return L};L.isDrawBody=function(ae){if(arguments.length==0){return K}K=ae;return L};L.color=function(ae){if(arguments.length==0){return V.color}if(V.customizedColor){ae=V.customizedColor}if(!ae){ae=u}V=f.extend(true,V,{color:ae});if(V.title.applyAxislineColor&&ae){p.title.fill=ae}return L};L.drawable=function(ae){if(arguments.length==0){return W}W=ae;return L};L.getPreferredSize=function(){B();var aw=[0];var al=[0];if(ab){aw=ab.range();al=ab.domain()}if(!ab||(!M())){return{width:0,height:0,manual:false,}}else{var at=S();var ag=(at.core)().properties(V).style(p).position(V.position).axScale(at.coreScale).spaceLimit(ac);var au,ao;if(V.title.visible&&V.visible){if(V.title.text!==undefined&&V.title.text!==null){au=V.title.text}else{au="Value"}}var ak=0;var an=0;var af=0;var ai=[];var ae=ag.getPreferredSize();if(V.position=="bottom"||V.position=="top"){if(!aa()){ae.height=0;ae.spacings=[]}if(V.title.visible&&V.visible){ak=Z(au,p.title).height;af=I}var ar=ak+af;ai=ai.concat([ar]);ai=ai.concat(ae.spacings);var ah=0;for(var aq=1;aq<ai.length;aq++){ah+=ai[aq]}var av=ar+ah;var ap=av;if(ac>=0&&ac<av){ap=ae.height}ao={maxSizeConstant:0.5,width:ae.width,height:av,realHeight:ap,spacings:ai,manual:false,}}else{if(V.position=="left"||V.position=="right"){if(!aa()){ae.width=0;ae.spacings=[]}if(V.title.visible&&V.visible){an=Z(au,p.title).height;af=I}var ar=an+af;ai=ai.concat([ar]);ai=ai.concat(ae.spacings);var ah=0;for(var aq=1;aq<ai.length;aq++){ah+=ai[aq]}var aj=ah+ar;var am=aj;if(ac>=0&&ac<aj){am=ae.width}ao={maxSizeConstant:0.5,width:aj,realWidth:am,height:ae.height,spacings:ai,manual:false,}}}if((V.layoutInfo.width>0)&&(V.layoutInfo.height>0)){ao.width=V.layoutInfo.width;ao.realWidth=V.layoutInfo.width;ao.height=V.layoutInfo.height;ao.realHeight=V.layoutInfo.height;ao.manual=true}return ao}};L.dispatch=function(ae){if(!arguments.length){return D}D=ae;return L};var Z=function(af,ae){return d.fastMeasure(af,ae["font-size"],ae["font-weight"],ae["font-family"])};function x(ae){if(ae[0].type==="MND"||ae[ae.length-1].type==="MND"){return true}else{return false}}function X(ae){if(ae.length===1&&ae[0].type==="MND"){return true}else{return false}}function ad(ae){if(ae[0].type==="MND"){return true}else{return false}}function o(ae){if(!x(ae)){return}if(ad(ae)){return ae[0]}else{return ae[ae.length-1]}}function n(ak){if(!x(ak)||X(ak)){return ak}var aj=[];var ah,ag,af;for(ah=0;ah<ak.length;++ah){aj.push({col:ak[ah].col,rows:[]})}var ae=o(ak);var ai=ae.rows.length;var al;if(ad(ak)){al=ak[1].rows.length;for(ah=0;ah<ai;++ah){for(ag=0;ag<al;++ag){aj[0].rows.push(ak[0].rows[ah])}}for(ah=1;ah<ak.length;++ah){for(ag=0;ag<ai;++ag){aj[ah].rows=aj[ah].rows.concat(ak[ah].rows)}}}else{al=ak[0].rows.length;for(ah=0;ah<al;++ah){aj[aj.length-1].rows=aj[aj.length-1].rows.concat(ak[ak.length-1].rows)}for(ah=0;ah<ak.length-1;++ah){for(ag=0;ag<al;++ag){for(af=0;af<ai;++af){aj[ah].rows.push(ak[ah].rows[ag])}}}}return aj}function E(ai){var aj,ah;var am=[];var af,ak,ag;var ae,al;for(aj=0;aj<ai.length;++aj){af=[];ag=0;al=0;ae=0;for(ah=0;ah<ai[aj].rows.length;++ah){ak={};if(aj===ai.length-1){ak.value=ai[aj].rows[ah];ak.space=1}else{++ag;++al;if(aj>0&&al>=am[aj-1][ae].space){ak.value=ai[aj].rows[ah];ak.space=ag;ag=0;al=0;++ae}else{if(ah+1<ai[aj].rows.length&&ai[aj].rows[ah].val===ai[aj].rows[ah+1].val){continue}else{ak.value=ai[aj].rows[ah];ak.space=ag;ag=0}}}af.push(ak)}am.push(af)}return am}function P(ag){var af=n(ag);var ae=E(af);return ae}function R(ae){for(var af=0;af<ae.length;++af){ae[af].reverse()}}var S=function(){var ap={};var af;if(V.type=="category"){af=[];var ak=[];if(V.isIndependentMode){for(dataObj in s){ak=s[dataObj].values}}else{if(T){ak=T.values}}var ae=[];if(ak&&ak.length){ae=P(ak)}var aj=ab.range();if(aj[0]>aj[aj.length-1]){R(ae)}var az=ae.length===0?0:ae[ae.length-1].length;var ai=ab.rangeBand(),ah=[];var ay=false;if(ak&&ak.length>0&&ak[0].rows.length===0){ay=true;az=1;var am={value:{},space:1};am.value={val:T.values[0].col.val,ctx:null};ae=[[am]]}var av;if(!ab.noEqual){if(!X(ak)&&!ay){for(av=0;av<az;av++){ah[av]=ai}}else{var ao=parseInt(aj.length/az,10);for(av=0;av<az;av++){ah[av]=ai*ao}}}else{for(av=0;av<az;av++){ah[av]=Math.abs(aj[av]-aj[av+1])}}function aq(aC){var aB=0;for(var aA=0;aA<aC;aA++){aB+=ah[aA]}return aB}var an={};var ag=[];var al=[];var au,at,aw=0;var ax,ar;for(au=0;au<ae.length;++au){ag=[];al=[];aw=0;for(at=0;at<ae[au].length;++at){ag.push(ae[au][at].value);aw+=ae[au][at].space;ax=at>0?al[at-1][1]:0;ar=aq(aw);al.push([ax,ar])}var an={domain:ag,range:al,};af.push(an)}core=b}else{core=i;af=ab}ap.core=core;ap.coreScale=af;ap.coreScale.noEqual=ab.noEqual;return ap};function r(){if(!F){return}if(V.customizedColor){V.color=V.customizedColor}var ae={drawingEffect:"normal",fillColor:V.color,};V.color=F.register(ae);ae={drawingEffect:"normal",fillColor:p.label.fill,};p.label.fill=F.register(ae);ae={drawingEffect:"normal",fillColor:p.title.fill,};p.title.fill=F.register(ae)}return L}});sap.riv.module({qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0",exported:true},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0"}],function Setup(e,b,d){function a(g){if(g[0]===true){if(g[1]===true){return[1,2]}else{if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(g[1]===true){if(g[2]===true){return[1,2]}else{if(g[3]===true){e.error("Not Supported")}else{if(g.length>2){return[1]}else{return[2]}}}}else{if(g[2]===true){if(g[3]===true){e.error("Not Supported")}else{return[1]}}else{for(var f=0;f<g.length;f++){if(g[f]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function c(f){this._dataAdapter=f}c.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};c.prototype.getChartDataAdapter=function(){var m=a(this._dataAdapter.getBindingInfo());var l=this._dataAdapter.getAnalysisAxisDataByIdx();var h=this._dataAdapter.getMeasureValuesGroupDataByIdx();var k=new b();for(var g=0;g<l.length;g++){var j=l[g];k.addAnalysisAxis({index:j.index,values:j.values})}for(g=0;g<h.length;g++){var f=h[g];k.addMeasureValuesGroup({index:f.index,values:d.makeMeasureValues(null,f,m,2,false)})}return k};return c});sap.riv.module({qname:"sap.viz.modules.geo.MapControls",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"}],function Setup(b,e,g,c){function a(){var n=[],h="mlhvcsqtaz",m=h.split("").concat(h.toUpperCase().split("")),l=function(i){return function(){n.push(i);for(var p=0;p<arguments.length;p++){var o=arguments[p];if(b.isArray(o)){n.push(o.join(","))}else{n.push(o+"")}}return this}},j;for(var k=0;k<m.length;k++){j=m[k];this[j]=l(j)}this.toString=function(){return n.join(" ")}}function d(h,i){return["translate(",h,", ",i,")"].join("")}function f(){var p=new c("zoomIn","zoomOut","resetZoom"),k=0,n,o=20,h=200,r=30,j=false;d3.rebind(this,p,"on");function l(){d3.event.stopPropagation();d3.event.preventDefault()}function i(){if(d3.select(this).classed("viz-geo-zoom-in")){p.zoomIn()}else{p.zoomOut()}l()}function m(s){l();p.resetZoom(s)}function q(){if(!n){return}n.attr("display",j||(k<h)?"none":null);n.select(".vis-geo-reset-control").attr("transform",d(k-o-r,o))}this.width=function(s){if(!arguments.length){return k}k=s;q();return this};this.render=function(t){if(n){n.remove();n=null}var x=t.append("g").attr("class","vis-geo-controls"),B=o,D=r,y=4,v=D/7,C=D*9/14,s="#333333",w=x.append("g").attr("class","vis-geo-zoom-controls").attr("transform",d(B,B)),A=x.append("g").attr("class","vis-geo-reset-control").attr("transform",d(B,2*B+2*D)),z,u;z=w.append("g").attr("class","viz-geo-zoom-btn viz-geo-zoom-in");z.append("path").attr("d",function(){var G=(D-y),F=D,E=y;return new a().m([E,0]).a([E,E],0,[0,0],[-E,E]).v(G).h(F).v(-G).a([E,E],0,[0,0],[-E,-E]).z().toString()}).attr("stroke","#D8D8D8").attr("stroke-width",1).attr("fill","#FFF").attr("fill-opacity",0.85);z.append("rect").attr("x",(D-C)/2).attr("y",(D-v)/2).attr("width",C).attr("height",v).attr("fill",s);z.append("rect").attr("y",(D-C)/2).attr("x",(D-v)/2).attr("height",C).attr("width",v).attr("fill",s);u=w.append("g").attr("class","viz-geo-zoom-btn viz-geo-zoom-out").attr("transform",d(0,D));u.append("path").attr("d",function(){var F=(D-y),E=y;return new a().M([0,0]).v(F).a([E,E],0,[0,0],[E,E]).h(D-2*E).a([E,E],0,[0,0],[E,-E]).v(-F).z().toString()}).attr("stroke","#D8D8D8").attr("stroke-width",1).attr("fill","#FFFFFF").attr("fill-opacity",0.85);u.append("rect").attr("x",(D-C)/2).attr("y",(D-v)/2).attr("width",C).attr("height",v).attr("fill",s);A.append("rect").attr("class","viz-geo-reset-btn").attr("height",D).attr("width",D).attr("x",0).attr("y",0).attr("fill","transparent").on("click.mapcontrols",m).on("touchstart.mapcontrols",m).on("mousedown.mapcontrols",l).on("mouseup.mapcontrols",l).on("dblclick.mapcontrols",l);A.append("path").attr("d",function(){var K=v,H=C/2,J=H-K,I=3/4*Math.PI,F=5/4*Math.PI,E=[D/2,D/2],G=function(O,N){return[N*Math.cos(O)+E[0],N*Math.sin(O)+E[1]]},L=G(F,H+K*0.8),M=G(F,J-K*0.8);return new a().M(G(I,H)).A([H,H],0,[1,0],G(F,H)).L(L).L([L[0],M[1]]).L(M).L(G(F,J)).A([J,J],0,[1,1],G(I,J)).Z().toString()}).attr("stroke-width",0).attr("fill",s).attr("pointer-events","none");A.style("cursor","pointer");w.selectAll(".viz-geo-zoom-btn").on("touchstart.mapcontrols",i).on("click.mapcontrols",i).on("mousedown.mapcontrols",l).on("dblclick.mapcontrols",l).on("mouseup.mapcontrols",l).style("cursor","pointer");n=x;q();return this};this.setHidden=function(s){j=s;q()}}return f});sap.riv.module({qname:"sap.viz.modules.geo.FeatureResolver",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoUtils",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"}],function Setup(b,f,d,i,j){var a=",NAVTEQ",k="navteq/";var h="D",e="0_L0",c=e+h;function g(){var z,p=false,q,o,u="",x={},w=[];function l(){if(!p){var D=[z,"featureMap.json",u].join("");d3.json(D,function(E){p=false;q=E;n()});p=true}}function n(){d.each(w,function(D,E){m.apply(this,E.args)});w=[]}function y(F){if(!q){f.error("FeatureResolver: feature map was never initialized")}var D=q.features[F],E=q.maps[D];return E}function C(F,G,E,D){d.each(F,function(I,K){var J=K.replace(a,""),H=y(J);if(H){if(D){H=H+h}if(!E[H]){E[H]={}}E[H][K]=true}else{G.push(K)}})}function v(D,E,F){t(Object.keys(D),function(G){d.each(G,function(I,H){var J=x[H].map,K=D[H];d.each(J.features,function(M,L){if(K[L.id]){E[L.id]=L;delete K[L.id];if(b.isEmptyObject(K)){return false}}})});if(!b.isEmptyObject(E)&&b.isFunction(F)){F(E)}})}function m(F,H){var G=[],D={};C(F,G,D,false);var E={};d.each(G,function(I,J){E[J]=null});v(D,E,H);return G}function A(G,E){var F=x[G],D=F.queue||[];F.map=E;F.queue=[];D.forEach(function(H){H([G])})}function t(F,G){var E=[],D=b.isFunction(G)?G:f.noop;d.each(F,function(I,H){var J;if(!x[H]){x[H]={queue:[D],map:null};J=[z,k,H,".json",u].join("");d3.json(J,function(K){A(H,K)})}else{if(!x[H].map){x[H].queue.push(D)}else{E.push(H)}}});if(E.length){D(E)}}function r(F,H){if(!q){l();w.push({args:arguments})}else{var G=[],D={};C(F,G,D,true);var E={};d.each(G,function(I,J){E[J]=null});v(D,E,H)}}function B(D,F,G){var E={};r(D,function(H){d.each(D,function(I,K){if(H[K]){var J=H[K];if(F!==0&&!i.isPointFeature(J)){E[K]=s(J,F)}else{E[K]=J}}});if(b.isFunction(G)){G(E)}})}function s(G,E){var F={},D;d.extend(true,F,G);if(F){var H=F.geometry.coordinates;d.each(H,function(I,K){if(K){for(var J=0;J<K.length;J++){D=K[J];K[J]=simplify(D,E,false)}}})}return F}this.resourcePath=function(D){if(!arguments.length){return z}z=D;return this};this.featureSearcher=function(D){if(!arguments.length){return o}o=D;return this};this.getFeatures=function(D,E){if(!q){l();w.push({args:arguments})}else{m(D,E)}};this.searchDetailFeatures=function(H,F,I){var G=[];if(this.featureSearcher()){if(j.detailMapEnabled()){var E=[];var D=this.featureSearcher().searchFeatures(H);if(!b.isEmptyObject(D)){d.each(D,function(J){E.push(J)});if(E.length>0){B(E,F,function(J){d.each(J,function(L,K){G.push(K)});I(G)})}}}}if(G.length<1){I({})}};this.detailFeatures=function(F,E,H){var G=[];if(j.detailMapEnabled()){var D={};d.each(F,function(I,J){if(J&&!D[J.id]){D[J.id]=I}});if(!b.isEmptyObject(D)){B(Object.keys(D),E,function(I){d.each(D,function(K,J){if(I[K]){G[J]=I[K]}else{G[J]=F[J]}});if(G.length>0){H(G)}})}}if(G.length<1){H(G)}};this.baseLayerFeatures=function(E,F){var D=e;if(E&&E.length>0){D=E[0]}t([D],function(){if(b.isFunction(F)){F(x[D].map.features)}})};this.detailWorldMapId=function(){return c}}return g});sap.riv.module({qname:"sap.viz.modules.geo.GeoController",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"},{qname:"sap.viz.modules.geo.FeatureResolver",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.geo.MapControls",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(c,a,e,h,d,f,i,g){return function b(j,w){var k,p,n,m,q,o=-1,v=false,u=j.props(null),s=new e("move","resetZoom","zoom");function r(){return(k&&o>=0)?k.getAnalysisAxisDataByIdx(o):null}function l(){if(!n){var y=r();n=(y)?new f(y,m):null}}function t(){if(n.isReady()&&p&&p.height()&&p.width()){if(!q){q=new i()}var A,z,y;if(a.isFunction(p.plotRegion)){var B=p.plotRegion();A=B.selection;z=B.width;y=B.height}else{A=p.parent();z=p.width();y=p.height()}q.width(z).render(A).on("resetZoom.geocontainer",function(){s.resetZoom()}).on("zoomIn.geocontainer",function(){s.zoom(1)}).on("zoomOut.geocontainer",function(){s.zoom(-1)});q.setHidden(z<200||y<150||v);s.resetZoom()}}function x(){m=new d();m.resourcePath(h.dataPath());return x}c.extend(x,{geoDataHandler:function(){l();return n},featureResolver:function(){return m},properties:function(y){if(!arguments.length){return u}g.extend(true,u,y);if(a.isNumber(u.geoAxisIndex)){o=u.geoAxisIndex-1;n=null}v=!!u.disableInteraction;return this},module:function(y){if(!arguments.length){return p}p=y;k=p?p.data():null;n=null;return this},dispatch:function(y){if(!arguments.length){return s}s=y;return this},move:function(y,z){s.move(y,z)},initControls:function(){t()},mapControlsDisabled:function(){return v}});return x}});sap.riv.module({qname:"sap.viz.modules.Constants",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(b){var a={Type:{Chart:"CHART",Container:"CONTAINER",Supplementary:"SUPPLEMENTARY",Controller:"CONTROLLER",ThirdParty:"THIRDPARTY"},CSS:{CLASS:{DATAPOINT:"datapoint"}},Event:{SelectData:{name:"selectData",desc:'Event fired when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.<code>{name: "selectData",data:[{\n//selected element\'s detail\ntarget:"Dom Element",//an object pointed to corresponding dom element\ndata:[{val: "...",//value of this element\nctx:{type:"Dimension"||"Measure"||"MND",\n//for Dimension\npath:{aa:"...",di:"...",dii:"..."},\n//for Measure\npath:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n//for MND\npath:{mg:"...",mi:"..."}\n//path: analysis path\n//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n//di: dimension index //zero based\n//dii: dimension item index //zero based\n//mg: measure group index // 0 for measure group 1,1 for measure group 2\n//mi: measure index // measure index in measure group zero based\n//dii_a1: each dii of di in analysis axis 1 index\n//dii_a2: each dii of di in analysis axis 2 index\n}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\nvar:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\ntarget:"...",data:["..."]}]}'},DeSelectData:{name:"deselectData",desc:'Event fired when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.<code>{name: "deselectData",data:["---the same as selectedData---"]}'},TooltipShow:{name:"showTooltip",desc:'Event fired when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.<code>{name:"showTooltip",data:{body:[{\n//data of one group\nname:"...",val:[{\n//data of one row\ncolor:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],plotArea:{\n//this object specifies the plot area of the chart\nheight:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\nx:"...",y:"..."}}}'},TooltipHide:{name:"hideTooltip",desc:"Event fired when the mouse hover out of the specific part of chart, no data is passed."},Initialized:{name:"initialized",desc:"Event fired when the loading ends."},highlightedByLegend:{desc:"Event fired when legend item is clicked, which contains its data context."}}};b.Module=a;return a});sap.riv.module({qname:"sap.viz.data.feed.Constants",version:"4.0.0"},[{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(a){var b={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};a.Feed=b;return b});sap.riv.module({qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.util.parseCSS",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.modules.Constants",version:"4.0.0"}],function Setup(e,g,d,c,a){var b=true;function f(i,m,l){var k=m.id;if(k===undefined){g.error('Cannot find module id in sub module config "{0}"',JSON.stringify(m))}var j=e.module.get(m.id,true);i.push({module:j,config:m,moduleRef:l,subModules:j.subModules(m,l)})}function h(i,j){var m={},l,k;for(l in i){if(i.hasOwnProperty(l)){k=i[l];if(k){if(j===true){m[l]=d.extend(true,{},k)}else{m[l]=k.supportedValueType==="Object"?h(k.supportedValues,!b):k.defaultValue}}}}return m}e.registerCategory("module",function(o){var j;var k;var p={};var m=o.css;for(var l in m){if(!m.hasOwnProperty(l)){continue}p[l]=m[l].value}var n=c(p);Object.defineProperties(o,{subModules:{value:function(u,s){var t;var i=d.extend(true,{},u.modules,u.controllers);if(!a.isEmptyObject(i)){t=[];var q;for(var r in i){if(i.hasOwnProperty(r)){q=i[r];if(q){f(t,q,s+"."+r)}}}}return t}},props:{value:function(i){if(i===b){if(!k){k=h(o.properties,b)}return k}else{if(!j){j=h(o.properties,!b)}return d.extend(true,{},j)}}},execute:{value:function(i){i.styleManager.setDefault(n);return o.fn(o,i)}}});return o});e.module.loadModule=f;return e.module});sap.riv.module({qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoController",version:"4.0.0"}],function Setup(c,b){var a={id:"sap.viz.modules.geo.geocontroller",name:"geocontroller",base:"sap.viz.modules.controller.base",properties:{disableInteraction:{name:"disableInteraction",supportedValueType:"Boolean",defaultValue:false,description:"Set enable/disable the map interaction controls",isExported:true}},fn:b};c.register(a)});sap.riv.module({qname:"sap.viz.modules.tooltip",version:"4.0.0",exported:true},[{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.format.FormatManager",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(b,c,f,a,g,d){var e=function(u,E){var ag={singleMeasure:{label:{font:"bold 11px sans-serif",color:"#333333"},value:{font:"bold 14px sans-serif",color:"#333333"},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:"#333333",font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:""},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:"#333333"},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var H={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:2};var U={tooltip:null,tooltipRB:null,dimensionLabel:null,separateLine:null,measureLabels:[],measureMarks:[],valueLabels:[]};var X={offset:undefined};var W={backgroundColor:"#ffffff",borderColor:"#000000",separateLineColor:["#ffffff","#8a8a8a","#ffffff"],separateLineSingleColor:"#AAAAAA",guideLineColor:"#AAAAAA"};var i={arcA:"A",lineToA:"L",moveToA:"M",closePath:"z"};var K={symbolSize:8,hasSymbol:false};var t="tooltipsymbol",Z="tooltipparagraphtitle",n="tooltipparagraphlabel",S="tooltipparagraphvalue",ad="tooltipfooterlabel",k="tooltipfootervalue";var aa=null,F=null;var ah=0,I=0,af=0,D=E.effectManager,v={width:200,height:100},m={width:160,height:70,x:0,y:0},L={},Q=null,T={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:"...",font:"bold 20px Arial",color:"#000000"};var N=d.get("IDS_ISNOVALUE");var ai=function(ak){if(ak===null||ak===undefined){return N}else{return ak}};function ab(){T.isTruncated=false;T.currentFooterIndex=-1;T.currentBodyIndex=-1}function P(ak){aa=d3.select(ak).append("svg").style("position","absolute").attr("pointer-events","none").attr("width","0").attr("height",0).attr("class","tooltip");return P}function w(ay,aJ){var ar=ag.multipleMeasure.padding.inline,av=ag.multipleMeasure.padding.vertical,aI=ag.multipleMeasure.label.font,aG=ag.multipleMeasure.value.font,aB=ag.footer.padding.inline,aE=ag.footer.label.font,ax=ag.title.font;var az=0,ak=aJ.body,aA=aJ.footer;if(ak&&ak.length>0){az=av;if(aA&&aA.length>0){var aq=0;if(ak[0].name!==null){aq=J(ay,ak[0].name,ax).height+ar+J(ay,T.defaultValue,T.font).height}if(aA[0].label!==null){var aw=J(ay,aA[0].label,aE);az+=av*3;az+=(aA.length*aw.height+aB*(aA.length-1));az+=aq;if(az>v.height){T.isTruncated=true;T.currentBodyIndex=0;var ap=0;while(az>v.height){az-=aw.height;az-=aB;ap++}T.currentFooterIndex=aA.length-ap-1;return az}az-=aq}}else{az+=av}var aC=0,aH=0;for(var aD=0;aD<ak.length;aD++){aC++;aH+=ak[aD].val.length}if(ak[0].name!==null){az+=(aC*J(ay,ak[0].name,ax).height)}var aF=0;if(ak[0].val.length>0){if(ak[0].val[0].label!==null){aF=J(ay,ak[0].val[0].label,aI).height}if(ak[0].val[0].value!==null){var al=J(ay,ak[0].val[0].value,aG).height;if(al>aF){aF=al}}az+=(aH*aF)}az+=(ar*(aC+aH-1));if(az>v.height){T.isTruncated=true;var an=0;while(az>v.height){az-=aF;az-=ar;an++}T.currentBodyIndex=aC+aH-an-2;var ao=J(ay,T.defaultValue,T.font);return az+(ao.height-aF)}}else{if(aA&&aA.length>0){if(aA[0].label!==null){var au=J(ay,aA[0].label,aE);az+=av;az+=(aA.length*au.height+aB*(aA.length-1));if(az>v.height){T.isTruncated=true;var at=0;while(az>v.height){az-=au.height;az-=aB;at++}T.currentFooterIndex=aA.length-at-1;var am=J(ay,T.defaultValue,T.font);return az+(am.height-au.height)}}}}return az}function Y(aq,ap){var ao=0,al=ag.multipleMeasure.padding.horizontal,am=ag.multipleMeasure.padding.symbolGap,ak=ag.multipleMeasure.padding.defaultSpace,an=K.symbolSize;ao=af+(al*2)+ak;if(K.hasSymbol){ao+=an+am}return ao}function y(ak,ao){var ar=0,aq=0,al=ao.body,av=ao.footer;if(al){for(var ap=0;ap<al.length;ap++){if(al[ap].name!==null){aq=J(ak,al[ap].name,ag.title.font).width;if(aq>ar){ar=aq}}var au=al[ap].val;if(au){if(au.length===1&&(au[0].value!==null)){var at=J(ak,au[0].value,ag.multipleMeasure.value.font);K.symbolSize=at.height*0.8;K.hasSymbol=true;if(at.width>ar){ar=at.width}}else{if(au.length>1){if(au[0].label!==null){if(au[0].shape!==null&&au[0].color!==null){K.symbolSize=J(ak,au[0].label,ag.multipleMeasure.label.font).height*0.8;K.hasSymbol=true}}if(au[0].value!==null){if(au[0].shape!==null&&au[0].color!==null){K.symbolSize=J(ak,au[0].value,ag.multipleMeasure.value.font).height*0.8;K.hasSymbol=true}}for(var an=0;an<au.length;an++){if((au[an].label!==null)&&(au[an].value!==null)){aq=J(ak,au[an].label,ag.multipleMeasure.label.font).width+J(ak,au[an].value,ag.multipleMeasure.value.font).width;if(aq>ar){ar=aq}}else{if(au[an].label!==null){aq=J(ak,au[an].label,ag.multipleMeasure.label.font).width;if(aq>ar){ar=aq}}else{if(au[an].value!==null){aq=J(ak,au[an].value,ag.multipleMeasure.value.font).width;if(aq>ar){ar=aq}}}}}}}}}}if(av){for(var am=0;am<av.length;am++){var aw=av[am];if(aw.label&&aw.value){aq=J(ak,aw.label,ag.footer.label.font).width+J(ak,aw.value,ag.footer.value.font).width;if(aq>ar){ar=aq}}}}return ar}function s(an,am){var al="",ao,aq,ap;switch(an){case"circle":ao=am/2;al="M0,"+ao+"A"+ao+","+ao+" 0 1,1 0,"+(-ao)+"A"+ao+","+ao+" 0 1,1 0,"+ao+"Z";break;case"cross":aq=am/6;ap=am/6;al="M"+-3*aq+","+-ap+"H"+-aq+"V"+-3*ap+"H"+aq+"V"+-ap+"H"+3*aq+"V"+ap+"H"+aq+"V"+3*ap+"H"+-aq+"V"+ap+"H"+-3*aq+"Z";break;case"triangle-down":aq=am/2;ap=am/2;al="M0,"+ap+"L"+aq+","+-ap+" "+-aq+","+-ap+"Z";break;case"triangle-up":aq=am/2;ap=am/2;al="M0,"+-ap+"L"+aq+","+ap+" "+-aq+","+ap+"Z";break;case"diamond":aq=am/2;ap=am/2;al="M0,"+-ap+"L"+aq+",0 0,"+ap+" "+-aq+",0Z";break;case"squareWithRadius":ao=am/2;var ak=ao-3;al="M0,"+-ao+"L"+-ak+","+-ao+"Q"+-ao+","+-ao+" "+-ao+","+-ak+"L"+-ao+","+ak+"Q"+-ao+","+ao+" "+-ak+","+ao+"L"+ak+","+ao+"Q"+ao+","+ao+" "+ao+","+ak+"L"+ao+","+-ak+"Q"+ao+","+-ao+" "+ak+","+-ao+"Z";break;case"square":ao=am/2;al="M"+-ao+","+-ao+"L"+ao+","+-ao+" "+ao+","+ao+" "+-ao+","+ao+"Z";break;case"triangle-left":aq=am/2;ap=am/2;al="M"+-aq+",0L"+aq+","+ap+" "+aq+","+-ap+"Z";break;case"triangle-right":aq=am/2;ap=am/2;al="M"+aq+",0L"+-aq+","+ap+" "+-aq+","+-ap+"Z";break;case"intersection":aq=am/2;ap=am/2;al="M"+aq+","+ap+" "+aq/3+",0 "+aq+","+-ap+" "+aq/2+","+-ap+" 0,"+-ap/3+" "+-aq/2+","+-ap+" "+-aq+","+-ap+" "+-aq/3+",0 "+-aq+","+ap+" "+-aq/2+","+ap+" 0,"+ap/3+" "+aq/2+","+ap;break}return al}function r(ao,ar,ap,ak,an,al){var aq={drawingEffect:L.drawingEffect,fillColor:ak,graphType:ap,direction:"vertical"};var am=D.register(aq);ao.append("path").attr("d",s(ap,an)).attr("transform","translate("+ar.x+","+ar.y+")").attr("fill",am).attr("class",al)}function G(a0,aL,a6,bb){var aq=aL.x,aS=aL.y-H.radius/2;var aJ=H.markerWidth,am=H.markerHeight;if(bb==="left"){aq+=am}if(bb==="top"){aS+=am}var al=ag.multipleMeasure.padding.horizontal,aw=ag.multipleMeasure.padding.vertical,ay=ag.multipleMeasure.padding.inline,at=ag.multipleMeasure.padding.symbolGap,aD=ag.multipleMeasure.padding.defaultSpace;var a9=K.symbolSize,a5=K.hasSymbol;var aN=ag.title.color,aV=ag.title.font;var aP=ag.multipleMeasure.label.font,ap=ag.multipleMeasure.label.color,au=ag.singleMeasure.label.font,aG=ag.singleMeasure.label.color;var an=ag.multipleMeasure.value.font,aE=ag.multipleMeasure.value.color,aR=ag.singleMeasure.value.font,aW=ag.singleMeasure.value.color;var a2=ag.footer.padding.inline,a7=ag.footer.label.font,aB=ag.footer.value.font,aF=ag.footer.label.color,aU=ag.footer.value.color;var aO=a6.body,aQ=a6.footer;var ar=-1,aK=-1;var aM={x:0,y:0};var aZ=false;if(aO){for(var a4=0;a4<aO.length;a4++){if(aZ){break}var ax=aO[a4];if(ax.name){var ba=J(a0,ax.name,aV);var ao=ba.height;aM.x=aq+al;if(a4===0){aM.y=aS+ao+aw}else{aM.y+=(aS+ao+ay)}q(a0,aM,ax.name,aN,aV,Z);ar++;if(T.isTruncated&&ar===T.currentBodyIndex){var aC=J(a0,T.defaultValue,T.font);aM.x=aq+(ah-aC.width-al);aM.y+=(ay+aC.height);q(a0,aM,T.defaultValue,T.color,T.font,S);break}}if(ax.val.length>0){if(ax.val.length>1){var aY=null,aH=null,aT=null;for(var a3=0;a3<ax.val.length;a3++){if((ax.val[a3].shape!==null)&&(ax.val[a3].color!==null)&&(ax.val[a3].label!==null)&&(ax.val[a3].value!==null)){aY=J(a0,ax.val[a3].label,aP);aH=J(a0,ax.val[a3].value,an);aT=(aY.height>=aH.height)?aY.height:aH.heigth;aM.x=aq+al+a9/2;aM.y+=(ay+aT);r(a0,{x:aM.x,y:(aM.y-a9/2)},ax.val[a3].shape,ax.val[a3].color,a9,t);aM.x=aq+al+a9+at;q(a0,aM,ax.val[a3].label,ap,aP,n);aM.x=aq+(ah-aH.width-al);q(a0,aM,ax.val[a3].value,aE,an,S)}else{if((ax.val[a3].shape!==null)&&(ax.val[a3].color!==null)&&(ax.val[a3].label!==null)){aY=J(a0,ax.val[a3].label,aP);aM.x=aq+al+a9/2;aM.y+=(ay+aY.height);r(a0,{x:aM.x,y:(aM.y-a9/2)},ax.val[a3].shape,ax.val[a3].color,a9,t);aM.x=aq+al+a9+at;q(a0,aM,ax.val[a3].label,ap,aP,n)}else{if((ax.val[a3].shape!==null)&&(ax.val[a3].color!==null)&&(ax.val[a3].value!==null)){aH=J(a0,ax.val[a3].value,an);aM.x=aq+al+a9/2;aM.y+=(ay+aH.height);r(a0,{x:aM.x,y:(aM.y-a9/2)},ax.val[a3].shape,ax.val[a3].color,a9,t);aM.x=aq+ah-aH.width-al;q(a0,aM,ax.val[a3].value,aE,an,S)}else{if((ax.val[a3].label!==null)&&(ax.val[a3].value!==null)){aY=J(a0,ax.val[a3].label,aP);aH=J(a0,ax.val[a3].value,an);aT=(aY.height>=aH.height)?aY.height:aH.heigth;aM.x=aq+al;aM.y+=(ay+aT);q(a0,aM,ax.val[a3].label,ap,aP,n);aM.x=aq+(ah-aH.width-al);q(a0,aM,ax.val[a3].value,aE,an,S)}}}}ar++;if(T.isTruncated&&ar===T.currentBodyIndex){var aA=J(a0,T.defaultValue,T.font);aM.x=aq+(ah-aA.width-al);aM.y+=(ay+aA.height);q(a0,aM,T.defaultValue,T.color,T.font,S);aZ=true;break}}}else{if(ax.val.length===1){if(ax.val[0].value!==null){var a8=J(a0,ax.val[0].value,an);aM.y+=(ay+a8.height);if(L.chartType==="heatmap"||L.chartType==="treemap"||L.chartType==="tagcloud"||L.chartType==="geo"||L.chartType==="mekko"){aM.x=aq+(ah-a8.width-al)}else{if(ax.val[0].shape!==null&&ax.val[0].color!==null){aM.x=aq+al+a9/2;r(a0,{x:aM.x,y:(aM.y-a9/2)},ax.val[0].shape,ax.val[0].color,a9,t);aM.x=aq+(ah-a8.width-al)}}q(a0,aM,ax.val[0].value,aE,an,S);ar++;if(T.isTruncated&&ar===T.currentBodyIndex){var az=J(a0,T.defaultValue,an);aM.x=aq+(ah-az.width-al);aM.y+=(ay+az.height);q(a0,aM,T.defaultValue,T.color,T.font,S);break}}}}}}}if(aQ&&aQ.length>0){var ak={x:aq,y:aM.y+aw};var aX={x:aq+ah,y:aM.y+aw};a0.append("line").attr("x1",ak.x+1).attr("y1",ak.y).attr("x2",aX.x-1).attr("y2",aX.y).style("stroke",W.separateLineSingleColor).style("stroke-width",1).style("shape-rendering","crispEdges");aM.y+=(aw*2);for(var a1=0;a1<aQ.length;a1++){if(a.isExist(aQ[a1].label)&&a.isExist(aQ[a1].value)){var aI=J(a0,aQ[a1].label,a7),av=J(a0,aQ[a1].value,aB);aM.x=aq+al;if(a1>0){aM.y+=a2}aM.y+=(aI.height);q(a0,aM,aQ[a1].label,aF,a7,ad);aM.x=aq+(ah-av.width-al);q(a0,aM,aQ[a1].value,aU,aB,k);aK++;if(T.isTruncated&&aK===T.currentFooterIndex){break}}}}}var ae=function(aD){if(a.isExist(L.formatString)){var aq=aD.body,an,al=1,ay=0,ao=1,aB=0,aC=aD.valueAxis0Count,ak=aD.valueAxis1Count;var aw=0,av=0;var ap=L.formatString;var at,am;if(a.isExist(aq)){for(var az=0,aA=aq.length;az<aA;az++){an=aq[az];if(a.isExist(an.val[0].valueAxis)){am=an.val[0].valueAxis}else{am=0}at=ap[am];if(a.isExist(at)){var au=0;if(am===0){au=aw>=at.length?at.length-1:aw;aw++}else{if(am===1){au=av>=at.length?at.length-1:av;av++}}for(var ax=0,ar=an.val.length;ax<ar;ax++){an.val[ax].value=f.format(an.val[ax].value,at[au])}}}}}return aD};P.showTooltip=function(al){var an=g.extend(true,{},al.data);an=ae(an);if(F!==null){F.remove()}if(L.visible){if(an.plotArea){P.plotArea(an.plotArea)}Q=L.orientation;F=aa.append("svg:g");ac();af=y(aa,an);ah=Y(F,an);I=w(F,an);var ak=ah,ao=I;if(Q==="top"||Q==="bottom"){ao+=H.markerHeight}if(Q==="left"||Q==="right"){ak+=H.markerHeight}aa.attr("width",ak+H.padding).attr("height",ao+H.padding);var am=V(an.point,m,v,ah,I);z(F,{x:0,y:0,absoluteMarkerOffset:am.absoluteMarkerOffset},ah,I,Q);G(F,{x:0,y:0},an,Q);aa.style("left",am.x+"px").style("top",am.y+"px");ab()}};P.hideTooltip=function(){if(F!==null){F.remove();aa.attr("width",0).attr("height",0);F=null}};function o(ak){if(ak.labels){K.symbolSize=J(aa,ak.labels[0].label,ag.multipleMeasure.label.font).height}}function V(aC,am,aI,aF,az){var al={x:0,y:0,absoluteMarkerOffset:0};var an=L.chartType;var aB=H.markerHeight,aE=H.markerWidth;var aw=0,au=0,aD=0,ak=0;if(L.chartType===undefined){al.x=aC.x;al.y=aC.y-az/2}else{if(an==="heatmap"||an==="treemap"||an==="tagcloud"){if(Q==="bottom"){var aH=aI.height-aC.y+az+aB;if(aH>aI.height){Q="top";al.y=aC.y}else{al.y=aC.y-az-aB}}var aL;if(an==="heatmap"||an==="treemap"||an==="tagcloud"){aL=M(aC,am,aI,aF)}else{aL=l(aC,am,aI,aF)}al.x=aL.x;al.absoluteMarkerOffset=aL.absoluteMarkerOffset}else{if(an==="line"||an==="verticalboxplot"||an==="verticalbar"){if(Q==="left"){var aJ=aC.x+aF+aB;if(aJ>aI.width){Q="right";al.x=aC.x-aF-aB}else{al.x=aC.x+aB}}if(az/2<am.y){al.y=am.y-(az-aE)/2}else{al.y=0}}else{if(an==="radar"){aw=0;au=0;aD=0;ak=0;var at=0,ar=0;Q=aC.orientation;al.x=aC.x;al.y=aC.y-az/2;if(aC.orientation==="right"){al.x-=(aF+aB)}if(aC.orientation==="left"){aw=aC.x+aF+aB-aI.width}if(aC.orientation==="right"){au=aC.x-aF-aB}aD=aC.y-az/2;ak=aC.y+az/2-aI.height;if(aw<=0&&au>=0&&aD>=0&&ak<=0){return al}if(aw>0&&aw>aC.range.x){return al}if(au<0&&Math.abs(au)>aC.range.x){return al}if(aD<0&&Math.abs(aD)>aC.range.y){return al}if(ak>0&&ak>aC.range.y){return al}var aG=aC.angle*180/Math.PI,av=aC.angle;if(aG>=0){if(aG===0&&aw>0){al.x-=aw}else{if(aG===90&&aD<0){al.y-=aD}else{if(aG===180&&au<0){al.x-=au}else{if(aG>0&&aG<90){if(aD<0&&aw>0){var aq=Math.abs(aD);if(aq>=aw){ar=aq;at=ar/Math.tan(av)}else{at=aw;ar=at*Math.tan(av)}}else{if(aD<0&&aw<=0){ar=Math.abs(aD);at=ar/Math.tan(av)}else{if(aD>=0&&aw>0){at=aw;ar=at*Math.tan(av)}}}al.x-=at;al.y+=ar}else{if(aG>90&&aG<180){if(aD<0&&au<0){var ap=Math.abs(aD),aA=Math.abs(au);if(ap>=aA){ar=ap;at=ar/Math.tan(Math.PI-av)}else{at=aA;ar=at*Math.tan(Math.PI-av)}}else{if(aD<0&&au>=0){ar=Math.abs(aD);at=ar/Math.tan(Math.PI-av)}else{if(aD>=0&&au<0){at=Math.abs(au);ar=at*Math.tan(Math.PI-av)}}}al.x+=at;al.y+=ar}}}}}}else{var aK=Math.abs(aG);if(aK===0&&aw>0){al.x-=aw}else{if(aK===90&&ak>0){al.y-=ak}else{if(aK===180&&au<0){al.x-=au}else{if(aK>0&&aK<90){if(ak>0&&aw>0){if(ak>=aw){ar=ak;at=ar/Math.tan(Math.abs(av))}else{at=aw;ar=at*Math.tan(Math.abs(av))}}else{if(ak>0&&aw<=0){ar=ak;at=ar/Math.tan(Math.abs(av))}else{if(ak<=0&&aw>0){at=aw;ar=at*Math.tan(Math.abs(av))}}}al.x-=at;al.y-=ar}else{if(aK>90&&aK<180){if(ak>0&&au<0){var ay=Math.abs(au);if(ak>=ay){ar=ak;at=ar/Math.tan(Math.PI-Math.abs(av))}else{at=ay;ar=at*Math.tan(Math.PI-Math.abs(av))}}else{if(ak>0&&au>=0){ar=ak;at=ar/Math.tan(Math.PI-Math.abs(av))}else{if(ak<=0&&au<0){at=Math.abs(au);ar=at*Math.tan(Math.PI-Math.abs(av))}}}al.x+=at;al.y-=ar}}}}}}}else{if(an==="geo"&&Q==="left"){aD=aC.y-az/2;ak=aC.y+az/2-aI.height;al.y=aD;if(am.x+am.width+aF-aB>aI.width){al.x=am.x-am.width-aF;Q="right"}else{al.x=am.x+am.width-aB}if(aD<0){al.y=0;al.absoluteMarkerOffset=aD}if(ak>0){al.y=aI.height-az;al.absoluteMarkerOffset=ak}}else{if(L.orientation==="left"){aw=am.x+am.width+aF+aB-aI.width;aD=aC.y-az/2;ak=aC.y+az/2-aI.height;al.y=aC.y-az/2;if(aw>0){al.x=aI.width-aB-aF}else{al.x=am.x+am.width-aB}if(aD<0){al.y=0;al.absoluteMarkerOffset=aD}if(ak>0){al.y=aI.height-az;al.absoluteMarkerOffset=ak}}else{if(L.orientation==="bottom"){var ax=am.y-az;if(ax<0){al.y=0}else{al.y=am.y-az}var ao;if(an==="heatmap"||an==="treemap"||an==="tagcloud"){ao=M(aC,am,aI,aF)}else{ao=l(aC,am,aI,aF)}al.x=ao.x;al.absoluteMarkerOffset=ao.absoluteMarkerOffset}}}}}}}return al}function l(ak,ap,am,ao){var aq={x:0,absoluteMarkerOffset:0};var al=ao/2-(ak.x-ap.x)+ap.width;var an=ak.x-ap.x+ao/2;if(al>am.width){aq.x=ap.x;aq.absoluteMarkerOffset=ak.x-ap.x-ao/2}else{if(an>am.width){aq.x=ap.x+(ap.width-ao);aq.absoluteMarkerOffset=ap.width-(ak.x-ap.x)-ao/2}else{aq.x=ak.x-ao/2;aq.absoluteMarkerOffset=0}}return aq}function M(ak,ap,am,ao){var aq={x:0,absoluteMarkerOffset:0};var al=ao-(ak.x-ap.x)+ap.width;var an=ak.x-ap.x+ao;if(al>am.width){aq.x=ap.x;aq.absoluteMarkerOffset=ak.x-ap.x-ao/2}else{if(an>am.width){aq.x=ap.x+(ap.width-ao);if(aq.x+ao>ap.width){aq.absoluteMarkerOffset=ak.x-ap.x-ap.width+ao/2}else{aq.absoluteMarkerOffset=ap.width-(ak.x-ap.x)-ao/2}}else{aq.x=ak.x-ao/2;aq.absoluteMarkerOffset=0}}return aq}function j(ak,am,al,ap){var ao={y:0,absoluteMarkerOffset:0};var aq=am.height+(ap/2-(ak.y-am.y));var an=ak.y-am.y+ap/2;if(aq>al.height){ao.y=am.y;ao.absoluteMarkerOffset=ak.y-am.y-ap/2}else{if(an>al.height){ao.y=am.y+am.height-ap;ao.absoluteMarkerOffset=ak.y-(am.height-ap)-am.y-ap/2}else{ao.y=ak.y-ap/2;ao.absoluteMarkerOffset=0}}return ao}function z(am,aw,an,az,au){var av=aw.x,aB=aw.y,aq=aw.absoluteMarkerOffset,at=H.radius,ap=H.markerWidth,ax=H.markerHeight;var ak=" ";var ao=i.lineToA,ay=i.moveToA,al=i.arcA,ar=i.closePath;if(au==="left"){av+=ax}if(au==="top"){aB+=ax}var aA=ay+ak+av+ak+(aB+at)+ak;if(au==="left"){aA+=ao+ak+av+ak+(aB+az/2+aq-ap/2)+ak;aA+=ao+ak+(av-ax)+ak+(aB+az/2+aq)+ak;aA+=ao+ak+av+ak+(aB+az/2+aq+ap/2)+ak}aA+=ao+av+ak+(aB+az-at)+ak;aA+=al+ak+at+ak+at+ak+"0"+ak+"0"+ak+"0"+ak+(av+at)+ak+(aB+az)+ak;if(au==="bottom"){aA+=ao+ak+(av+an/2+aq-ap/2)+ak+(aB+az)+ak;aA+=ao+ak+(av+an/2+aq)+ak+(aB+az+ax)+ak;aA+=ao+ak+(av+an/2+aq+ap/2)+ak+(aB+az)+ak}aA+=ao+ak+(av+an-at)+ak+(aB+az)+ak;aA+=ak+al+ak+at+ak+at+ak+"0"+ak+"0"+ak+"0"+ak+(av+an)+ak+(aB+az-at)+ak;if(au==="right"){aA+=ao+ak+(av+an)+ak+(aB+az/2+aq+ap/2)+ak;aA+=ao+ak+(av+an+ax)+ak+(aB+az/2-aq)+ak;aA+=ao+ak+(av+an)+ak+(aB+az/2+aq-ap/2)+ak}aA+=ao+ak+(av+an)+ak+(aB+at)+ak;aA+=ak+al+ak+at+ak+at+ak+"0"+ak+"0"+ak+"0"+ak+(av+an-at)+ak+aB+ak;if(au==="top"){aA+=ao+ak+(av+an/2+aq+ap/2)+ak+aB+ak;aA+=ao+ak+(av+an/2+aq)+ak+(aB-ax)+ak;aA+=ao+ak+(av+an/2+aq-ap/2)+ak+aB+ak}aA+=ao+ak+(av+at)+ak+aB+ak;aA+=al+ak+at+ak+at+ak+"0"+ak+"0"+ak+"0"+ak+av+ak+(aB+at)+ak;aA+=ar;am.append("path").attr("d",aA).attr("fill",W.backgroundColor).attr("stroke",W.borderColor).style("stroke-width",1).style("-webkit-svg-shadow","3px 3px 8px rgba(0, 0, 0, 0.3)")}function B(am){var al;if(am.info){var ak=am.info.customlabel;if(ak){if(ak.type==="url"){al=am.val}else{if(ak.type==="string"){al=ak.val}}}else{al=am.val}}else{al=am.val}al=ai(al);return al}function A(al){var ak=[];if(a.isPlainObject(al)){ak.push(B(al))}else{if(a.isArray(al)){al.forEach(function(am,an){ak.push(A(am))},this)}else{ak.push(al)}}return ak}function J(ao,aq,am){var ak=A(aq);var an=ak.join("*");var al=ao.append("svg:text").attr("x",0).attr("y",0).attr("visibility","hidden").style("font",am).text(an);var ap=al.node().getBBox();al.remove();return ap}function O(ap,ao){var aq=0,ar=0;if(ao.title!==null){if(ao.labels.length>0){var an=J(ap,ao.title,ag.title.font);var am=an.width;for(var al=0,ak=ao.labels.length;al<ak;al++){ar=J(ap,ao.labels[al].label,ag.multipleMeasure.label.font).width+J(ap,ao.labels[al].value,ag.multipleMeasure.value.font).width;if(ar>am){am=ar}}aq=am}}else{aq=J(ap,ao.labels[0].label,ag.singleMeasure.label.font).width;ar=J(ap,ao.labels[0].value,ag.singleMeasure.value.font).width;if(ar>aq){aq=ar}}return aq}function R(ar,aq){var ap=0,ao=K.symbolSize;var al=ag.singleMeasure.padding.horizontal,am=ag.multipleMeasure.padding.horizontal,an=ag.multipleMeasure.padding.symbolGap,ak=ag.multipleMeasure.padding.defaultSpace;if(aq.title!==null){ap=af+(am*2)+ak;if(aq.shapes&&aq.colors){ap+=ao+an}}else{ap=af+(al*2)}return ap}function C(am,ap){var aq=ag.multipleMeasure.padding.inline,al=ag.multipleMeasure.padding.vertical,ar=ag.singleMeasure.padding.vertical;var an=ag.multipleMeasure.value.font,ak=ag.singleMeasure.value.font;var ao=ag.title.font;var at=0;if(ap.title!==null){at=(al*3)+(aq*(ap.labels.length-1))+J(am,ap.title,ao).height+J(am,ap.labels[0].value,an).height*ap.labels.length}else{at=(ar*3)+J(am,ap.labels[0].value,ak).height}return at}function x(ak){var al=ak.append("svg:defs").append("svg:linearGradient").attr("id","tooltipGradient1").attr("x1","0%").attr("y1","0%").attr("x2","80%").attr("y2","0%").attr("x3","100%").attr("y3","0%");al.append("svg:stop").attr("offset","30%").attr("style","stop-color:"+W.separateLineColor[0]);al.append("svg:stop").attr("offset","60%").attr("style","stop-color:"+W.separateLineColor[1]);al.append("svg:stop").attr("offset","100%").attr("style","stop-color:"+W.separateLineColor[2])}function aj(ao,ar,an,ap,al){var ak=d3.svg.symbol().type(ap).size(an*an);var aq={drawingEffect:L.drawingEffect,fillColor:al,graphType:ap,direction:"vertical"};var am=D.register(aq);ao.append("path").attr("d",ak).attr("transform","translate("+ar.x+","+ar.y+")").attr("fill",am)}function h(am,ao,an,ak,al){am.append("text").attr("x",ao.x).attr("y",ao.y).attr("fill",ak).style("font",al).text(an)}function q(ap,ar,aq,al,an,am){var ak=A(aq);var ao=ak.join("/");ap.append("text").attr("x",ar.x).attr("y",ar.y).attr("fill",al).style("font",an).text(ao).attr("class",am)}function p(al,am,ak){}P.zone=function(ak){if(!arguments.length){return v}v=ak;return this};P.plotArea=function(ak){if(!arguments.length){return m}m=ak;return this};P.properties=function(ak){if(!arguments.length){return L}c.extend(true,L,ak);return this};function ac(){var ak;ak=E.styleManager.query("viz-tooltip-background");if(ak&&(ak.fill)&&(W.backgroundColor!==ak.fill)){W.backgroundColor=ak.fill}ak=E.styleManager.query("viz-tooltip-title");if(ak&&(ak.fill)&&(ag.title.color!==ak.fill)){ag.title.color=ak.fill}ak=E.styleManager.query("viz-tooltip-label");if(ak&&ak.fill){ag.singleMeasure.label.color=ak.fill;ag.multipleMeasure.label.color=ak.fill}ak=E.styleManager.query("viz-tooltip-value");if(ak&&ak.fill){ag.singleMeasure.value.color=ak.fill;ag.multipleMeasure.value.color=ak.fill}}L=u.props(null);return P};return e});sap.riv.module({qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.tooltip",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.tooltip",type:b.Module.Type.Supplementary,name:"tooltip",description:"Settings for the tooltip that appears when the user hovers over a series or point.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of tooltip."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of Tooltip.",isExported:true},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of tooltip. As we may have dual axis with serveral measures, the first array is applied to primary axis and the second one is applied to the second one.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-tooltip-background":{description:"Define style for the tooltip background.",value:{fill:"#ffffff"}},".viz-tooltip-title":{description:"Define style for the tooltip title.",value:{fill:"#333333"}},".viz-tooltip-label":{description:"Define style for the tooltip label.",value:{fill:"#333333"}},".viz-tooltip-value":{description:"Define style for the tooltip value.",value:{fill:"#333333"}}},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.geo.Choropleth",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.geo.Choropleth",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.geo.choropleth",type:b.Module.Type.Chart,name:"choropleth",data:"DATA STRUCTURE DOC",properties:{startColor:{name:"startColor",supportedValueType:"String",defaultValue:"rgb(194,227,169)",description:"Choropleth start color"},endColor:{name:"endColor",supportedValueType:"String",defaultValue:"rgb(115,192,60)",description:"Choropleth end color"}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"geo"},css:null,configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.feeds.Manifest",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(a,c,b){return a.registerCategory("feeds",function(e){var d={};e.feeds.forEach(function(g){d[g.id]=g;var f=g.name;delete g.name;Object.defineProperty(g,"name",{get:function(){var h=b.get(f);if(h){return h}return f},enumerable:true})});Object.defineProperty(e,"feedsMap",{value:d,writable:false,enumerable:false,configurable:false});return e})});sap.riv.module({qname:"sap.viz.feeds.Geo",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"geo",feeds:[{id:"geoFeatures",name:"Geo Features",type:b.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:-1,maxStackedDims:1},{id:"featureAnalysis",name:"Geo Feature Analysis",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"featureValues",name:"Geo Feature Values",type:b.Type.Measure,min:1,max:1,mgIndex:1}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.GeoContainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoFeatureLayer",version:"4.0.0"},{qname:"sap.viz.modules.geo.FeatureSearcher",version:"4.0.0"},{qname:"sap.viz.GeoManager",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"}],function Setup(c,e,j,f,d,a,g,l,k,i,h){return function b(A,R){var ah=c.uuid(),o=0,D=0,Y={},P=A.props(null),K={},ax={},ay={},V={},ak=null,u=null,t=null,I=null,ae=null,M=d3.geo.mercator(),ar=null,v=null,Q=null,ao=null,J=false,C=null;var aj=null,E=i.detailMapEnabled(),ag=i.zoomExtent(),z=0,T={},af=0;var B=new d("initialized","showTooltip","hideTooltip","move");function al(aB){return j.module.get(aB).execute(R)}function X(aG,aF){var aC={},aE,aB,aD;if(aG){if(aF){aE=aG.propertyCategory;aB=Y[aE];aD=aG.properties;h.extend(true,aC,aD,aB)}else{aE=aG.propertyCategory;h.extend(true,aC,Y[aE])}}return aC}function n(){var aC=ax.modules?ax.modules.plot:null,aD=ay.plot,aB;if(!aC||!aD){return}aB=X(aC.configure);aD.properties(aB)}function W(){var aC=ax.modules?ax.modules.dataLabel:null,aD=ay.dataLabel,aB;if(!aC||!aD){return}aB=X(aC.configure);aD.properties(aB)}function r(){var aC=ax.modules?ax.modules.plot:null,aD=ay.plot,aB;if(!aC||!aD){return}aB=X(aC.configure,true);aD.properties(aB)}function Z(){var aC=ax.modules?ax.modules.dataLabel:null,aD=ay.dataLabel,aB;if(!aC||!aD){return}aB=X(aC.configure,true);aD.properties(aB)}function N(){return !(ao.properties.border&&ao.properties.border.hidden)}function at(){return J}function az(){if(a.isEmptyObject(ax)){e.error("Missing configuration")}var aB={properties:{renderFeatureLayer:true,border:{hidden:false}}},aE=ax.modules.plot,aD=ax.modules.dataLabel;ao=c.extend(true,{},aB,ax.configure);ay.plot=al(aE.id);r();if(a.isExist(aD)){ay.dataLabel=al(aD.id);ay.dataLabel.plot(ay.plot);Z()}var aC=ay.plot.dispatch();if(aC.initialized){aC.on("initialized.geocontainer",y)}if(aC.showTooltip){aC.on("showTooltip.geocontainer",aA)}if(aC.hideTooltip){aC.on("hideTooltip.geocontainer",F)}U()}function O(){if(u){return}u=ak.append("g").attr("class","viz-geo-container");Q=u.append("rect").attr("class","viz-geo-container-background").attr("style",R.styleManager.cssText("viz-geo-container-background"));if(N()){Q.attr("stroke","#CCC")}t=u.append("g").attr("class","viz-geo-container-base").attr("style",R.styleManager.cssText("viz-geo-container-base"));u.append("g").attr("class","viz-geo-container-features").attr("style",R.styleManager.cssText("viz-geo-container-base"));if(ay.plot&&!V.plot){V.plot=u.append("g").attr("class","plot")}}function ad(){O();if(!v){return}v.onReady(ah,x);if(!I){v.featureResolver().baseLayerFeatures([],function(aC){if(!I){var aB={attributes:{stroke:"inherit","class":"viz-geo-base-layer-feature"},height:D,width:o,pointRadius:0};I=new l(t,aC,aB)}if(ar){I.move(ar.translate(),ar.scale())}})}}function am(aC){var aD=u.select(".viz-geo-container-features"),aB={pointRadius:0,attributes:{fill:"inherit",stroke:"inherit","class":"viz-geo-feature"}};if(ae){ae.remove()}ae=new l(aD,aC,aB)}function x(){if(E&&!aj){aj=new k();aj.resourcePath(i.dataPath());v.featureResolver().baseLayerFeatures([v.featureResolver().detailWorldMapId()],function(){});v.featureResolver().featureSearcher(aj)}if(ao.properties.renderFeatureLayer){am(v.featureSet())}ab();L();ac()}function U(){var aB=new f(K);ay.plot.data(aB.getDataAdapter())}function L(){ay.plot.width(o).height(D);V.plot.call(ay.plot)}function ac(){if(a.isEmptyObject(ay)){return}if(u){u.attr("display",(!o||!D)?"none":null)}if(Q){Q.attr("width",o).attr("height",D)}if(I){I.width(o).height(D)}if(ae){ae.width(o).height(D)}if(ay&&ay.plot){ay.plot.width(o).height(D)}}function ab(){if(v.isReady()&&D&&o){if(!ar){ar=d3.behavior.zoom()}var aC=32;if(a.isNumber(ag)&&ag>=1){aC=ag}var aB=[Math.min(o,D),Math.max(o,D)*aC];ar.translate(M.translate()).scale(M.scale()).scaleExtent(aB);u.call(ar);u.on("dblclick.zoom",null);if(!at()){ar.on("zoom",H);u.on("DOMMouseScroll.zoom",s);u.on("mousewheel.zoom",s)}else{ar.on("zoom",null);u.on("DOMMouseScroll.zoom",null);u.on("mousewheel.zoom",null)}aq()}}function an(aH,aF){var aE=ar.scale(),aB=ar.scaleExtent(),aK=aH>0?5/4*aE:4/5*aE,aG=Math.max(aB[0],Math.min(aB[1],aK)),aI=aF||[o/2,D/2],aJ=M.invert(aI),aD=M.scale(aG).translate([0,0])(aJ),aC=[aI[0]-aD[0],aI[1]-aD[1]];w(aC,aG)}function s(){var aD=d3.mouse(this),aC=d3.event,aB=aC.wheelDelta||-aC.detail;an(aB,aD);aC.stopPropagation();aC.preventDefault()}function S(){var aB=v.bounds();if(aB){return aB}return[[-180,-80],[180,90]]}function G(){if(a.isNumber(C)){return C}return Math.min(Math.min(D,o)/10,40)}function aq(){var aK=G(),aB=50,aL=S(),aF=aL[0],aI=aL[1],aH=d3.geo.mercator().scale(1).translate([0.5,0.5]),aJ=aH(aF),aN=aH(aI),aG=(1/(aN[0]-aJ[0]))*Math.max(o-aK*2,aB),aE=(1/(aJ[1]-aN[1]))*Math.max(D-aK*2,aB),aD=Math.min(aG,aE),aC;if(ar){var aM=ar.scaleExtent();if(aD<aM[0]){aM[0]=aD;ar.scaleExtent(aM)}aD=Math.min(aD,aM[1])}M.scale(aD).translate([0,0]);aJ=M(aF);aN=M(aI);aC=[o/2-(aN[0]+aJ[0])/2,D/2-(aN[1]+aJ[1])/2];w(aC,aD)}function aa(aB){return aB/Math.max(o,D)}function H(){var aB=d3.event.translate,aC=d3.event.scale;if(!E){w(aB,aC)}else{if(aa(aC)<=8){w(aB,aC)}else{if(z!=aC){z=aC;w(aB,aC)}else{T={t:aB,s:aC}}}}}function q(aN){var aH=M.translate();M.translate([0,0]);var aF=M([-180,90]),aJ=M([180,-80]);var aM=aJ[0]-aF[0],aG=aJ[1]-aF[1],aK=10,aL=aN[0],aI=aN[1];if(aM<o){aL=o/2}else{var aC=Math.abs(aF[0])+aK,aE=o-aJ[0]-aK;if(aL>aC){aL=aC}else{if(aL<aE){aL=aE}}}if(aG<D){aI=D/2}else{var aB=Math.abs(aF[1])+aK,aD=D-aJ[1]-aK;if(aI>aB){aI=aB}else{if(aN[1]<aD){aI=aD}}}aN[0]=aL;aN[1]=aI;M.translate(aH)}function aw(aB,aC){if(ar){ar.translate(aB).scale(aC)}M.translate(aB).scale(aC);if(I){p(aC);I.move(aB,aC)}if(ae){av(aC);ae.move(aB,aC)}}function w(aD,aE){q(aD);var aB=0;var aC=E&&(aa(aE)>8)&&af===0;if(aC){aB=Date.now()}aw(aD,aE);B.move(aD,aE);if(aC){af=(Date.now()-aB)*0.9;if(af>0){setInterval(au,af)}}}function p(aD){if(E){if(aa(aD)>8){var aC=[];var aB=0;if(aa(aD)<=16){aB=0.05;I.zoomLevel(1)}else{I.zoomLevel(2)}v.featureResolver().searchDetailFeatures(m(aD),aB,function(aE){aC=aE});if(aC&&aC.length>0){I.switchLayer(aC)}}else{if(I.zoomLevel()!==0){v.featureResolver().baseLayerFeatures([],function(aE){I.switchLayer(aE);I.zoomLevel(0)})}}}}function ap(aC,aD,aB){if(aD&&aD.length>0){ae.switchLayer(aD);ae.zoomLevel(aB)}}function av(aD){if(E){var aC=v.features();if(aC){if(aa(aD)>8){var aB=0;if(aa(aD)<=16){if(ae.zoomLevel()!==1){aB=0.05;v.featureResolver().detailFeatures(aC,aB,function(aE){ap(aD,aE,1)})}}else{if(ae.zoomLevel()!==2){v.featureResolver().detailFeatures(aC,aB,function(aE){ap(aD,aE,2)})}}}else{if(ae.zoomLevel()!==0){ap(aD,aC,0)}}}}}function m(aF){var aE=o/aF,aC=360*aE,aD=180*aE,aH=M.invert([0,0]),aB=aH[0],aG=aH[1]-aD;return{x:aB,y:aG,w:aC,h:aD}}function au(){if(!a.isEmptyObject(T)){w(T.t,T.s);T={}}}function y(){B.initialized()}function aA(aB){B.showTooltip(aB)}function F(aB){B.hideTooltip(aB)}function ai(aB){ak=d3.select(aB.node());if(a.isEmptyObject(ay)){az()}ad();return ai}ai.width=function(aB){if(!arguments.length){return o}o=aB>0?aB:0;ac();return ai};ai.height=function(aB){if(!arguments.length){return D}D=aB>0?aB:0;ac();return ai};ai.size=function(aB){if(!arguments.length){return{width:o,height:D}}D=aB.height>0?aB.height:0;o=aB.width>0?aB.width:0;ac();return ai};ai.data=function(aC){if(!arguments.length){return K}K=aC;if(ay.plot){var aB=new f(K);ay.plot.data(aB.getDataAdapter())}return ai};ai.properties=function(aB){if(!arguments.length){return P}Y=aB;n();W();return ai};ai.config=function(aB){if(!arguments.length){return ax}ax=aB;return ai};ai.modules=function(aB){if(!arguments.length){if(a.isEmptyObject(ay)){az()}return ay}ay=aB;return ai};ai.parent=function(aB){if(!arguments.length){return ak}ak=aB;return ai};ai.dispatch=function(aB){if(!arguments.length){return B}B=aB;return ai};ai.mapControlsDisabled=function(aB){if(!arguments.length){return J}J=aB;return ai};ai.infoForSizeLegend=function(){return{space:0,number:1,plotHeight:D}};ai.projection=function(){return M};ai.geoDataHandler=function(aB){if(!arguments.length){return v}v=aB;return v};ai.move=function(aB,aC){aw(aB,aC)};ai.resetZoom=function(){aq()};ai.zoom=function(aB){an(aB)};ai.datapointPadding=function(aB){if(!arguments.length){return C}C=aB;return ai};return ai}});sap.riv.module({qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.GeoContainer",version:"4.0.0"},{qname:"sap.viz.feeds.Geo",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.geocontainer",type:b.Module.Type.Container,name:"geo container",properties:null,css:{".viz-geo-container-background":{description:"Geo chart background layer (ocean)",value:{fill:"transparent"}},".viz-geo-container-base":{description:"Geo chart base feature layer",value:{fill:"#EFEFEF",stroke:"#B9B9B9"}}},configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Background",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.background",version:"4.0.0"}],function Setup(e,c,d){var a={name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of background."};var b={id:"sap.viz.modules.background",type:c.Module.Type.Supplementary,name:"background",description:"Settings for the background for the outer chart area.",properties:{visible:a,border:{name:"border",description:"Settings for border property.",supportedValueType:"Object",supportedValues:{left:{name:"left",description:"Set left border property.",supportedValueType:"Object",supportedValues:{visible:a,},},right:{name:"right",description:"Set right border property.",supportedValueType:"Object",supportedValues:{visible:a,},},top:{name:"top",description:"Set top border property.",supportedValueType:"Object",supportedValues:{visible:a,},},bottom:{name:"bottom",description:"Set bottom border property.",supportedValueType:"Object",supportedValues:{visible:a,},},},},drawingEffect:{name:"drawingEffect",description:"Set drawing effect of background.",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",isExported:true,},direction:{name:"direction",description:"Set gradient direction of background.",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",}},css:{".viz-plot-background":{description:"Define style for the plot background.",value:{fill:"#ffffff",}},".viz-plot-background-border":{description:"Define style for the plot background border.",value:{stroke:"#d8d8d8","stroke-width":1,"shape-rendering":"crispEdges",}},},configure:null,fn:d};e.register(b)});sap.riv.module({qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.axis",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.axis",type:b.Module.Type.Supplementary,name:"axis",properties:{isIndependentMode:{name:"isIndependentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set whether axis works on independent mode, currently it is used specially for boxplot chart.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Show the label 0.1 as 10",isExported:false},lineSize:{name:"lineSize",supportedValueType:"String",defaultValue:"1",description:"Set line size of axis.",isExported:true,},title:{name:"title",description:"Settings for axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of axis title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of axis title."},applyAxislineColor:{name:"applyAxislineColor",supportedValueType:"Boolean",defaultValue:false,description:"Set title color same with axisline color.",isExported:false,},},},gridline:{name:"gridline",description:"Settings for axis gridline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis gridline."},showFirstLine:{name:"showFirstLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the first line of gridlines.",isExported:false,},showLastLine:{name:"showLastLine",supportedValueType:"Boolean",defaultValue:false,description:"Set enabled/disabled the last line of gridlines.",isExported:false,},type:{name:"type",supportedValueType:"List",supportedValues:["line","dotted","incised"],defaultValue:"line",description:"Set type of gridline.",isExported:true,},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set color of gridline.",isExported:true,},size:{name:"size",supportedValueType:"String",defaultValue:"1",description:"Set line size of gridline.",isExported:true,},},},color:{name:"color",supportedValueType:"String",defaultValue:"#6c6c6c",description:"Set color of axisline.",isExported:true,},axisline:{name:"axisline",description:"Settings for axisline.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axisline."},},},type:{name:"type",supportedValueType:"List",supportedValues:["value","category",],defaultValue:"value",description:"Set type of axis.",isExported:false,},visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis.",},label:{name:"label",description:"Settings for axis label.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of axis label."},numberFormat:{name:"numberFormat",supportedValueType:"String",defaultValue:"",description:"Set number format of value axis."},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of value axis. If number format and format string are both set, number format will be ignored. "}},},position:{name:"position",supportedValueType:"List",supportedValues:["left","right","top","bottom"],defaultValue:"bottom",description:"Set position of axis.",isExported:false,},scale:{name:"scale",description:"Set scale for yAxis.",supportedValueType:"Object",supportedValues:{fixedRange:{name:"fixedRange",supportedValueType:"Boolean",defaultValue:false,description:"Enable/disable fixed axis range according minValue and maxValue.",isExported:false},minValue:{name:"minValue",supportedValueType:"Number",defaultValue:0,description:"Set minValue of yAxis.",isExported:false},maxValue:{name:"maxValue",supportedValueType:"Number",defaultValue:0,description:"Set maxValue of yAxis.",isExported:false}},isExported:false},layoutInfo:{name:"layoutInfo",description:"Settings layoutInfo for axis.",supportedValueType:"Object",supportedValues:{width:{name:"width",supportedValueType:"Number",defaultValue:0,description:"Set width of xAxis.",isExported:false},height:{name:"height",supportedValueType:"Number",defaultValue:0,description:"Set height of xAxis.",isExported:false}},isExported:false}},css:{".viz-axis-title":{description:"Define style for the axis title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-axis-label":{description:"Define style for the axis label.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.0"},[{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.data.handler.MeasureDataHandler",version:"4.0.0"}],function Setup(e,c,d){function g(i){var h=i.slice(0);h.sort(function(k,j){return k.index-j.index});h.shift();return h}function f(h){if(h[0]===true){if(h[1]===true){return[1,2]}else{return[1]}}else{if(h[1]===true){return[2]}else{return[1]}}}function b(j){if(j[0]===true){if(j[1]===true){return[1]}else{if(j[2]===true){if(j.length>3){return[1]}else{return[2]}}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}}else{if(j[1]===true){if(j[2]===true){return[1,2]}else{if(j[3]===true){e.error("Not Supported")}else{return[1]}}}else{if(j[2]===true){if(j[3]===true){e.error("Not Supported")}else{if(j.length>3){return[1]}else{return[2]}}}else{for(var h=0;h<j.length;h++){if(j[h]===true){e.error("could not determin measure value axis index")}}return[1]}}}e.error("could not determin measure value axis index")}function a(i,h){this._dataAdapter=i;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=g(this._aa);this._type=h;if(this._type===undefined){this._measureValueAxisIndex=b(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else{if(this._type==="measures"){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}}a.prototype.getSubDataAdapter=function(h){if(this._type===undefined){return this.getSubDataAdapterByContext(h)}else{if(this._type==="measures"){return this.getSubDataAdapterByMeasures(h)}}return null};a.prototype.getSubDataAdapterByContext=function(h){var l,m,k,j;if(h){if(h.path.mg!==undefined&&h.path.mi!==undefined){if(h.path.di!==undefined&&h.path.dii!==undefined){l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return l}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}j=this._mg[h.path.mg];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l}}else{l=new c();for(k=0;k<this._subAxes.length;k++){m=this._subAxes[k];l.addAnalysisAxis({index:m.index-1,values:m.values})}for(k=0;k<this._mg.length;k++){j=this._mg[k];l.addMeasureValuesGroup({index:j.index,values:d.makeMeasureValues(h,j,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return l}}return null};a.prototype.getSubDataAdapterByMeasures=function(h){var l=new c();for(var k=0;k<this._aa.length;k++){l.addAnalysisAxis(this._aa[k])}var j=this._mg[0];l.addMeasureValuesGroup({index:0,values:d.makeMeasureValues(null,{values:[j.values[h.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});l.addMeasureValuesGroup({index:1,values:d.makeMeasureValues(null,{values:[j.values[h.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return l};return a});sap.riv.module({qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.0"},[{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(a){return function(f,m){var i=m;var q=f;var w;var t;var p={values:[]};var b={values:[]};var u=[];var x;var y;var n=a.get("IDS_DEFAULTMND");var o=function(){};o.setData=function(C){i=C;return o};o.setProperties=function(C){q=C;return o};o.getColumnDimensionData=function(){return b};o.getRowDimensionData=function(){return p};o.getContexts=function(){return u};function r(){var C=0;if(w>0){x=1;y=i.values[0].rows.length;u.push([]);var E=b.values;E[0]={col:{val:n},rows:[]};for(C=0;C<i.values[0].rows.length;++C){E[0].rows.push({val:i.values[0].rows[C].val,info:i.values[0].rows[C].info});u[0].push(i.values[0].rows[C].ctx)}}else{x=i.values[0].rows.length;y=1;var D=p.values;D[0]={col:{val:n},rows:[]};for(C=0;C<i.values[0].rows.length;++C){D[0].rows.push({val:i.values[0].rows[C].val,info:i.values[0].rows[C].info});u.push([i.values[0].rows[C].ctx])}}}function v(){p.values=[];b.values=[];x=0;y=0;u=[]}function B(E,D,C,G){for(var F=C;F<C+G;++F){if(i.values[F].rows[E].val!==i.values[F].rows[D].val){return false}}return true}function g(J,I,G,K){var E=0;var H=J.length;var M=true;for(var D=0;M&&D<K;++D){var C=H;var F=E;M=false;for(var L=E;L<H;++L){if(i.values[G+D].rows[J[L]].val===i.values[G+D].rows[I].val){M=true;if(L<C){C=L}if(L>=F){F=L+1}}}if(M){E=C;H=F}}if(!M){if(H<J.length){J.splice(H,0,I)}else{J.push(I)}}}function s(E,D,G){var C=[];for(var F=D;F<D+G;++F){C.push(i.values[F].rows[E].val)}return C}function j(G,C,E){var F={};for(var D=0;D<G.length;++D){F[s(G[D],C,E)]=D}return F}function c(E,I){var J=[];var D=[];D.push(0);var G;var H={};for(G=1;G<i.values[E].rows.length;++G){g(D,G,E,I)}var K=b.values;for(G=0;G<I;++G){H={};H.col=i.values[E+G].col;H.rows=[];H.rows[0]={val:i.values[E+G].rows[0].val,info:i.values[E+G].rows[0].info};K.push(H)}for(G=0;G<D.length;++G){for(var F=0;F<I;F++){K[F].rows[G]={val:i.values[E+F].rows[D[G]].val,info:i.values[E+F].rows[D[G]].info}}}var C=j(D,E,I);for(G=0;G<i.values[E].rows.length;++G){H=s(G,E,I);J[G]=C[H]}y=D.length;return J}function z(C){if(!C){return null}return{type:C.type,path:{aa:C.path.aa,di:C.path.di,dii:C.path.dii}}}function A(E){var D=[];for(var C=0;C<E.length;++C){D.push(z(E[C]))}return D}function h(E,C){for(var D=0;D<E.length;++D){if(!E[D]){E[D]={path:{}}}E[D].path.mg=C.path.mg;E[D].path.mi=C.path.mi}}function d(E){var C=u.length;for(var F=0;F<E;++F){for(var D=0;D<C;++D){u.push(A(u[D]))}}}function e(M,P,L,O){var F=M?i.values.length-1:0;var D=i.values[F].rows;var R={};R.col=i.values[F].col;R.rows=[];var S=P?p.values:b.values;var C=P?L:O;var J,H,G;var I;if(P&&L===0){S[0]={col:{val:n},rows:[]};h(u[0],D[0].ctx);S[0].rows.push({val:D[0].val});for(J=1;J<D.length;++J){S[0].rows.push({val:D[J].val});u.push(A(u[0]));h(u[J],D[J].ctx)}x=D.length;return}if(!P&&O===0){S[0]={col:{val:n},rows:[]};for(J=0;J<D.length;++J){S[0].rows.push({val:D[J].val})}for(J=0;J<u.length;++J){u[J][0].path.mg=D[0].ctx.path.mg;u[J][0].path.mi=D[0].ctx.path.mi;for(H=1;H<D.length;++H){u[J].push(z(u[J][0]));u[J][H].path.mg=D[H].ctx.path.mg;u[J][H].path.mi=D[H].ctx.path.mi}}return}var K=P?x:y;if(M){for(J=0;J<K;++J){for(H=0;H<S.length;++H){for(G=1;G<D.length;++G){I={val:S[H].rows[J*D.length+G-1].val,info:S[H].rows[J*D.length+G-1].info};S[H].rows.splice(J*D.length+G,0,I)}}}for(J=0;J<K;++J){for(H=0;H<D.length;++H){I={val:D[H].val};R.rows.push(I)}}S.push(R);if(P){x*=D.length;for(J=0;J<x;J+=D.length){h(u[J],D[0].ctx);for(H=1;H<D.length;++H){var E=A(u[J]);u.splice(J+H,0,E);h(u[J+H],D[H].ctx)}}}else{y*=D.length;for(J=0;J<u.length;++J){for(H=0;H<y;H+=D.length){u[J][H].path.mg=D[0].ctx.path.mg;u[J][H].path.mi=D[0].ctx.path.mi;for(G=1;G<D.length;++G){u[J].splice(H+G,0,z(u[J][H]));u[J][H+G].path.mg=D[G].ctx.path.mg;u[J][H+G].path.mi=D[G].ctx.path.mi}}}}return}else{for(J=1;J<D.length;++J){for(H=0;H<C;++H){for(G=0;G<K;++G){I={val:S[H].rows[G].val,info:S[H].rows[G].info};S[H].rows.push(I)}}}for(H=0;H<D.length;++H){for(J=0;J<K;++J){I={val:D[H].val};R.rows.push(I)}}S.splice(0,0,R);if(P){x*=D.length;d(D.length-1);for(J=0;J<x;++J){h(u[J],D[x%D.length].ctx)}}else{y*=D.length;for(J=0;J<u.length;++J){var Q=[];h(u[J],D[0].ctx);for(H=1;H<D.length;++H){var N=A(J);h(N,D[0].ctx);Q=Q.concat(A(J))}u[J]=u[J].concat(Q)}}}}function l(C,I,H){var G=p.values;var F=0;for(F=0;F<C;++F){var E={};E.col=i.values[I+F].col;E.rows=[];E.rows[0]={val:i.values[I+F].rows[0].val,info:i.values[I+F].rows[0].info};G.push(E)}for(F=1;F<i.values[I].rows.length;++F){if(B(F,F-1,I,C)){H[F]=x}else{++x;for(var D=0;D<C;D++){G[D].rows[x]={val:i.values[I+D].rows[F].val,info:i.values[I+D].rows[F].info}}H[F]=x}}++x}function k(){var K=0,F=i.values.length;var G=t,I=w;var H=false,J=true;var E;if(i.values[0].type==="MND"){++K;if(G>0){--G}else{--I;J=false}}if(i.values[F-1].type==="MND"){H=true;--F;if(I>0){--I;J=false}else{J=true;--G}}if(K<F){var L=[];if(I>0||G>0){L[0]=0;x=0;if(G>0){l(G,K,L)}else{x=1;for(E=1;E<i.values[K].rows.length;++E){L[E]=0}}var D=[];if(I>0){D=c(K+G,I)}else{y=1;for(E=0;E<i.values[K].rows.length;++E){D[E]=0}}u=new Array(x);for(E=0;E<x;++E){u[E]=[];for(var C=0;C<y;++C){u[E][C]=null}}for(E=0;E<i.values[K].rows.length;++E){u[L[E]][D[E]]=i.values[K+G+I-1].rows[E].ctx}}if(G<t||I<w){e(H,J,G,I)}}}o.process=function(){v();if(!i||!i.values||i.values.length===0){return}w=q&&q.numberOfDimensionsInColumn!==undefined?q.numberOfDimensionsInColumn:1;if(!w||w<0){w=0}if(w>i.values.length){w=i.values.length}t=i.values.length-w;if(t<0){t=0}if(i.values.length===1&&i.values[0].type==="MND"){r()}else{k()}};return o}});sap.riv.module({qname:"sap.viz.modules.tablecontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.modules.util.DimensionalInfoHandler",version:"4.0.0"},{qname:"sap.viz.data.handler.MultiChartDataHandler",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.MultiAxesDataAdapter",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,e,d,b,k,h,j,g,c,i){var f=function(E,L){var n=0,p=0,ai=0,M=0,o={},ae=E.props(null),S={},aa={},A=[],J=[],af=null,V={},O={},u={},C=null,ad=3,G=2,r=d3.scale.ordinal(),ab=d3.scale.ordinal(),I=new c("initialized","showTooltip","hideTooltip"),y=0,P=0;var D="multiLayout";function Y(aj){return j.module.get(aj).execute(L)}function w(){if(a.isEmptyObject(V)){d.error("Container configuration missing")}t();y=0,P=0;F(V,"xAxis",aa.columnData);F(V,"yAxis",aa.rowData);F(V,"xAxis2",aa.columnData);F(V,"yAxis2",aa.rowData);W();ac("plot");ac("xAxis2");ac("yAxis");q();z();P=P+y}function t(){delete aa.contexts;delete aa.columnData;delete aa.rowData;delete aa.dataHandler;var aj=k({numberOfDimensionsInColumn:ae.numberOfDimensionsInColumn},af.getAnalysisAxisDataByIdx(0));aj.process();var ao=aj.getRowDimensionData();var am=aj.getColumnDimensionData();var an=aj.getContexts();ad=an.length;G=ad>0?an[0].length:G;var ak=new g();ak.addAnalysisAxis({key:ak.key,index:0,values:am.values});var al=new g();al.addAnalysisAxis({key:ao.key,index:0,values:ao.values});aa.contexts=an;aa.columnData=ak;aa.rowData=al;aa.dataHandler=new h(af)}function F(ak,aq,aj){if(!ak.modules[aq]){return}var ao=ak.modules[aq],an=O[aq]=Y(ao.id);v(aq,aj);var am={},al,ap;if(ao.configure){al=o[ao.configure.propertyCategory]||{};ap=ao.configure.properties||{};e.extend(true,am,ap,al);an.properties(am)}if(an.dispatch&&an.dispatch()["initialized"]){P++;an.dispatch().on("initialized.tablecontainer",B)}u[aq]=C.append("g").attr("class",aq)}function v(ak,aj){if(O[ak]){O[ak].data(aj)}}function W(){var ar=V.modules.plot;if(!ar){return}K();T();var ak=aa.contexts;var aq=O.plot=[];for(var an=0;an<G;an++){for(var ap=0;ap<ad;ap++){var am=ak[ap][an];if(am){var al=an*ad+ap;var ao=aq[al]=Y(ar.id);ao.config(ar);if(ao.dispatch){y++;var aj=ao.dispatch();if(aj.initialized){aj.on("initialized.tablecontainer",B)}if(aj.showTooltip){aj.on("showTooltip.tablecontainer",ah)}if(aj.hideTooltip){aj.on("hideTooltip.tablecontainer",H)}}}}}}function m(){var ap=O.plot;if(ap){var an=V.modules.plot;if(!an){return}var am=null,al,ao;var aq=an.configure;if(aq){ao={};if(aq.propertyCategory){ao[aq.propertyCategory]=aq.properties}al=o;am={};e.extend(true,am,ao,al)}else{am=o}for(var ak=0,aj=ap.length;ak<aj;ak++){if(am&&ap[ak]){ap[ak].properties(am)}}}}function ac(al){if(al==="plot"){m()}else{var aj=O[al];if(aj){var an=V.modules[al];if(!an){return}var ak;var am=an.configure;if(am){ak=e.extend(true,{},o[am.propertyCategory])}else{ak=o}aj.properties(ak)}}}function q(){var aj=aa.dataHandler;var aq=aa.contexts;var ao=O.plot;for(var am=0;am<G;am++){for(var al=0;al<ad;al++){var ap=aq[al][am];if(ap){var ak=am*ad+al;var an=aj.getSubDataAdapter(ap);if(ao[ak]){ao[ak].data(an)}}}}}function z(){var al=V.modules.plot;if(!al){return}var ax=O.plot;var aA=u.plot=[];if(u.plotRoot){u.plotRoot.remove()}var ak=u.plotRoot=C.append("g").attr("class","plot");for(var ar=0;ar<G;ar++){for(var ap=0;ap<ad;ap++){var az=ar*ad+ap;if(ax[az]){var au=ax[az];aA[az]=ak.append("g").attr("class","plot"+az);au.parent(aA[az]);if(au.modules){var ao=au.modules();var aC;for(var ay in ao){if(ao.hasOwnProperty(ay)){aC="plot["+az+"]."+ay;A.push(aC);O["plot["+az+"]."+ay]=ao[ay]}}}var av=al.controllers;if(av){for(var aq in av){if(av.hasOwnProperty(aq)){var aB=av[aq];var aw=Y(aB.id);aw().module(au);var am={};var aj=aB.propertyCategory;var at=o[aj];var an=aB.properties;e.extend(true,am,an,at);aw.properties(am);J.push("plot["+az+"]."+aq);O["plot["+az+"]."+aq]=aw}}}}}}}function K(){for(var ak=0,aj=J.length;ak<aj;ak++){delete O[J[ak]]}J=[]}function T(){for(var ak=0,aj=A.length;ak<aj;ak++){delete O[A[ak]]}A=[]}function X(){if(a.isEmptyObject(O)||!n||!p){return}var av={};if(O.xAxis){O.xAxis.drawable(true);av.south={size:O.xAxis.getPreferredSize()}}if(O.yAxis){O.yAxis.drawable(true);av.west={size:O.yAxis.getPreferredSize()}}if(O.xAxis2){O.xAxis2.drawable(true);av.north={size:O.xAxis2.getPreferredSize()}}if(O.yAxis2){O.yAxis2.drawable(true);av.east={size:O.yAxis2.getPreferredSize()}}if(O.plot){av.center={}}var am=b({type:"border",bias:"none",size:{width:n,height:p},prefs:av});ai=am.center.bounds.width;M=am.center.bounds.height;r.rangeBands([0,ai]);ab.rangeBands([0,M]);if(am.north){var aj=0,at=0;if(am.west){aj=am.north.bounds.width-am.west.bounds.width;at=am.north.bounds.x+am.west.bounds.width}if(am.east){aj=am.north.bounds.width-am.east.bounds.width}u.xAxis2.attr("transform","translate("+at+","+am.north.bounds.y+")");O.xAxis2.width(aj).height(am.north.bounds.height);O.xAxis2.gridlineLength(am.center.bounds.height)}else{if(O.xAxis2){O.xAxis2.drawable(false)}}if(am.east){u.yAxis2.attr("transform","translate("+am.east.bounds.x+","+am.east.bounds.y+")");O.yAxis2.width(am.east.bounds.width).height(am.east.bounds.height);O.yAxis2.gridlineLength(am.center.bounds.width)}else{if(O.yAxis2){O.yAxis2.drawable(false)}}if(am.south){var au=0,ap=0;if(am.west){au=am.south.bounds.width-am.west.bounds.width;ap=am.south.bounds.x+am.west.bounds.width}if(am.east){au=am.south.bounds.width-am.east.bounds.width}u.xAxis.attr("transform","translate("+ap+","+am.south.bounds.y+")");O.xAxis.width(au).height(am.south.bounds.height);O.xAxis.gridlineLength(am.center.bounds.height)}else{if(O.xAxis){O.xAxis.drawable(false)}}if(am.west){u.yAxis.attr("transform","translate("+am.west.bounds.x+","+am.west.bounds.y+")");O.yAxis.width(am.west.bounds.width).height(am.west.bounds.height);O.yAxis.gridlineLength(am.center.bounds.width)}else{if(O.yAxis){O.yAxis.drawable(false)}}if(am.center){u.plotRoot.attr("transform","translate("+am.center.bounds.x+","+am.center.bounds.y+")");var ak=b({type:"table",bias:"none",size:{width:am.center.bounds.width,height:am.center.bounds.height},columns:G,rows:ad,cellpadding:ae.cellPadding,paddingThreshold:ae.paddingThreshold});for(var al=0;al<G;al++){for(var ao=0;ao<ad;ao++){var an=O.plot[al*ad+ao];if(an){var ar=ak[al][ao];var aq=u.plot[al*ad+ao];an.width(ar.bounds.width).height(ar.bounds.height);aq.attr("transform","translate("+ar.bounds.x+","+ar.bounds.y+")")}}}}}function N(aj){return function(al){if(!arguments.length){return S[aj]}else{if(!S[aj]){S[aj]=al}else{var ak=S[aj];if(al.distinctValuesObj){for(var am in al.distinctValuesObj){if(al.distinctValuesObj.hasOwnProperty(am)){ak.distinctValuesObj[am]=al.distinctValuesObj[am]}}}if(al.min<ak.min){ak.min=al.min}if(al.max>ak.max){ak.max=al.max}if(al.hasNoValue){ak.hasNoValue=true}}}}}function l(al){for(var ak=0,aj=al.length;ak<aj;ak++){U[al[ak]+"DataRange"]=N(al[ak])}}function R(ak){o=ak;if(ak[D]){if(ak[D].mergeDataRange){ae.mergeDataRange=ak[D].mergeDataRange;l(ae.mergeDataRange)}var aj=ae.numberOfDimensionsInColumn;e.extend(true,ae,ak[D]);if(O.plot&&aj!==ae.numberOfDimensionsInColumn){t();S={};v("xAxis",aa.columnData);v("yAxis",aa.rowData);v("xAxis2",aa.columnData);v("yAxis2",aa.rowData);q();X()}}}function ag(){var al=[];for(var aj=0;aj<G;aj++){al.push(aj)}var ak=O.xAxis?O.xAxis:O.xAxis2;r.domain(al).rangeBands([0,ai])}function x(){var al=[];for(var ak=0;ak<ad;ak++){al.push(ak)}var aj=O.yAxis?O.yAxis:O.yAxis2;ab.domain(al).rangeBands([0,M])}function U(aj){aj.each(function(ak){C=aj;i.drawBound(aj,n,p);if(a.isEmptyObject(O)){w()}Q()});return U}U.width=function(aj){if(!arguments.length){return n}n=aj;X();return U};U.height=function(aj){if(!arguments.length){return p}p=aj;X();return U};U.size=function(aj){if(!arguments.length){return{width:n,height:p}}p=aj.height;n=aj.width;X();return U};U.data=function(aj){if(!arguments.length){return af}af=aj;for(var ak in S){if(S.hasOwnProperty(ak)){delete S[ak]}}if(!a.isEmptyObject(O)){t();P=P-y;v("xAxis",aa.columnData);v("yAxis",aa.rowData);v("xAxis2",aa.columnData);v("yAxis2",aa.rowData);y=0;W();ac("plot");ac("xAxis2");ac("yAxis");q();z();P=P+y}return U};U.properties=function(aj){if(!arguments.length){return ae}R(aj);if(!a.isEmptyObject(O)){ac("plot");ac("xAxis2");ac("yAxis")}return U};U.config=function(aj){if(!arguments.length){return V}V=aj;return U};U.xCategoryScale=function(aj){if(!arguments.length){ag();return r}r=aj;return U};U.yCategoryScale=function(aj){if(!arguments.length){x();return ab}ab=aj;return U};U.modules=function(aj){if(!arguments.length){if(a.isEmptyObject(O)){w()}return O}O=aj;return U};U.parent=function(aj){if(!arguments.length){return C}C=aj;return U};U.dispatch=function(aj){if(!arguments.length){return I}I=aj;return U};U.infoForSizeLegend=function(){var al;for(var ak=-1,aj=O.plot.length;++ak<aj;){al=O.plot[ak];if(al){break}}return{space:al?(n-ai+al.infoForSizeLegend().space*G):0,number:G,plotHeight:al?al.height():0}};U.plotRegion=function(){return{selection:u.plotRoot,width:ai,height:M}};function Z(aj){if(u[aj]){C.select("."+aj).datum(O[aj].data()).call(O[aj])}}function Q(){Z("xAxis");Z("xAxis2");Z("yAxis");Z("yAxis2");if(u.plot){for(var ak=0,aj=u.plot.length;ak<aj;ak++){if(u.plot[ak]){u.plot[ak].datum(O.plot[ak].data()).call(O.plot[ak])}}}}var s=0;function B(){if(++s===P){s=0;I.initialized()}}function ah(aj){I.showTooltip(aj)}function H(aj){I.hideTooltip(aj)}return U};return f});sap.riv.module({qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.modules.Constants",version:"4.0.0"},{qname:"sap.viz.modules.tablecontainer",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"}],function Setup(f,b,e,g,d){var a={id:"multiplier",name:"Chart Multiplier",type:g.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:0};var c={id:"sap.viz.modules.tablecontainer",type:b.Type.Container,name:"table container",description:"Settings for the subcharts layout of multiple charts.",properties:{mergeDataRange:{name:"mergeDataRange",supportedValueType:"List",supportedValues:["ANY DATA RANGE NAME"],defaultValue:null,description:"Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if 'primary' and 'second' are specified here, two functions will be generated: 'primaryDataRange' and 'secondDataRange'. the function name is the range name plus 'DataRange'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.",isExported:false},numberOfDimensionsInColumn:{name:"numberOfDimensionsInColumn",supportedValueType:"PositiveInt",defaultValue:1,description:"Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout."},cellPadding:{name:"cellPadding",supportedValueType:"PositiveInt",defaultValue:15,description:"Set padding between cells of sub plots. If cellPadding value exceeds containerSize * threshold, we set it to 0."},paddingThreshold:{name:"paddingThreshold",supportedValueType:"Number",defaultValue:0.2,description:"Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.",isExported:false}},events:{showTooltip:d.Module.Event.TooltipShow.desc,hideTooltip:d.Module.Event.TooltipHide.desc},css:null,feeds:[a],fn:e};f.register(c)});sap.riv.module({qname:"sap.viz.modules.xycontainer",version:"4.0.0"},[{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.base.utils.FunctionUtils",version:"4.0.0"},{qname:"sap.viz.modules.layout",version:"4.0.0"},{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.data.handler.SingleChartDataHandler",version:"4.0.0"},{qname:"sap.viz.modules.dispatch",version:"4.0.0"},{qname:"sap.viz.modules.util.BoundUtil",version:"4.0.0"}],function Setup(a,f,d,c,i,b,e,h){var g=function(l,C){function u(K){return i.module.get(K).execute(C)}var B=0,A=0,s={},J={},G={},F={},o={},D,w=null;var z=new e("initialized","showTooltip","hideTooltip"),y=0;var t=l.props(null);var p=function(P,M){var L={},O,K,N;if(M){if(P){O=P.propertyCategory;K=s;N={};N[O]=P.properties;f.extend(true,L,N,K)}else{L=s}}else{if(P){O=P.propertyCategory;K=s[O];N=P.properties;f.extend(true,L,N,K)}}return L};var v=function(P,M){var K=G.modules;var L,O,N;if(K[P]&&F[P]){O=K[P].configure;if(M){L=s}else{if(O){N=O.propertyCategory;L=f.extend(true,{},s[N])}else{L={}}}F[P].properties(L)}};function j(){if(a.isEmptyObject(G)){d.error("Container configuration missing")}y=0;k("xAxis");k("yAxis");k("xAxis2");k("yAxis2");k("background");var O=G.modules.plot;if(!O){return}var P=F.plot=u(O.id);var K=new b(J);P.data(K.getDataAdapter());var N;if(O.configure){N=p(O.configure);P.properties(N)}if(P.dispatch){var L=P.dispatch();if(L.initialized){y++;L.on("initialized.xycontainer",n)}if(L.showTooltip){L.on("showTooltip.xycontainer",m)}if(L.hideTooltip){L.on("hideTooltip.xycontainer",q)}}var Q=G.modules.dataLabel;if(a.isExist(Q)&&a.isExist(P.dataLabel)){var M=F.dataLabel=u(Q.id);P.dataLabel(M);M.plot(P);if(Q.configure){N=p(Q.configure);M.properties(N)}}if(F.xAxis&&!o.xAxis){o.xAxis=w.append("g").attr("class","xAxis")}if(F.xAxis2&&!o.xAxis2){o.xAxis2=w.append("g").attr("class","xAxis2")}if(F.yAxis&&!o.yAxis){o.yAxis=w.append("g").attr("class","yAxis")}if(F.yAxis2&&!o.yAxis2){o.yAxis2=w.append("g").attr("class","yAxis2")}if(F.plot&&!o.plot){o.plot=w.append("g").attr("class","plot")}if(F.background&&!o.background){o.background=w.insert("g",":first-child").attr("class","background")}}function E(M){if(F[M]){var L=G.modules[M];var K=L.data;if(K){F[M].data(J.createDataAdapterForModule(K))}}}function k(N){if(!G.modules[N]){return}var M=G.modules[N],L=F[N]=u(M.id);E(N);var K=p(M.configure);L.properties(K);if(L.dispatch&&L.dispatch()["initialized"]){y++;L.dispatch().on("initialized.xycontainer",n)}}function r(){if(a.isEmptyObject(F)||!B||!A){return}B=B<0?0:B;A=A<0?0:A;var W={};if(F.xAxis){F.xAxis.drawable(true);W.south={size:F.xAxis.getPreferredSize()}}if(F.yAxis){F.yAxis.drawable(true);W.west={size:F.yAxis.getPreferredSize()}}if(F.xAxis2){F.xAxis2.drawable(true);W.north={size:F.xAxis2.getPreferredSize()}}if(F.yAxis2){F.yAxis2.drawable(true);W.east={size:F.yAxis2.getPreferredSize()}}if(F.plot){W.center={}}var R=c({type:"border",bias:"none",size:{width:B,height:A},prefs:W});if(R.east){var N=0,O=0;if(R.south){N=R.east.bounds.height-R.south.bounds.height;O=R.east.bounds.y}if(R.north){N=R.east.bounds.height-R.north.bounds.height;O=R.west.bounds.y}o.yAxis2.attr("transform","translate("+R.east.bounds.x+","+O+")");F.yAxis2.width(R.east.bounds.width).height(N);F.yAxis2.gridlineLength(R.center.bounds.width)}else{if(F.yAxis2){F.yAxis2.drawable(false)}}if(R.north){var K=0,U=0;if(R.west){U=R.north.bounds.x+R.west.bounds.width}o.xAxis2.attr("transform","translate("+U+","+R.north.bounds.y+")");F.xAxis2.width(U).height(R.north.bounds.height);F.xAxis2.gridlineLength(R.center.bounds.height)}else{if(F.xAxis2){F.xAxis2.drawable(false)}}if(R.west){var Q=0,L=0;if(R.south){Q=R.west.bounds.height-R.south.bounds.height;L=R.west.bounds.y}if(R.north){Q=R.west.bounds.height-R.north.bounds.height;L=R.west.bounds.y}o.yAxis.attr("transform","translate("+R.west.bounds.x+","+L+")");F.yAxis.width(R.west.bounds.width).height(Q);F.yAxis.gridlineLength(R.center.bounds.width)}else{if(F.yAxis){F.yAxis.drawable(false)}}if(R.south){var V=0,T=0;if(R.west){T=R.south.bounds.x+R.west.bounds.width}o.xAxis.attr("transform","translate("+T+","+R.south.bounds.y+")");F.xAxis.width(R.south.bounds.width).height(R.south.bounds.height);F.xAxis.gridlineLength(R.center.bounds.height)}else{if(F.xAxis){F.xAxis.drawable(false)}}var M=0,P=rightPaddingxAxis2=0;if(!R.east){if(F.xAxis){P=F.xAxis.endPadding()}if(F.xAxis2){rightPaddingxAxis2=F.xAxis2.endPadding()}M=P>rightPaddingxAxis2?P:rightPaddingxAxis2}if(R.center){o.plot.attr("transform","translate("+R.center.bounds.x+","+R.center.bounds.y+")");var S=R.center.bounds.width-M;F.plot.width(S>0?S:0).height(R.center.bounds.height>0?R.center.bounds.height:0);D=B-S;if(o.background){o.background.attr("transform","translate("+R.center.bounds.x+","+R.center.bounds.y+")");F.background.width(S>0?S:0).height(R.center.bounds.height>0?R.center.bounds.height:0)}}if(R.west){F.yAxis.gridlineLength(R.center.bounds.width-M)}}function x(K){K.each(function(L){h.drawBound(K,B,A);w=K;if(a.isEmptyObject(F)){j()}I()});return x}x.width=function(K){if(!arguments.length){return B}B=K;r();return x};x.height=function(K){if(!arguments.length){return A}A=K;r();return x};x.size=function(K){if(!arguments.length){return{width:B,height:A}}A=K.height;B=K.width;r();return x};x.data=function(L){if(!arguments.length){return J}J=L;if(!a.isEmptyObject(F)){var K=new b(J);F.plot.data(K.getDataAdapter());E("xAxis");E("yAxis");E("xAxis2");E("yAxis2")}return x};x.properties=function(K){if(!arguments.length){return t}s=K;if(!a.isEmptyObject(F)){v("xAxis");v("xAxis2");v("yAxis");v("yAxis2");v("plot");v("dataLabel");v("background")}return x};x.config=function(K){if(!arguments.length){return G}G=K;return x};x.modules=function(K){if(!arguments.length){if(a.isEmptyObject(F)){j()}return F}F=K;return x};x.parent=function(K){if(!arguments.length){return w}w=K;return x};x.dispatch=function(K){if(!arguments.length){return z}z=K;return x};x.infoForSizeLegend=function(){return{space:D,number:1,plotHeight:F.plot.height()}};x.rotate=function(K){var L=F.plot;if(!arguments.length){return L.rotate()}L.rotate(K);return x};function I(){for(var K in o){if(o.hasOwnProperty(K)){o[K].datum(F[K].data()).call(F[K])}}if(a.isExist(F.dataLabel)){F.dataLabel()}}var H=0;function n(){if(y==++H){H=0;z.initialized()}}function m(K){z.showTooltip(K)}function q(K){z.hideTooltip(K)}return x};return g});sap.riv.module({qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.xycontainer",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.xycontainer",type:b.Module.Type.Container,name:"single container",properties:null,css:null,configure:null,events:{showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.datalabel",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.datalabel",name:"datalabel",type:b.Module.Type.Supplementary,properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set whether data label is visible.",},isDonut:{name:"isDonut",supportedValueType:"Boolean",defaultValue:false,description:"Set for donut chart only.",isExported:false},type:{name:"type",supportedValueType:"String",defaultValue:"value",description:"Set the type of label",isExported:false},automaticInOutside:{name:"automaticInOutside",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the data label will be automatically placed outside when data label postion property is inside and vice versa.",isExported:false},showZero:{name:"showZero",supportedValueType:"Boolean",defaultValue:true,description:"if it is true, the value zero will be shown in data label.",isExported:false},isGeoChart:{name:"isGeoChart",supportedValueType:"Boolean",defaultValue:false,description:"if it is true, it is a geo chart.",isExported:false},isStackMode:{name:"isStackMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for stack chart only.",isExported:false},isPercentMode:{name:"isPercentMode",supportedValueType:"Boolean",defaultValue:false,description:"Set for percent chart only.",isExported:false},positionPreference:{name:"positionPreference",supportedValueType:"Boolean",defaultValue:false,description:"If it is true, the data label position is defined by property outsidePosition no matter whether data label value is negative.",isExported:false},outsideVisible:{name:"outsideVisible",supportedValueType:"Boolean",defaultValue:true,description:"when data label is oustide, it can control whether it is visible or not.",isExported:false},outsidePosition:{name:"outsidePosition",supportedValueType:"List",supportedValues:["up","down","left","right"],defaultValue:"up",description:"when data label is oustide, its position is above the element.",isExported:false},paintingMode:{name:"paintingMode",supportedValueType:"List",supportedValues:["rect-coordinate","polar-coordinate"],defaultValue:"rect-coordinate",description:"Set painting mode of data labels.",isExported:false},position:{name:"position",supportedValueType:"List",supportedValues:["inside","outside"],defaultValue:"inside",description:"Set position of data labels."},orientation:{name:"orientation",supportedValueType:"List",supportedValues:["horizontal","vertical"],defaultValue:"vertical",description:"Set orientation of data labels.",isExported:false},formatString:{name:"formatString",supportedValueType:"Two-Dimensions-Array",defaultValue:null,description:"Set format string of datalabel.As we may have dual axis with serveral measures,the first array is applied to primary axis and the second one is applied to the second axis.If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series."}},css:{".viz-datalabel":{description:"Define style for the data label",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.legend",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.legend",type:b.Module.Type.Supplementary,name:"legend",description:"The legend is a box containing a symbol and name for each series item or point item in the chart.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set visibility of legend."},title:{name:"title",description:"Settings for legend title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of legend title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set text of legend title."}}},formatString:{name:"formatString",supportedValueType:"String",defaultValue:null,description:"Set format string of legend.",isExported:false},isHierarchical:{name:"isHierarchical",supportedValueType:"Boolean",defaultValue:false,description:"Set hierarchy legend. Supported only when legend is located in the right of chart.",isExported:true},position:{name:"position",supportedValueType:"List",supportedValues:["right"],defaultValue:"right",description:"Set legend position. Only support legend is located in the right side.",isExported:false},type:{name:"type",supportedValueType:"List",supportedValues:["ColorLegend","BubbleColorLegend","SizeLegend","MeasureBasedColoringLegend"],defaultValue:"ColorLegend",description:"Set legend type of Bubble chart. Non-bubble chart is not supported.",isExported:false},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["start","middle","end"],defaultValue:"start",description:"Set alignment of legend.",isExported:false},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Set drawing effect of legend.",isExported:true}},css:{".viz-legend-title":{description:"Define style for the legend title.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-legend-valueLabel":{description:"Define style for the legend label.",value:{fill:"black","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"12px","font-weight":"normal"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.title",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.title",type:b.Module.Type.Supplementary,name:"title",description:"Settings for the chart's main title.",properties:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set visibility of chart title."},text:{name:"text",supportedValueType:"String",defaultValue:null,description:"Set chart title text."},alignment:{name:"alignment",supportedValueType:"List",supportedValues:["left","center","right"],defaultValue:"center",description:"Set chart title alignment."}},css:{".viz-title-label":{description:"Define style for the title label.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"16px","font-weight":"bold",fill:"#333333"}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.Viz",version:"4.0.0"},[{qname:"sap.viz.manifest",version:"4.0.0"},{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.base.utils.ObjectUtils",version:"4.0.0"},{qname:"sap.viz.base.utils.TypeUtils",version:"4.0.0"},{qname:"sap.viz.util.Objects",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.lang.langManager",version:"4.0.0"}],function Setup(b,h,e,a,i,l,c,g){function m(n,p){for(var o=0;o<n.length;++o){if(n[o].module.type===p){return n[o]}if(n[o].subModules){var q=m(n[o].subModules,p);if(q){return q}}}return null}function d(o,q){if(!q){return}var p,n;for(p in o){if(o.hasOwnProperty(p)&&q.hasOwnProperty(p)){n=o[p];if(n.supportedValueType==="Object"){d(n.supportedValues,q[p])}else{n.defaultValue=q[p]}}}}function k(o,q){var p,n;for(p in o){if(o.hasOwnProperty(p)){if(o[p]===null){delete o[p];continue}n=o[p];if(q){i.extend(true,n,q[p])}if(n.isExported===false){delete o[p]}else{if(n.supportedValueType==="Object"){k(n.supportedValues,q?q[p]:null);if(a.isEmptyObject(n.supportedValues)){delete o[p]}}}}}}function f(s,q){if(q){var p,o,n,t,r;q.forEach(function(u){if(u.config.configure){r=u.moduleRef;p=u.module.properties;o=u.config.configure.properties;t=u.config.configure.propertyCategory;n=u.config.configure.propertiesOverride;s[t]=i.extend(true,null,p);Object.defineProperties(s[t],{moduleRefPath:{get:(function(v){return function(){return v}}(r)),enumerable:false}});k(s[t],n);d(s[t],o)}f(s,u.subModules)})}}function j(o,n,p,q){if(n){n.forEach(function(s){var B=s.module.feeds;var x=p;var t=q;if(B){var v;var y=B.id;if(y!==undefined){var r=B.configure;v=h.get(y).feedsMap;if(r){v=e.extend(true,null,v,r)}}else{v={};B.forEach(function(C){v[C.id]=C})}var u;for(u in v){if(v.hasOwnProperty(u)){var A=v[u];if(A){A=e.extend(true,null,A);o[u]=A;if(A.type===l.Feed.Type.Dimension){var z=A.aaIndex;z+=p;if(x<z){x=z}A.aaIndex=z;var w=A.acceptMND;if(w>=0){if(q>0){w+=q}if(t<w){t=w}A.acceptMND=w}}}}}if(t>=0){t+=1}}j(o,s.subModules,x,t)})}}return b.registerCategory("viz",function(q){var p=[];var o=q.modules;for(var u in o){if(o.hasOwnProperty(u)){var v=o[u];if(v!==null){b.module.loadModule(p,v,u)}}}var n=q.feeds;var w,r,s=q.name;var t;delete q.name;Object.defineProperties(q,{allFeeds:{value:function(){if(!w){w={};j(w,p,0,-1);e.extend(true,w,n);w=d3.values(w).filter(function(y){return y})}var x=!arguments.length||arguments[0]===false?false:true;if(x===false){if(!r){r=d3.values(w).filter(function(y){if(y.min===0&&y.max===0){return false}else{return true}})}return r}else{return w}}},allProperties:{value:function(){if(!t){t={};f(t,p)}return t}},getChartPropCate:{value:function(){return m(p,"CHART").config.configure.propertyCategory}},name:{get:function(){var x=g.get(s);if(x){return x}return s},enumerable:true}});return q})});sap.riv.module({qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Title",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Legend",version:"4.0.0"},{qname:"sap.viz.modules.manifests.DataLabel",version:"4.0.0"}],function Setup(b){var a={id:"riv/base",name:"IDS_BASECHART","abstract":true,modules:{title:{id:"sap.viz.modules.title",configure:{propertyCategory:"title"}},legend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"legend"}}},dependencies:{}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Background",version:"4.0.0"}],function Setup(b){var a={id:"riv/base/multiple",name:"IDS_BASEMULTIPLECHART",base:"riv/base","abstract":true,modules:{main:{id:"sap.viz.modules.tablecontainer",configure:{propertyCategory:"multiLayout"},modules:{xAxis2:{id:"sap.viz.modules.axis",configure:{description:"Settings for the column axis of multiple charts.",propertyCategory:"columnAxis",properties:{title:{visible:false},gridline:{visible:true},color:"#d8d8d8",type:"category",position:"top"},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},yAxis:{id:"sap.viz.modules.axis",configure:{description:"Settings for the row axis of multiple charts.",propertyCategory:"rowAxis",properties:{type:"category",position:"left",title:{visible:false},color:"#d8d8d8",gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},plot:{id:"sap.viz.modules.xycontainer"}}}}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.geo.MultiChoroplethChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.Choropleth",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_choropleth",name:"IDS_MULTICHOROPLETH",base:"riv/base/multiple",modules:{legend:{id:"sap.viz.modules.legend",configure:{properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left",chartType:"geo"}}},main:{configure:{properties:{mergeDataRange:["featureValues"]}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true},propertiesOverride:{selectability:{selectWithCtrlKey:{isExported:true}},preserveSelectionWhenDragging:{isExported:true}}}},geoController:{id:"sap.viz.modules.geo.geocontroller",configure:{propertyCategory:"geoController",properties:{geoAxisIndex:2}}}},modules:{plot:{id:"sap.viz.modules.geocontainer",configure:{propertyCategory:"geoContainer",properties:{renderFeatureLayer:false,border:{hidden:true}}},modules:{plot:{id:"sap.viz.modules.geo.choropleth",configure:{propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,automaticInOutside:false,isGeoChart:true},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{acceptMND:-1,max:1},featureAnalysis:null},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot.plot",target:"projection",sourceModule:"main.plot",source:"projection"},{targetModule:"main.plot",target:"mapControlsDisabled",sourceModule:"main.geoController",source:"mapControlsDisabled"},{targetModule:"main",target:"featureValuesDataRange",sourceModule:"main.plot.plot",source:"featureValuesDataRange"},{targetModule:"main.plot.plot",target:"featureValuesDataRange",sourceModule:"main",source:"featureValuesDataRange"},{targetModule:"legend",target:"mbcLegendInfo",sourceModule:"main.plot[0].plot",source:"legendScale"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.geoController",listener:"initControls",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main.geoController",listener:"move",sourceModule:"main.plot",type:"move"},{targetModule:"main.plot",listener:"move",sourceModule:"main.geoController",type:"move"},{targetModule:"main.plot.plot",listener:"move",sourceModule:"main.geoController",type:"move"},{targetModule:"main.plot[0]",listener:"resetZoom",sourceModule:"main.geoController",type:"resetZoom"},{targetModule:"main.plot[0]",listener:"zoom",sourceModule:"main.geoController",type:"zoom"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.geoController",type:"move"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.feeds.Scatter",version:"4.0.0"},[{qname:"sap.viz.feeds.Manifest",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"}],function Setup(c,b){var a={id:"scatter",feeds:[{id:"regionColor",name:"Region Color",type:b.Type.Dimension,min:0,max:1,aaIndex:1,acceptMND:-1},{id:"regionShape",name:"Region Shape",type:b.Type.Dimension,min:0,max:1,aaIndex:2,acceptMND:-1},{id:"primaryValues",name:"Primary Values",type:b.Type.Measure,min:1,max:1,mgIndex:1},{id:"secondaryValues",name:"Secondary Values",type:b.Type.Measure,min:1,max:1,mgIndex:2},{id:"bubbleWidth",name:"Bubble Width",type:b.Type.Measure,min:0,max:1,mgIndex:3},{id:"bubbleHeight",name:"Bubble Height",type:b.Type.Measure,min:0,max:1,mgIndex:4}]};c.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.geo.GeoBubble",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoBubble",version:"4.0.0"},{qname:"sap.viz.feeds.Scatter",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.geo.bubble",type:b.Module.Type.Chart,name:"geobubble",data:"DATA STRUCTURE DOC",properties:{tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip."}},isExported:false,description:"Set tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data loading animation of bubble/scatter."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data updating animation of bubble/scatter."}},description:"Set animation of bubble/scatter."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Drawing effect of GeoBubble",isExported:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"geo",configure:{geoFeatures:{min:1}}},css:{".viz-correlation-marker":{description:"Define stroke style for correlation marker.",value:{stroke:"#ffffff","stroke-width":1}},".viz-correlation-marker-selected":{description:"Define stroke style for selcted correlation marker.",value:{stroke:"#333333","stroke-width":1}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.geo.MultiGeoBubbleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.data.feed.Constants",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.XYContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.TableContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Axis",version:"4.0.0"},{qname:"sap.viz.manifests.BaseMultipleChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoBubble",version:"4.0.0"},{qname:"sap.viz.modules.manifests.Tooltip",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"}],function Setup(b){var a={id:"viz/multi_geobubble",name:"IDS_MULTIGEOBUBBLE",base:"riv/base/multiple",modules:{legend:null,tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left",chartType:"geo"}}},sizeLegend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},main:{configure:{properties:{mergeDataRange:["featureValues"]}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mouseup","mouseover","mouseout","touchstart"],selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true},propertiesOverride:{selectability:{selectWithCtrlKey:{isExported:true}},preserveSelectionWhenDragging:{isExported:true}}}},geoController:{id:"sap.viz.modules.geo.geocontroller",configure:{propertyCategory:"geoController",properties:{geoAxisIndex:2}}}},modules:{plot:{id:"sap.viz.modules.geocontainer",configure:{propertyCategory:"geoContainer",properties:{border:{hidden:true}}},modules:{plot:{id:"sap.viz.modules.geo.bubble",configure:{propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,isGeoChart:true},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{acceptMND:-1,max:1},featureAnalysis:null},dependencies:{attributes:[{targetModule:"main.xAxis2",target:"scale",sourceModule:"main",source:"xCategoryScale"},{targetModule:"main.yAxis",target:"scale",sourceModule:"main",source:"yCategoryScale"},{targetModule:"main.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot",target:"mapControlsDisabled",sourceModule:"main.geoController",source:"mapControlsDisabled"},{targetModule:"main.plot",target:"datapointPadding",sourceModule:"main.plot[0].plot",source:"bubbleRadius"},{targetModule:"main",target:"featureValuesDataRange",sourceModule:"main.plot.plot",source:"featureValuesDataRange"},{targetModule:"main.plot.plot",target:"featureValuesDataRange",sourceModule:"main",source:"featureValuesDataRange"},{targetModule:"sizeLegend",target:"sizeLegendInfo",sourceModule:"main.plot[0].plot",source:"sizeLegend"}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main",type:"initialized.interaction"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main",type:"hideTooltip"},{targetModule:"main.geoController",listener:"initControls",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main.geoController",listener:"move",sourceModule:"main.plot",type:"move"},{targetModule:"main.plot",listener:"move",sourceModule:"main.geoController",type:"move"},{targetModule:"main.plot.plot",listener:"move",sourceModule:"main.geoController",type:"move"},{targetModule:"main.plot[0]",listener:"resetZoom",sourceModule:"main.geoController",type:"resetZoom"},{targetModule:"main.plot[0]",listener:"zoom",sourceModule:"main.geoController",type:"zoom"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.plot.plot",type:"initialized.datalabel"},{targetModule:"main.plot.dataLabel",listener:"showLabel",sourceModule:"main.geoController",type:"move"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.geo.ChoroplethChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.Choropleth",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"}],function Setup(b){var a={id:"viz/choropleth",name:"IDS_CHOROPLETH",base:"riv/base",modules:{legend:{id:"sap.viz.modules.legend",configure:{properties:{type:"MeasureBasedColoringLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left",chartType:"geo"}}},main:{id:"sap.viz.modules.geocontainer",configure:{propertyCategory:"geoContainer",properties:{renderFeatureLayer:false}},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true},propertiesOverride:{selectability:{selectWithCtrlKey:{isExported:true}},preserveSelectionWhenDragging:{isExported:true}}}},geoController:{id:"sap.viz.modules.geo.geocontroller",configure:{propertyCategory:"geoController",properties:{geoAxisIndex:1}}}},modules:{plot:{id:"sap.viz.modules.geo.choropleth",configure:{propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,isGeoChart:true,automaticInOutside:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{featureAnalysis:null},dependencies:{attributes:[{targetModule:"main",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot",target:"projection",sourceModule:"main",source:"projection"},{targetModule:"main",target:"mapControlsDisabled",sourceModule:"main.geoController",source:"mapControlsDisabled"},{targetModule:"legend",target:"mbcLegendInfo",sourceModule:"main.plot",source:"legendScale"},{targetModule:"legend",target:"setSelectionMode",sourceModule:"main.interaction",source:"getSelectionMode"}],events:[{targetModule:"main.plot",listener:"move",sourceModule:"main",type:"move"},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.geoController",listener:"initControls",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main",listener:"resetZoom",sourceModule:"main.geoController",type:"resetZoom"},{targetModule:"main",listener:"zoom",sourceModule:"main.geoController",type:"zoom"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main",type:"move"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.modules.manifests.geo.GeoPie",version:"4.0.0"},[{qname:"sap.viz.modules.manifests.Module",version:"4.0.0"},{qname:"sap.viz.Constants",version:"4.0.0"},{qname:"sap.viz.modules.geo.GeoPie",version:"4.0.0"},{qname:"sap.viz.feeds.Scatter",version:"4.0.0"}],function Setup(d,b,c){var a={id:"sap.viz.modules.geo.pie",type:b.Module.Type.Chart,name:"geopie",data:"DATA STRUCTURE DOC",properties:{colorPalette:{name:"colorPalette",supportedValueType:"StringArray",defaultValue:b.SAPColor,description:"Set marker color of bubble."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",defaultValue:true,description:"enabled/disabled tooltip.",isExported:false,},valueFormat:{name:"valueFormat",supportedValueType:"String",defaultValue:"n",description:"Set the number format of measure value in tooltip.",isExported:false,},percentageFormat:{name:"percentageFormat",supportedValueType:"String",defaultValue:".0%",description:"Set the number format of percentage label in tooltip.",isExported:false,},formatString:{name:"formatString",supportedValueType:"StringArray",defaultValue:null,description:"Set format string of tooltip. The first string is applied to value and the second is applied to percentage. ",isExported:true,}},description:"Set tooltip related properties."},animation:{name:"animation",supportedValueType:"Object",supportedValues:{dataLoading:{name:"dataLoading",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data loading animation of bubble/scatter."},dataUpdating:{name:"dataUpdating",supportedValueType:"Boolean",defaultValue:true,description:"enable/disable data updating animation of bubble/scatter."}},description:"Set animation of bubble/scatter."},drawingEffect:{name:"drawingEffect",supportedValueType:"List",supportedValues:["normal","glossy"],defaultValue:"normal",description:"Drawing effect of GeoPie",isExported:true}},events:{initialized:b.Module.Event.Initialized.desc,selectData:b.Module.Event.SelectData.desc,deselectData:b.Module.Event.DeSelectData.desc,showTooltip:b.Module.Event.TooltipShow.desc,hideTooltip:b.Module.Event.TooltipHide.desc},feeds:{id:"geo",configure:{geoFeatures:{min:1}}},css:{".viz-correlation-marker":{description:"Define stroke style for correlation marker.",value:{stroke:"#ffffff","stroke-width":1}},".viz-correlation-marker-selected":{description:"Define stroke style for selcted correlation marker.",value:{stroke:"#333333","stroke-width":1}}},configure:null,fn:c};d.register(a)});sap.riv.module({qname:"sap.viz.manifests.geo.GeoPieChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoPie",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"}],function Setup(b){var a={id:"viz/geopie",name:"IDS_GEOPIE",base:"riv/base",modules:{legend:{data:{aa:[2]},configure:{properties:{type:"BubbleColorLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left",chartType:"geo"},propertiesOverride:{formatString:{isExported:false}}}},sizeLegend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},main:{id:"sap.viz.modules.geocontainer",configure:{propertyCategory:"geoContainer"},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true},propertiesOverride:{selectability:{selectWithCtrlKey:{isExported:true}},preserveSelectionWhenDragging:{isExported:true}}}},geoController:{id:"sap.viz.modules.geo.geocontroller",configure:{propertyCategory:"geoController",properties:{geoAxisIndex:1}}}},modules:{plot:{id:"sap.viz.modules.geo.pie",configure:{propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"polar-coordinate",visible:false,type:"label and value",formatString:[["0.00%"],[]]},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{featureAnalysis:{min:1,max:1}},dependencies:{attributes:[{targetModule:"main",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main",target:"mapControlsDisabled",sourceModule:"main.geoController",source:"mapControlsDisabled"},{targetModule:"main",target:"datapointPadding",sourceModule:"main.plot",source:"bubbleRadius"},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:"legend",target:"data",sourceModule:"main.plot",source:"legendData"},{targetModule:"sizeLegend",target:"sizeLegendInfo",sourceModule:"main.plot",source:"sizeLegend"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.interaction",listener:"highlightedByLegend",sourceModule:"legend",type:"highlightedByLegend"},{targetModule:"legend",listener:"deselectLegend",sourceModule:"main.interaction",type:"deselectLegend"},{targetModule:"main.plot",listener:"move",sourceModule:"main",type:"move"},{targetModule:"main.geoController",listener:"initControls",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main",listener:"resetZoom",sourceModule:"main.geoController",type:"resetZoom"},{targetModule:"main",listener:"zoom",sourceModule:"main.geoController",type:"zoom"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main",type:"move"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.manifests.geo.GeoBubbleChart",version:"4.0.0"},[{qname:"sap.viz.manifests.Viz",version:"4.0.0"},{qname:"sap.viz.manifests.BaseChart",version:"4.0.0"},{qname:"sap.viz.modules.manifests.GeoContainer",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoBubble",version:"4.0.0"},{qname:"sap.viz.modules.manifests.geo.GeoController",version:"4.0.0"}],function Setup(b){var a={id:"viz/geobubble",name:"IDS_GEOBUBBLE",base:"riv/base",modules:{legend:null,tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:"tooltip",properties:{orientation:"left",chartType:"geo"}}},sizeLegend:{id:"sap.viz.modules.legend",configure:{propertyCategory:"sizeLegend",properties:{type:"SizeLegend"},propertiesOverride:{isHierarchical:{isExported:false}}}},main:{id:"sap.viz.modules.geocontainer",configure:{propertyCategory:"geoContainer"},controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{selectability:{mode:"multiple",selectWithCtrlKey:true},preserveSelectionWhenDragging:true},propertiesOverride:{selectability:{selectWithCtrlKey:{isExported:true}},preserveSelectionWhenDragging:{isExported:true}}}},geoController:{id:"sap.viz.modules.geo.geocontroller",configure:{propertyCategory:"geoController",properties:{geoAxisIndex:1}}}},modules:{plot:{id:"sap.viz.modules.geo.bubble",configure:{propertyCategory:"plotArea"}},dataLabel:{id:"sap.viz.modules.datalabel",configure:{propertyCategory:"dataLabel",properties:{paintingMode:"rect-coordinate",visible:false,type:"label and value",isGeoChart:true,automaticInOutside:false,outsideVisible:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{featureAnalysis:null},dependencies:{attributes:[{targetModule:"main",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main.plot",target:"geoDataHandler",sourceModule:"main.geoController",source:"geoDataHandler"},{targetModule:"main",target:"mapControlsDisabled",sourceModule:"main.geoController",source:"mapControlsDisabled"},{targetModule:"main",target:"datapointPadding",sourceModule:"main.plot",source:"bubbleRadius"},{targetModule:"sizeLegend",target:"sizeLegendInfo",sourceModule:"main.plot",source:"sizeLegend"}],events:[{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:"main.plot",listener:"move",sourceModule:"main",type:"move"},{targetModule:"main.geoController",listener:"initControls",sourceModule:"main",type:"initialized.interaction"},{targetModule:"main",listener:"resetZoom",sourceModule:"main.geoController",type:"resetZoom"},{targetModule:"main",listener:"zoom",sourceModule:"main.geoController",type:"zoom"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main.plot",type:"initialized.datalabel"},{targetModule:"main.dataLabel",listener:"showLabel",sourceModule:"main",type:"move"}]}};b.register(a)});sap.riv.module({qname:"sap.viz.extLoad",version:"4.0.0",exported:true},[{qname:"sap.viz.manifests.geo.GeoBubbleChart",version:"4.0.0"},{qname:"sap.viz.manifests.geo.GeoPieChart",version:"4.0.0"},{qname:"sap.viz.manifests.geo.ChoroplethChart",version:"4.0.0"},{qname:"sap.viz.manifests.geo.MultiGeoBubbleChart",version:"4.0.0"},{qname:"sap.viz.manifests.geo.MultiChoroplethChart",version:"4.0.0"}],function Setup(){return});sap.viz.lang.langManager.register({id:"dev",value:{IDS_GEOBUBBLE:"Geo Bubble Chart",IDS_GEOPIE:"Geo Pie Chart",IDS_CHOROPLETH:"Geo Choropleth Chart",IDS_MULTIGEOBUBBLE:"Multiple Geo Bubble Chart",IDS_MULTICHOROPLETH:"Multiple Geo Choropleth Chart",}});